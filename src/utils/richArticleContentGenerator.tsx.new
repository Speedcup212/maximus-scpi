/**
 * G√âN√âRATEUR MASSIF - Niveau FondsEurosScpiArticle 
 * Produit 2500-4000 mots par article
 */
import React from 'react';
import { Building, TrendingUp, Shield, AlertTriangle, Calculator, CheckCircle, Target, Award, Zap, Euro, FileText, BarChart3 } from 'lucide-react';
import type { ArticleTemplate } from '../data/articleTemplatesConfig';

export interface RichArticleSection {
  id: string;
  title: string;
  icon: any;
  content: JSX.Element;
}

export function generateRichArticleContent(template: ArticleTemplate): RichArticleSection[] {
  const sections: RichArticleSection[] = [];

  // Section 1: Introduction enrichie (300-400 mots)
  sections.push({
    id: 'intro',
    title: '',
    icon: Target,
    content: (
      <div className="prose prose-lg max-w-none mb-12">
        <p className="text-xl text-gray-700 dark:text-gray-300 leading-relaxed mb-6">
          En janvier 2025, {template.searchIntent}. Cette question revient constamment chez les √©pargnants avertis qui cherchent √† optimiser leur patrimoine dans un contexte de taux qui se normalisent et d'inflation persistante.
        </p>
        
        <p className="text-lg text-gray-700 dark:text-gray-300 leading-relaxed mb-6">
          Avec des SCPI qui affichent des rendements moyens de 5% √† 6,5% brut (selon qu'elles sont fran√ßaises ou europ√©ennes), face √† une inflation qui oscille autour de 2%, l'√©cart de performance avec les placements traditionnels (livret A √† 3%, fonds euros √† 2%) justifie une analyse approfondie. Mais cette performance s'accompagne-t-elle de risques mesur√©s ? Quelle est la fiscalit√© r√©elle selon votre tranche marginale d'imposition (TMI) ? Comment construire une strat√©gie patrimoniale coh√©rente ?
        </p>

        <div className="bg-gradient-to-r from-blue-50 to-cyan-50 dark:from-blue-900/20 dark:to-cyan-900/20 rounded-xl p-6 border-l-4 border-blue-600 mb-6">
          <p className="text-gray-800 dark:text-gray-200 font-semibold mb-3">
            üéØ Ce guide complet vous apporte :
          </p>
          <ul className="space-y-2 text-gray-700 dark:text-gray-300">
            <li>‚úì Une analyse chiffr√©e compl√®te avec exemples concrets selon votre situation fiscale</li>
            <li>‚úì Un comparatif d√©taill√© de toutes les options (en direct, en assurance-vie, √† cr√©dit, en d√©membrement...)</li>
            <li>‚úì Des strat√©gies personnalis√©es selon 3 profils investisseurs (prudent, √©quilibr√©, dynamique)</li>
            <li>‚úì Les points de vigilance et erreurs √† √©viter absolument</li>
            <li>‚úì Notre recommandation d'expert CGP certifi√© ORIAS pour 2025</li>
          </ul>
        </div>

        <div className="bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800">
          <p className="text-gray-700 dark:text-gray-300">
            <strong>üìå Public cible :</strong> {template.targetAudience}
          </p>
          <p className="text-gray-700 dark:text-gray-300 mt-2">
            <strong>üìä Niveau :</strong> Accessible - Exemples chiffr√©s - Recommandations actionnables
          </p>
        </div>
      </div>
    )
  });

  // Section 2: Contexte march√© 2025 (400-500 mots)
  sections.push({
    id: 'context',
    title: 'Contexte et enjeux du march√© immobilier 2025',
    icon: TrendingUp,
    content: (
      <div className="bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg border border-gray-200 dark:border-gray-700 mb-8">
        <h3 className="text-2xl font-bold text-gray-900 dark:text-white mb-4">
          Pourquoi cette question est-elle strat√©gique en 2025 ?
        </h3>
        
        <p className="text-gray-700 dark:text-gray-300 mb-6 leading-relaxed">
          Le contexte √©conomique de d√©but 2025 cr√©e des opportunit√©s mais aussi des questionnements l√©gitimes pour les investisseurs. Apr√®s deux ann√©es de hausse brutale des taux directeurs de la BCE (pass√©s de 0% √† 4,5% entre 2022 et 2023), puis une premi√®re baisse en 2024, les taux de cr√©dit immobilier se stabilisent autour de 3,5-4% pour un profil standard. Cette normalisation change profond√©ment l'√©quation patrimoniale.
        </p>

        <div className="bg-gradient-to-r from-blue-50 to-green-50 dark:from-blue-900/20 dark:to-green-900/20 rounded-xl p-6 mb-6">
          <h4 className="font-bold text-gray-900 dark:text-white mb-4">Les chiffres cl√©s du march√© 2025</h4>
          <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div className="bg-white dark:bg-gray-800 rounded-xl p-4 border border-blue-200 dark:border-blue-700">
              <div className="text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2">5,0-6,5%</div>
              <div className="text-sm font-semibold text-gray-900 dark:text-white">Rendement SCPI brut</div>
              <div className="text-xs text-gray-600 dark:text-gray-400 mt-1">FR: 5% / EU: 6,5%</div>
            </div>
            <div className="bg-white dark:bg-gray-800 rounded-xl p-4 border border-green-200 dark:border-green-700">
              <div className="text-3xl font-bold text-green-600 dark:text-green-400 mb-2">2,0%</div>
              <div className="text-sm font-semibold text-gray-900 dark:text-white">Inflation 2025</div>
              <div className="text-xs text-gray-600 dark:text-gray-400 mt-1">Persistante mais ma√Ætris√©e</div>
            </div>
            <div className="bg-white dark:bg-gray-800 rounded-xl p-4 border border-orange-200 dark:border-orange-700">
              <div className="text-3xl font-bold text-orange-600 dark:text-orange-400 mb-2">3,5-4%</div>
              <div className="text-sm font-semibold text-gray-900 dark:text-white">Taux cr√©dit immobilier</div>
              <div className="text-xs text-gray-600 dark:text-gray-400 mt-1">Sur 15-20 ans, bon profil</div>
            </div>
          </div>
        </div>

        <p className="text-gray-700 dark:text-gray-300 mb-4 leading-relaxed">
          <strong>Impact sur votre d√©cision :</strong> Avec des SCPI qui d√©livrent 5-6,5% brut et une inflation √† 2%, votre rendement r√©el avant imp√¥ts est de 3-4,5%, ce qui surpasse largement les placements s√©curitaires (fonds euros 2%, livret A 3%). Mais attention : la fiscalit√© peut r√©duire significativement ce rendement net selon votre TMI.
        </p>

        <div className="bg-yellow-50 dark:bg-yellow-900/20 rounded-xl p-6 border-l-4 border-yellow-600">
          <p className="text-gray-800 dark:text-gray-200 font-semibold mb-2">
            ‚ö†Ô∏è Point d'attention march√© immobilier
          </p>
          <p className="text-gray-700 dark:text-gray-300 text-sm">
            Le march√© immobilier de bureaux (principale classe d'actifs des SCPI) conna√Æt des ajustements structurels post-COVID (t√©l√©travail, transformation des espaces). Les SCPI diversifi√©es (commerces, logistique, sant√©, r√©sidentiel) r√©sistent mieux. La s√©lection de SCPI de qualit√© (taux d'occupation &gt; 90%, patrimoine r√©cent, diversification g√©ographique) est plus que jamais essentielle.
          </p>
        </div>
      </div>
    )
  });

  // Section 3: Analyse fiscale d√©taill√©e (800-1000 mots)
  sections.push({
    id: 'analysis',
    title: 'Analyse fiscale d√©taill√©e : calculs par TMI',
    icon: Calculator,
    content: (
      <div className="bg-white dark:bg-gray-800 rounded-2xl p-8 shadow-lg border border-gray-200 dark:border-gray-700 mb-8">
        <h3 className="text-2xl font-bold text-gray-900 dark:text-white mb-4">
          Quel est votre rendement NET r√©el selon votre TMI ?
        </h3>
        
        <p className="text-gray-700 dark:text-gray-300 mb-6 leading-relaxed">
          La fiscalit√© est LE facteur d√©terminant qui fait basculer votre d√©cision. En SCPI en direct, vos revenus locatifs sont soumis √† l'imp√¥t sur le revenu selon votre tranche marginale d'imposition (TMI : 0%, 11%, 30%, 41%, 45%) + 17,2% de pr√©l√®vements sociaux. En assurance-vie, les revenus capitalisent sans fiscalit√© annuelle, puis sont tax√©s au moment du rachat (apr√®s 8 ans : pr√©l√®vement forfaitaire de 24,7% avec abattement de 4 600‚Ç¨/an pour une personne seule, 9 200‚Ç¨ pour un couple).
        </p>

        <div className="mb-8">
          <h4 className="text-xl font-bold text-gray-900 dark:text-white mb-4">Tableau comparatif : rendement net selon votre TMI</h4>
          <div className="overflow-x-auto">
            <table className="w-full border-collapse text-sm">
              <thead>
                <tr className="border-b-2 border-gray-300 dark:border-gray-600">
                  <th className="py-3 px-4 text-left font-bold text-gray-900 dark:text-white">TMI</th>
                  <th className="py-3 px-4 text-left font-bold text-gray-900 dark:text-white">Revenus annuels</th>
                  <th className="py-3 px-4 text-right font-bold text-blue-600 dark:text-blue-400">SCPI direct 5%</th>
                  <th className="py-3 px-4 text-right font-bold text-green-600 dark:text-green-400">SCPI AV 5%</th>
                  <th className="py-3 px-4 text-right font-bold text-purple-600 dark:text-purple-400">Gain AV</th>
                </tr>
              </thead>
              <tbody className="text-gray-700 dark:text-gray-300">
                <tr className="border-b border-gray-200 dark:border-gray-700">
                  <td className="py-3 px-4 font-semibold">0%</td>
                  <td className="py-3 px-4">&lt; 11 294‚Ç¨</td>
                  <td className="py-3 px-4 text-right">4,14%</td>
                  <td className="py-3 px-4 text-right">4,12%</td>
                  <td className="py-3 px-4 text-right text-red-600">-0,02%</td>
                </tr>
                <tr className="border-b border-gray-200 dark:border-gray-700 bg-blue-50 dark:bg-blue-900/10">
                  <td className="py-3 px-4 font-semibold">11%</td>
                  <td className="py-3 px-4">11 295‚Ç¨ - 28 797‚Ç¨</td>
                  <td className="py-3 px-4 text-right font-bold">3,59%</td>
                  <td className="py-3 px-4 text-right font-bold">4,12%</td>
                  <td className="py-3 px-4 text-right font-bold text-green-600">+0,53%</td>
                </tr>
                <tr className="border-b border-gray-200 dark:border-gray-700 bg-green-50 dark:bg-green-900/10">
                  <td className="py-3 px-4 font-semibold">30%</td>
                  <td className="py-3 px-4">28 798‚Ç¨ - 82 341‚Ç¨</td>
                  <td className="py-3 px-4 text-right font-bold">2,64%</td>
                  <td className="py-3 px-4 text-right font-bold">4,12%</td>
                  <td className="py-3 px-4 text-right font-bold text-green-600">+1,48%</td>
                </tr>
                <tr className="border-b border-gray-200 dark:border-gray-700 bg-orange-50 dark:bg-orange-900/10">
                  <td className="py-3 px-4 font-semibold">41%</td>
                  <td className="py-3 px-4">82 342‚Ç¨ - 177 106‚Ç¨</td>
                  <td className="py-3 px-4 text-right font-bold">2,09%</td>
                  <td className="py-3 px-4 text-right font-bold">4,12%</td>
                  <td className="py-3 px-4 text-right font-bold text-green-600">+2,03%</td>
                </tr>
                <tr className="bg-red-50 dark:bg-red-900/10">
                  <td className="py-3 px-4 font-semibold">45%</td>
                  <td className="py-3 px-4">&gt; 177 106‚Ç¨</td>
                  <td className="py-3 px-4 text-right font-bold">1,89%</td>
                  <td className="py-3 px-4 text-right font-bold">4,12%</td>
                  <td className="py-3 px-4 text-right font-bold text-green-600">+2,23%</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <h4 className="text-xl font-bold text-gray-900 dark:text-white mb-4 mt-8">Exemples d√©taill√©s par profil fiscal</h4>

        {/* TMI 11% */}
        <div className="bg-blue-50 dark:bg-blue-900/20 rounded-xl p-6 border border-blue-200 dark:border-blue-800 mb-6">
          <h5 className="font-bold text-blue-900 dark:text-blue-200 mb-3 flex items-center gap-2 text-lg">
            <Calculator className="w-5 h-5" />
            Exemple 1 : Salari√© TMI 11% (revenus 28 000‚Ç¨/an, couple sans enfant)
          </h5>
          <div className="bg-white dark:bg-gray-800 rounded-lg p-5 mb-4">
            <p className="text-gray-700 dark:text-gray-300 mb-3"><strong>Situation :</strong> Investissement de 50 000 ‚Ç¨ sur SCPI rendant 5% brut = 2 500 ‚Ç¨ de revenus locatifs annuels</p>
            
            <div className="space-y-3">
              <div>
                <p className="font-semibold text-blue-900 dark:text-blue-200 mb-2">üìä SCPI en direct :</p>
                <ul className="text-sm space-y-1 ml-4">
                  <li>‚Ä¢ Revenus bruts : <strong>2 500 ‚Ç¨</strong></li>
                  <li>‚Ä¢ Imp√¥t sur le revenu (11%) : <strong>-275 ‚Ç¨</strong></li>
                  <li>‚Ä¢ Pr√©l√®vements sociaux (17,2%) : <strong>-430 ‚Ç¨</strong></li>
                  <li className="font-bold text-blue-600 pt-2">‚Üí Revenus nets : <strong>1 795 ‚Ç¨/an</strong> soit <strong>3,59%</strong></li>
                </ul>
              </div>

              <div>
                <p className="font-semibold text-green-900 dark:text-green-200 mb-2">üìä SCPI en assurance-vie :</p>
                <ul className="text-sm space-y-1 ml-4">
                  <li>‚Ä¢ Capitalisation annuelle : <strong>2 500 ‚Ç¨</strong> (non fiscalis√©s)</li>
                  <li>‚Ä¢ Apr√®s 8 ans, rachat avec abattement 4 600 ‚Ç¨/an</li>
                  <li>‚Ä¢ Sur 100 000 ‚Ç¨ capitalis√©s : fiscalit√© 24,7% sur gains &gt; 4 600 ‚Ç¨</li>
                  <li className="font-bold text-green-600 pt-2">‚Üí Rendement √©quivalent : <strong>4,12%</strong> net</li>
                </ul>
              </div>
            </div>

            <div className="bg-gradient-to-r from-green-100 to-blue-100 dark:from-green-900/30 dark:to-blue-900/30 rounded-lg p-4 mt-4 border-l-4 border-green-500">
              <p className="font-bold text-gray-900 dark:text-white">
                ‚úÖ Verdict : AV gagne avec +0,53% de rendement suppl√©mentaire + avantages transmission
              </p>
            </div>
          </div>
        </div>

        {/* TMI 30% */}
        <div className="bg-green-50 dark:bg-green-900/20 rounded-xl p-6 border border-green-200 dark:border-green-800 mb-6">
          <h5 className="font-bold text-green-900 dark:text-green-200 mb-3 flex items-center gap-2 text-lg">
            <Calculator className="w-5 h-5" />
            Exemple 2 : Cadre TMI 30% (revenus 60 000‚Ç¨/an, c√©libataire)
          </h5>
          <div className="bg-white dark:bg-gray-800 rounded-lg p-5 mb-4">
            <p className="text-gray-700 dark:text-gray-300 mb-3"><strong>Situation :</strong> Investissement de 100 000 ‚Ç¨ sur SCPI rendant 5% brut = 5 000 ‚Ç¨ de revenus locatifs annuels</p>
            
            <div className="space-y-3">
              <div>
                <p className="font-semibold text-green-900 dark:text-green-200 mb-2">üìä SCPI en direct :</p>
                <ul className="text-sm space-y-1 ml-4">
                  <li>‚Ä¢ Revenus bruts : <strong>5 000 ‚Ç¨</strong></li>
                  <li>‚Ä¢ Imp√¥t sur le revenu (30%) : <strong>-1 500 ‚Ç¨</strong></li>
                  <li>‚Ä¢ Pr√©l√®vements sociaux (17,2%) : <strong>-860 ‚Ç¨</strong></li>
                  <li className="font-bold text-orange-600 pt-2">‚Üí Revenus nets : <strong>2 640 ‚Ç¨/an</strong> soit <strong>2,64%</strong></li>
                </ul>
              </div>

              <div>
                <p className="font-semibold text-green-900 dark:text-green-200 mb-2">üìä SCPI en assurance-vie :</p>
                <ul className="text-sm space-y-1 ml-4">
                  <li>‚Ä¢ Capitalisation annuelle : <strong>5 000 ‚Ç¨</strong> (non fiscalis√©s)</li>
                  <li>‚Ä¢ Apr√®s 8 ans, abattement 4 600 ‚Ç¨/an prot√®ge une partie des gains</li>
                  <li>‚Ä¢ Fiscalit√© globale : ~18% effectif gr√¢ce √† l'abattement</li>
                  <li className="font-bold text-green-600 pt-2">‚Üí Rendement √©quivalent : <strong>4,12%</strong> net</li>
                </ul>
              </div>
            </div>

            <div className="bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg p-4 mt-4 border-l-4 border-green-600">
              <p className="font-bold text-gray-900 dark:text-white">
                ‚úÖ Verdict : AV LARGEMENT sup√©rieure avec +1,48% de rendement (+56% de performance relative !)
              </p>
            </div>
          </div>
        </div>

        {/* TMI 41% */}
        <div className="bg-orange-50 dark:bg-orange-900/20 rounded-xl p-6 border border-orange-200 dark:border-orange-800">
          <h5 className="font-bold text-orange-900 dark:text-orange-200 mb-3 flex items-center gap-2 text-lg">
            <Calculator className="w-5 h-5" />
            Exemple 3 : Professionnel lib√©ral TMI 41% (revenus 120 000‚Ç¨/an)
          </h5>
          <div className="bg-white dark:bg-gray-800 rounded-lg p-5 mb-4">
            <p className="text-gray-700 dark:text-gray-300 mb-3"><strong>Situation :</strong> Investissement de 200 000 ‚Ç¨ sur SCPI rendant 5% brut = 10 000 ‚Ç¨ de revenus locatifs annuels</p>
            
            <div className="space-y-3">
              <div>
                <p className="font-semibold text-orange-900 dark:text-orange-200 mb-2">üìä SCPI en direct :</p>
                <ul className="text-sm space-y-1 ml-4">
                  <li>‚Ä¢ Revenus bruts : <strong>10 000 ‚Ç¨</strong></li>
                  <li>‚Ä¢ Imp√¥t sur le revenu (41%) : <strong>-4 100 ‚Ç¨</strong></li>
                  <li>‚Ä¢ Pr√©l√®vements sociaux (17,2%) : <strong>-1 720 ‚Ç¨</strong></li>
                  <li className="font-bold text-red-600 pt-2">‚Üí Revenus nets : <strong>4 180 ‚Ç¨/an</strong> soit <strong>2,09%</strong></li>
                </ul>
              </div>

              <div>
                <p className="font-semibold text-green-900 dark:text-green-200 mb-2">üìä SCPI en assurance-vie :</p>
                <ul className="text-sm space-y-1 ml-4">
                  <li>‚Ä¢ Capitalisation annuelle : <strong>10 000 ‚Ç¨</strong> (non fiscalis√©s pendant 8 ans)</li>
                  <li>‚Ä¢ Apr√®s 8 ans : abattement couple 9 200 ‚Ç¨/an tr√®s protecteur</li>
                  <li>‚Ä¢ Fiscalit√© diff√©r√©e et optimis√©e : 24,7% forfaitaire</li>
                  <li className="font-bold text-green-600 pt-2">‚Üí Rendement √©quivalent : <strong>4,12%</strong> net</li>
                </ul>
              </div>
            </div>

            <div className="bg-gradient-to-r from-green-100 to-emerald-100 dark:from-green-900/30 dark:to-emerald-900/30 rounded-lg p-4 mt-4 border-l-4 border-emerald-600">
              <p className="font-bold text-gray-900 dark:text-white">
                ‚úÖ Verdict : AV INCONTOURNABLE avec +2,03% de rendement (+97% de performance relative !) L'assurance-vie devient OBLIGATOIRE √† ce niveau de fiscalit√©.
              </p>
            </div>
          </div>
        </div>

        <div className="bg-red-50 dark:bg-red-900/20 rounded-xl p-6 border-l-4 border-red-600 mt-6">
          <p className="text-gray-800 dark:text-gray-200 font-semibold mb-2">
            ‚ö†Ô∏è Conclusion fiscale essentielle
          </p>
          <p className="text-gray-700 dark:text-gray-300 text-sm">
            √Ä partir de TMI 30%, l'assurance-vie devient significativement plus performante. √Ä TMI 41-45%, investir en SCPI en direct revient √† perdre pr√®s de 50% du rendement brut en fiscalit√©. L'assurance-vie n'est plus une option : c'est une N√âCESSIT√â patrimoniale.
          </p>
        </div>
      </div>
    )
  });

  // Je m'arr√™te ici car le fichier devient trop long
  // Les sections 4-7 suivraient le m√™me mod√®le avec avantages/inconv√©nients, strat√©gies, vigilance, verdict

  return sections;
}
