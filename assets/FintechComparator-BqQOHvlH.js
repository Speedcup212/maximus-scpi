import{r as g,j as e}from"./index-CRFhanc3.js";import{i as H,y as re,T as J,k as yt,a as xe,m as wt,l as Ct,_ as kt,$ as Rt,B as St,X as ie,E as Oe,b as ee,A as Te,D as W,a0 as Le,N as pe,S as ne,c as De,F as Ft,a1 as Ne,M as Pt,C as It,a2 as Mt,o as We,v as He,a3 as Lt}from"./App-CTFBvRA4.js";import{s as lt}from"./scpiData-D5apm83g.js";import{g as Ve}from"./yieldDisplay-BzuhiPUh.js";import{C as $e}from"./check-SNuCNdd5.js";import{S as Ee}from"./sparkles-CpB-K89m.js";import{C as Dt}from"./chevron-up-C51G6gCf.js";import{P as Ge}from"./plus-Cq-lZNKz.js";import{E as At}from"./EricAvatar-eZdYBiSd.js";import{T as Ot}from"./trash-2-B8yRvSX7.js";import{R as me,C as rt,X as nt,Y as it,T as ue}from"./CartesianChart-B2qU--T2.js";import{B as Tt,a as $t,C as ye}from"./BarChart-BnML-akf.js";import{P as he}from"./pie-chart-DGhMTMoo.js";import{P as we,a as Ce}from"./PieChart-Bsp7G2YJ.js";import{S as qt}from"./shopping-bag-CJjhWFLq.js";import{a as zt,b as Vt,e as Et,d as Gt,f as Bt}from"./scpiAnalysis-Dsob_hjA.js";import{T as qe}from"./trending-down-JWzkAJjf.js";import{C as Ke}from"./check-circle-2-DROhwZzU.js";import{C as Pe}from"./calendar-K9MhvfDo.js";import{A as _t,a as Ue}from"./AreaChart-CaubXm77.js";import{L as Yt}from"./Legend-C64z-WHA.js";import{P as ot}from"./PieChart-DXIk6Jlc.js";import{L as Ae}from"./lightbulb-BbdhZdTO.js";import{C as Wt}from"./ComparisonWarning-Bm_jRqDo.js";import{C as Ht}from"./chevron-right-VEyyKw9Z.js";import"./getRadiusAndStrokeWidthFromDot-BXfYB6Cy.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=H("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=H("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=H("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=H("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=H("Newspaper",[["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-2 2Zm0 0a2 2 0 0 1-2-2v-9c0-1.1.9-2 2-2h2",key:"7pis2x"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M10 6h8v4h-8V6Z",key:"smlsk5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qt=H("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=H("Shuffle",[["path",{d:"M2 18h1.4c1.3 0 2.5-.6 3.3-1.7l6.1-8.6c.7-1.1 2-1.7 3.3-1.7H22",key:"1wmou1"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 6h1.9c1.5 0 2.9.9 3.6 2.2",key:"10bdb2"}],["path",{d:"M22 18h-5.9c-1.3 0-2.6-.7-3.3-1.8l-.5-.8",key:"vgxac0"}],["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=H("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=H("Sliders",[["line",{x1:"4",x2:"4",y1:"21",y2:"14",key:"1p332r"}],["line",{x1:"4",x2:"4",y1:"10",y2:"3",key:"gb41h5"}],["line",{x1:"12",x2:"12",y1:"21",y2:"12",key:"hf2csr"}],["line",{x1:"12",x2:"12",y1:"8",y2:"3",key:"1kfi7u"}],["line",{x1:"20",x2:"20",y1:"21",y2:"16",key:"1lhrwl"}],["line",{x1:"20",x2:"20",y1:"12",y2:"3",key:"16vvfq"}],["line",{x1:"2",x2:"6",y1:"14",y2:"14",key:"1uebub"}],["line",{x1:"10",x2:"14",y1:"8",y2:"8",key:"1yglbp"}],["line",{x1:"18",x2:"22",y1:"16",y2:"16",key:"1jxqpz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ve=H("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=H("TreePine",[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]]),dt=g.createContext(void 0),ss=({children:s})=>{const[l,t]=g.useState(5e4),[d,m]=g.useState({}),c=g.useCallback((i,j)=>{m(o=>({...o,[i]:Math.max(0,Math.min(100,j))}))},[]),u=g.useCallback(i=>{if(i.length===0)return;const j=100/i.length,o={};i.forEach(P=>{o[P.id]=j}),m(o)},[]),p=g.useCallback(i=>{if(i.length===0)return 0;const j=i.reduce((P,k)=>P+(d[k.id]||0),0);return j===0?0:i.reduce((P,k)=>{const $=d[k.id]||0;return P+k.yield*$},0)/j},[d]),v=g.useCallback(i=>{const j=p(i);return l*j/100/12},[l,p]),D=g.useCallback(i=>{const j=p(i);return l*j/100*10},[l,p]),R=g.useCallback(i=>i.map(j=>({scpiId:j.id,weight:d[j.id]||0,amount:l*(d[j.id]||0)/100})),[d,l]);return e.jsx(dt.Provider,{value:{totalInvestment:l,setTotalInvestment:t,weights:d,setWeight:c,distributeEqually:u,getWeightedYield:p,getMonthlyRevenue:v,getTenYearProjection:D,getAllocationDetails:R},children:s})},be=()=>{const s=g.useContext(dt);if(!s)throw new Error("useAllocation must be used within AllocationProvider");return s},Be=s=>s.geography.filter(t=>{const d=t.name.toLowerCase();return d.includes("france")||d.includes("paris")||d.includes("r√©gion")}).reduce((t,d)=>t+d.value,0)<50,ct=(s,l,t)=>{if(l===null)return s;if(t)return s*.85;{const m=l/100+.172;return s*(1-m)}},Ie=s=>s!==null&&s>=30,Ze=(s,l)=>Ie(l)&&Be(s)?100:0,as=(s,l,t)=>{const d=[...s];return Ie(l)?d.sort((m,c)=>{const u=Ze(m,l),p=Ze(c,l);return u!==p?p-u:t==="yield"?c.yield-m.yield:m.price-c.price}):d.sort((m,c)=>t==="yield"?c.yield-m.yield:m.price-c.price),d},Qe=({scpi:s,isSelected:l,onToggleSelect:t,onAnalyze:d,userTmi:m=null,onGuidedJourneyClick:c})=>{const[u,p]=g.useState(!1),v=Be(s),D=Ie(m)&&v;m!==null&&ct(s.yield,m,v);const R=N=>{const y=N.toLowerCase();return y.includes("sant√©")||y.includes("ehpad")?wt:y.includes("r√©sidentiel")||y.includes("habitation")?Ct:y.includes("commerce")||y.includes("retail")?kt:y.includes("logistique")||y.includes("entrep√¥t")?Qt:y.includes("bureau")?Rt:y.includes("h√¥tel")||y.includes("tourisme")?St:y.includes("√©ducation")||y.includes("√©cole")?re:ts},i=N=>{const y=N.toLowerCase();return y.includes("sant√©")||y.includes("ehpad")?{bg:"bg-pink-500/10",text:"text-pink-400",border:"border-pink-500/30",icon:"text-pink-400"}:y.includes("r√©sidentiel")||y.includes("habitation")?{bg:"bg-green-500/10",text:"text-green-400",border:"border-green-500/30",icon:"text-green-400"}:y.includes("commerce")||y.includes("retail")?{bg:"bg-orange-500/10",text:"text-orange-400",border:"border-orange-500/30",icon:"text-orange-400"}:y.includes("logistique")||y.includes("entrep√¥t")?{bg:"bg-amber-500/10",text:"text-amber-400",border:"border-amber-500/30",icon:"text-amber-400"}:y.includes("bureau")?{bg:"bg-blue-500/10",text:"text-blue-400",border:"border-blue-500/30",icon:"text-blue-400"}:y.includes("h√¥tel")||y.includes("tourisme")?{bg:"bg-purple-500/10",text:"text-purple-400",border:"border-purple-500/30",icon:"text-purple-400"}:{bg:"bg-slate-500/10",text:"text-slate-400",border:"border-slate-500/30",icon:"text-slate-400"}},j=N=>({Diversifi√©e:"bg-blue-500/20 text-blue-400 border-blue-500/30",R√©sidentiel:"bg-green-500/20 text-green-400 border-green-500/30",Sant√©:"bg-pink-500/20 text-pink-400 border-pink-500/30",Bureaux:"bg-blue-500/20 text-blue-400 border-blue-500/30",Europ√©enne:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",Logistique:"bg-amber-500/20 text-amber-400 border-amber-500/30"})[N]||"bg-slate-500/20 text-slate-400 border-slate-500/30",o=s.sectors&&s.sectors.length>0?[...s.sectors].sort((N,y)=>y.value-N.value):[],P=o.slice(0,3),k=o.length>0?o[0]:null,$=v?"bg-gradient-to-br from-blue-700 to-blue-500":"bg-gradient-to-br from-emerald-600 to-emerald-500";return e.jsxs("div",{className:`bg-slate-800 rounded-2xl overflow-hidden transition-all duration-300 border-2 ${l?"border-orange-500 shadow-xl shadow-orange-500/20":"border-slate-700 hover:border-slate-600"}`,children:[e.jsxs("div",{className:`p-3 border-b transition-colors ${l?"bg-orange-500/10 border-orange-500/30":"bg-slate-900/50 border-slate-700"}`,children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-1",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-700 flex items-center justify-center",children:e.jsx(re,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-white leading-tight",children:s.name}),e.jsx("p",{className:"text-xs text-slate-400",children:s.managementCompany})]})]}),l&&e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-orange-500 text-white rounded-full text-xs font-bold",children:[e.jsx($e,{className:"w-3 h-3"}),e.jsx("span",{children:"Choisie"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[k?e.jsxs("span",{className:`inline-block px-2 py-0.5 rounded-lg text-xs font-semibold border ${i(k.name).bg} ${i(k.name).text} ${i(k.name).border}`,children:[k.name," ",k.value.toFixed(0),"%"]}):e.jsx("span",{className:`inline-block px-2 py-0.5 rounded-lg text-xs font-semibold border ${j(s.category)}`,children:s.category}),D&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-lg text-xs font-bold bg-amber-500/20 text-amber-400 border border-amber-500/30",children:[e.jsx(Ee,{className:"w-3 h-3"}),"Optimis√© TMI ",m,"%+"]})]})]}),(()=>{const N=Ve(s);return e.jsx("div",{className:`${$} p-4 text-white`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-medium text-emerald-100 uppercase tracking-wide mb-0.5",children:N.primaryLabel}),e.jsxs("p",{className:"text-4xl font-bold",children:[N.primaryValue.toFixed(2),"%"]}),N.secondaryValue&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-emerald-400/30",children:[e.jsx("p",{className:"text-xs font-medium text-emerald-100 uppercase tracking-wide mb-0.5",children:N.secondaryLabel}),e.jsxs("p",{className:"text-2xl font-bold text-emerald-50",children:[N.secondaryValue.toFixed(2),"%"]})]}),N.netNotAvailable&&e.jsx("div",{className:"mt-2 pt-2 border-t border-amber-400/30",children:e.jsx("p",{className:"text-xs text-amber-100 font-medium",children:"‚ö†Ô∏è Taux net non communiqu√©"})}),u&&e.jsx("div",{className:"mt-2 pt-2 border-t border-emerald-400/20",children:e.jsx("p",{className:"text-[10px] text-emerald-100/80 leading-tight",children:N.legalNotice})})]}),e.jsx(J,{className:"w-12 h-12 text-emerald-200 opacity-40"})]})})})(),e.jsxs("div",{className:"p-3 grid grid-cols-2 gap-3 bg-slate-900/30",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-0.5",children:"Prix de la part"}),e.jsxs("p",{className:"text-lg font-bold text-white",children:[s.price,"‚Ç¨"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-400 mb-0.5",children:"Investissement min."}),e.jsxs("p",{className:"text-lg font-bold text-white",children:[s.minInvestment.toLocaleString("fr-FR"),"‚Ç¨"]})]})]}),u&&e.jsxs("div",{className:"p-3 bg-slate-900/50 border-t border-slate-700 space-y-3",children:[e.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 border border-slate-700",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-400 uppercase tracking-wide mb-2",children:"Secteurs Principaux"}),e.jsx("div",{className:"space-y-1.5",children:P.map(N=>{const y=R(N.name),q=i(N.name);return e.jsxs("div",{className:`flex items-center gap-2 px-2 py-1.5 rounded-lg border ${q.bg} ${q.border}`,children:[e.jsx(y,{className:`w-4 h-4 ${q.icon} flex-shrink-0`}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsx("span",{className:`text-xs font-medium ${q.text}`,children:N.name})}),e.jsxs("span",{className:`text-xs font-bold ${q.text}`,children:[N.value.toFixed(0),"%"]})]},N.name)})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"bg-slate-800 rounded-lg p-2.5 border border-slate-700",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-0.5",children:"Taux d'occupation"}),e.jsxs("p",{className:"text-base font-bold text-white",children:[s.tof,"%"]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg p-2.5 border border-slate-700",children:[e.jsx("p",{className:"text-xs text-slate-400 mb-0.5",children:"Capitalisation"}),e.jsx("p",{className:"text-base font-bold text-white",children:s.capitalization})]})]}),o.length>3&&e.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 border border-slate-700",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-400 mb-2 uppercase tracking-wide",children:"Tous les Secteurs"}),e.jsx("div",{className:"space-y-1",children:o.map(N=>{const y=R(N.name),q=i(N.name);return e.jsxs("div",{className:"flex items-center justify-between py-1",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(y,{className:`w-3.5 h-3.5 ${q.icon}`}),e.jsx("span",{className:"text-xs text-slate-300",children:N.name})]}),e.jsxs("span",{className:`text-xs font-bold ${q.text}`,children:[N.value.toFixed(1),"%"]})]},N.name)})})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg p-3 border border-slate-700",children:[e.jsx("p",{className:"text-xs font-semibold text-slate-400 mb-2",children:"Strat√©gie"}),e.jsx("p",{className:"text-sm text-slate-300 leading-relaxed",children:s.strategy})]})]}),e.jsx("button",{onClick:()=>p(!u),className:"w-full py-2 px-3 flex items-center justify-center gap-2 text-xs font-medium text-slate-300 hover:bg-slate-700/50 transition-colors border-t border-slate-700",children:u?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Voir moins"}),e.jsx(Dt,{className:"w-3.5 h-3.5"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Voir plus de d√©tails"}),e.jsx(yt,{className:"w-3.5 h-3.5"})]})}),e.jsxs("div",{className:"p-3 space-y-2 bg-slate-900/30",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsx("button",{onClick:t,className:`py-2.5 px-3 rounded-xl font-bold text-sm transition-all flex items-center justify-center gap-2 ${l?"bg-amber-500 hover:bg-amber-600 text-white shadow-lg shadow-amber-500/30":"bg-amber-500 hover:bg-amber-600 text-white shadow-lg shadow-amber-500/20"} active:scale-95`,children:l?e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"w-4 h-4"}),e.jsx("span",{children:"Choisie"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Ajouter"})]})}),e.jsxs("button",{onClick:d,className:"py-2.5 px-3 bg-slate-700 hover:bg-slate-600 border border-slate-600 hover:border-slate-500 text-white rounded-xl font-semibold text-sm transition-all flex items-center justify-center gap-2 active:scale-95",children:[e.jsx(xe,{className:"w-4 h-4"}),e.jsx("span",{children:"Analyser"})]})]}),c&&e.jsxs("button",{onClick:c,className:"w-full py-2 px-3 text-xs font-medium text-emerald-400 hover:text-emerald-300 hover:bg-emerald-500/10 rounded-lg transition-all flex items-center justify-center gap-1.5 border border-emerald-500/20 hover:border-emerald-500/40",children:[e.jsx("span",{children:"üëâ"}),e.jsx("span",{children:"Je pr√©f√®re √™tre guid√©"})]})]})]})},ls=({scpi:s,isSelected:l,onToggleSelect:t,onAnalyze:d,userTmi:m=null,onGuidedJourneyClick:c})=>{const u=Be(s),p=Ie(m)&&u;m!==null&&ct(s.yield,m,u);const v=i=>({Diversifi√©e:"bg-blue-500/20 text-blue-400 border-blue-500/30",R√©sidentiel:"bg-green-500/20 text-green-400 border-green-500/30",Sant√©:"bg-pink-500/20 text-pink-400 border-pink-500/30",Bureaux:"bg-blue-500/20 text-blue-400 border-blue-500/30",Europ√©enne:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",Logistique:"bg-amber-500/20 text-amber-400 border-amber-500/30"})[i]||"bg-slate-500/20 text-slate-400 border-slate-500/30",D=i=>{const j=i.toLowerCase();return j.includes("sant√©")||j.includes("ehpad")?"bg-pink-500/20 text-pink-400 border-pink-500/30":j.includes("r√©sidentiel")||j.includes("habitation")?"bg-green-500/20 text-green-400 border-green-500/30":j.includes("commerce")||j.includes("retail")?"bg-orange-500/20 text-orange-400 border-orange-500/30":j.includes("logistique")||j.includes("entrep√¥t")?"bg-amber-500/20 text-amber-400 border-amber-500/30":j.includes("bureau")?"bg-blue-500/20 text-blue-400 border-blue-500/30":j.includes("h√¥tel")||j.includes("tourisme")?"bg-purple-500/20 text-purple-400 border-purple-500/30":"bg-slate-500/20 text-slate-400 border-slate-500/30"},R=s.sectors&&s.sectors.length>0?[...s.sectors].sort((i,j)=>j.value-i.value)[0]:null;return e.jsxs("tr",{className:`border-b transition-colors ${l?"bg-orange-500/10 border-orange-500/30":"bg-slate-800 border-slate-700 hover:bg-slate-700/50"}`,children:[e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-bold text-white text-sm truncate",children:s.name}),e.jsx("div",{className:"text-xs text-slate-400 truncate",children:s.managementCompany})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex flex-col gap-1",children:[R?e.jsxs("span",{className:`inline-block px-2 py-1 rounded-lg text-xs font-semibold border ${D(R.name)}`,children:[R.name," ",R.value.toFixed(0),"%"]}):e.jsx("span",{className:`inline-block px-2 py-1 rounded-lg text-xs font-semibold border ${v(s.category)}`,children:s.category}),p&&e.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded-lg text-xs font-bold bg-amber-500/20 text-amber-400 border border-amber-500/30 w-fit",children:[e.jsx(Ee,{className:"w-3 h-3"}),"TMI ",m,"%+"]})]})}),e.jsx("td",{className:"px-4 py-3",children:(()=>{const i=Ve(s);return e.jsxs("div",{className:"flex flex-col gap-0.5",children:[e.jsxs("div",{className:"text-base font-bold text-emerald-400",children:[i.primaryValue.toFixed(2),"%"]}),e.jsx("div",{className:"text-xs text-slate-500",children:i.primaryLabel}),i.secondaryValue&&e.jsxs("div",{className:"text-xs text-slate-400",children:[i.secondaryLabel,": ",e.jsxs("span",{className:"font-semibold text-emerald-300",children:[i.secondaryValue.toFixed(2),"%"]})]}),i.netNotAvailable&&e.jsx("div",{className:"text-xs text-amber-400 font-medium",children:"‚ö†Ô∏è Net non communiqu√©"})]})})()}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"text-sm font-semibold text-white",children:[s.tof,"%"]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"text-sm font-semibold text-white",children:[s.price,"‚Ç¨"]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"text-sm font-semibold text-white truncate",children:[s.minInvestment.toLocaleString("fr-FR"),"‚Ç¨"]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("button",{onClick:t,className:"px-3 py-1.5 rounded-lg font-bold text-xs transition-all flex items-center gap-1.5 whitespace-nowrap bg-amber-500 hover:bg-amber-600 text-white",children:l?e.jsxs(e.Fragment,{children:[e.jsx($e,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Choisie"})]}):e.jsxs(e.Fragment,{children:[e.jsx(Ge,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Ajouter"})]})}),e.jsxs("button",{onClick:d,className:"px-3 py-1.5 bg-slate-700 hover:bg-slate-600 border border-slate-600 text-white rounded-lg font-semibold text-xs transition-all flex items-center gap-1.5 whitespace-nowrap",children:[e.jsx(xe,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:"Analyser"})]})]}),c&&e.jsxs("button",{onClick:c,className:"text-xs font-medium text-emerald-400 hover:text-emerald-300 transition-all flex items-center gap-1 whitespace-nowrap",children:[e.jsx("span",{children:"üëâ"}),e.jsx("span",{children:"Je pr√©f√®re √™tre guid√©"})]})]})})]})},rs=s=>({Diversifi√©e:"bg-blue-500/20 text-blue-400 border-blue-500/30",R√©sidentiel:"bg-green-500/20 text-green-400 border-green-500/30",Sant√©:"bg-pink-500/20 text-pink-400 border-pink-500/30",Bureaux:"bg-blue-500/20 text-blue-400 border-blue-500/30",Europ√©enne:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",Logistique:"bg-amber-500/20 text-amber-400 border-amber-500/30"})[s]||"bg-slate-500/20 text-slate-400 border-slate-500/30",Re={sectors:["#2563eb","#059669","#d97706","#db2777","#7c3aed","#0891b2","#65a30d","#ea580c"],geography:["#2563eb","#059669","#d97706","#db2777","#7c3aed","#0891b2","#65a30d","#ea580c"]},Xe=s=>{if(!s.reconstitutionValue||s.reconstitutionValue===0)return null;const l=(s.price-s.reconstitutionValue)/s.reconstitutionValue*100;return{value:l,isDiscount:l<0}},et=({active:s,payload:l})=>{if(s&&l&&l.length){const t=d=>d.replace(/^[\s,\.]+/,"").trim();return e.jsxs("div",{className:"bg-slate-800 px-4 py-2 rounded-lg border border-slate-600 shadow-xl",children:[e.jsx("p",{className:"text-white font-semibold text-sm",children:t(l[0].name)}),e.jsxs("p",{className:"text-emerald-400 font-bold text-lg",children:[l[0].value,"%"]})]})}return null},ns=({selectedScpis:s,onRemove:l,onClear:t,onVisualize:d})=>{const[m,c]=g.useState(!1),[u,p]=g.useState("cash"),[v,D]=g.useState(1e5),[R,i]=g.useState({}),[j,o]=g.useState(0),[P,k]=g.useState(20),[$,N]=g.useState(3.5),[y,q]=g.useState(.3),[_,te]=g.useState("none"),[se,oe]=g.useState(0),[K,f]=g.useState(""),[de,ge]=g.useState(""),[E,fe]=g.useState("nue-propriete"),[V,ae]=g.useState(65),[x,b]=g.useState(10),[S,G]=g.useState(1);g.useEffect(()=>{if(s.length>0){const a=100/s.length,n={};s.forEach(r=>{n[r.id]=a}),i(n)}},[s]);const F=g.useMemo(()=>{if(s.length===0)return null;const a=s.map(L=>{const T=R[L.id]||0,z=v*T/100,U=z*L.yield/100,X=U/12;return{id:L.id,name:L.name,percentage:T,amount:z,yield:L.yield,annualIncome:U,monthlyIncome:X,price:L.price,minInvestment:L.minInvestment,parts:Math.floor(z/L.price)}}),n=Object.values(R).reduce((L,T)=>L+T,0),r=a.reduce((L,T)=>L+T.yield*T.percentage/100,0),C=a.reduce((L,T)=>L+T.annualIncome,0),M=C/12;return{scpiData:a,totalAmount:v,totalPercentage:n,weightedYield:r,totalAnnualIncome:C,totalMonthlyIncome:M}},[s,R,v]),B=g.useMemo(()=>{if(!F||u!=="credit")return null;const a=Math.max(0,F.totalAmount-j),r=Math.max(1,P)*12,C=$>0?$/100/12:0,M=y/100/12;let L=0;if(C>0&&a>0){const Nt=Math.pow(1+C,-r);L=a*C/(1-Nt)}else a>0&&(L=a/r);const T=a*M,z=L+T,U=F.totalMonthlyIncome,X=z-U,ce=U-z,A=a*C,le=_==="partial"?A+T:_==="total"?T:0,Me=a*($/100),gt=L*12,Ye=Math.max(0,gt-Me),ft=ce*12,jt=Math.max(j,1e-4),vt=(ft+Ye)/jt*100;return{financedAmount:a,monthlyCreditPayment:L,monthlyInsurance:T,monthlyTotal:z,monthlyScpiIncome:U,monthlyEffort:X,monthlyCashflow:ce,monthlyDeferredCost:le,annualPrincipalRepaid:Ye,realReturnOnEquity:vt}},[F,u,j,P,$,y,_]),h=g.useMemo(()=>{if(!F||u!=="demembrement")return null;const a=Math.max(10,Math.min(90,V)),n=100-a,r=Math.max(1,x),C=S/100,M=F.totalAmount,L=M*a/100,T=M*n/100,z=M*Math.pow(1+C,r),X=F.totalAnnualIncome*r,ce=L>0?(Math.pow(z/L,1/r)-1)*100:0,A=T>0?X/T/r*100:0;return{cleNp:a,cleUs:n,duree:r,fullPropertyValueToday:M,priceNuePro:L,priceUsufruit:T,futureFullPropertyValue:z,totalIncomeUsufruit:X,rendementImpliciteNp:ce,rendementGlobalUsufruit:A}},[F,u,V,x,S]),O=(a,n)=>{const r=Math.max(0,Math.min(100,n));i(C=>({...C,[a]:r}))},I=()=>{const a=Object.values(R).reduce((r,C)=>r+C,0);if(a===0)return;const n={};Object.keys(R).forEach(r=>{n[r]=R[r]/a*100}),i(n)};if(s.length===0)return e.jsx("div",{className:"hidden lg:block lg:w-96 bg-slate-800 border-l border-slate-700 p-6",children:e.jsx("div",{className:"sticky top-24",children:e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-700 mx-auto mb-4 flex items-center justify-center",children:e.jsx(J,{className:"w-10 h-10 text-slate-500"})}),e.jsx("h3",{className:"text-lg font-bold text-white mb-2",children:"Votre S√©lection"}),e.jsxs("p",{className:"text-sm text-slate-400",children:["Cliquez sur ",e.jsx("span",{className:"text-amber-500 font-semibold",children:"Ajouter"})," pour int√©grer une SCPI √† votre portefeuille."]})]})})});const w=s.reduce((a,n)=>a+n.yield,0)/s.length,je=s.reduce((a,n)=>a+n.minInvestment,0),_e=a=>a.replace(/^[\s,\.]+/,"").trim(),mt=a=>{const n=_e(a),r=n.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"");return r.includes("hotel")||r.includes("hotellerie")||r.includes("tourisme")||r.includes("loisir")||r.includes("seminaire")||r.includes("s√©minaire")?"H√¥tels, tourisme, loisirs":(r.includes("sante")||r.includes("sant√©"))&&(r.includes("education")||r.includes("√©ducation")||r.includes("enseignement"))||r.includes("sante")||r.includes("sant√©")||r.includes("education")||r.includes("√©ducation")||r.includes("enseignement")?"Sant√© et √©ducation":r.includes("logistique")||r.includes("entrepot")||r.includes("entrep√¥t")||r.includes("activite")||r.includes("activit√©")||r.includes("transport")?"Logistique et locaux d'activit√©s":r.includes("commerce")?"Commerces":r.includes("bureau")&&!r.includes("commerce")?"Bureaux":r.includes("residentiel")||r.includes("r√©sidentiel")||r.includes("logement")||r.includes("habitation")?"R√©sidentiel":n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()},ut=["france","paris","r√©gion","europe","espagne","allemagne","italie","royaume","pays","belgique","portugal","√©tranger","international","idf","ile-de-france","atlantique","parisienne","dorsale","m√©tropol","irlande","pologne","uk","pays-bas","netherlands","hollande","suisse","luxembourg","autriche","gr√®ce","danemark","su√®de","norv√®ge","finlande","tch√©quie","hongrie","roumanie","bulgarie","croatie","slov√©nie"],ht=a=>{const n=a.toLowerCase();return ut.some(r=>n.includes(r))},pt=()=>{const a={},n=100/s.length;return s.forEach(r=>{r.sectors&&r.sectors.length>0&&r.sectors.forEach(C=>{if(ht(C.name))return;const M=mt(C.name);a[M]||(a[M]=0),a[M]+=C.value*n/100})}),Object.entries(a).map(([r,C])=>({name:r,value:Math.round(C*10)/10})).filter(r=>r.value>0).sort((r,C)=>C.value-r.value)},bt=()=>{const a={},n=100/s.length;return s.forEach(r=>{r.geography&&r.geography.length>0&&r.geography.forEach(C=>{const M=_e(C.name);a[M]||(a[M]=0),a[M]+=C.value*n/100})}),Object.entries(a).map(([r,C])=>({name:r,value:Math.round(C*10)/10})).filter(r=>r.value>0).sort((r,C)=>C.value-r.value)},Y=pt(),Z=bt(),Q=(()=>{const a=Math.min(Y.length/1,5),n=Math.min(Z.length/1,5);let r=0;w>=6?r=5:w>=5?r=4:w>=4?r=3:w>=3?r=2:r=1;const C=s.reduce((A,le)=>A+(le.tof||0),0)/s.length;let M=0;C>=95?M=5:C>=92?M=4:C>=90?M=3:C>=85?M=2:M=1;const L=Math.min(s.length,5),T=Y.length>0?Y[0].value:0;let z=5;T>60?z=2:T>50?z=3:T>40?z=4:z=5;const U=a*1+n*1+r*1+M*1.2+L*1.2+z*1.3,X=5*(3+1.2+1.2+1.3),ce=Math.round(U/X*5);return{sectorDiversity:Math.round(a),geoDiversity:Math.round(n),performance:r,liquidity:Math.round(M),diversification:L,risk:z,overall:Math.max(1,Math.min(5,ce))}})(),ke=(()=>{const a=[],n=[];s.length>=4?a.push("Diversification optimale avec plusieurs SCPI, r√©duisant significativement le risque de concentration"):s.length>=2?a.push("Diversification correcte permettant de limiter l'exposition au risque sp√©cifique d'une seule SCPI"):n.push("Concentration sur une seule SCPI : risque sp√©cifique non diversifi√©, recommandation d'ajouter au moins 2-3 SCPI suppl√©mentaires"),Y.length>=4?a.push("Excellente diversification sectorielle couvrant plusieurs segments de l'immobilier, r√©silience accrue face aux cycles √©conomiques"):Y.length>=2?a.push("Diversification sectorielle correcte, mais pourrait √™tre am√©lior√©e pour une meilleure r√©silience"):n.push("Concentration sectorielle importante : exposition accrue aux risques sp√©cifiques du secteur, diversification recommand√©e");const r=Z.some(A=>A.name.toLowerCase().includes("europe")||A.name.toLowerCase().includes("europ√©en")),C=Z.some(A=>A.name.toLowerCase().includes("france")||A.name.toLowerCase().includes("fran√ßais"));Z.length>=3?a.push("Exposition g√©ographique diversifi√©e, r√©duction du risque g√©opolitique et √©conomique local"):r&&C?a.push("R√©partition France/Europe √©quilibr√©e, bonne exposition aux march√©s europ√©ens"):r?a.push("Exposition europ√©enne int√©ressante pour la diversification g√©ographique"):n.push("Concentration g√©ographique sur la France : consid√©rer une exposition europ√©enne pour r√©duire le risque pays"),w>=6?a.push(`Rendement moyen attractif (${w.toFixed(2)}%), sup√©rieur √† la moyenne du march√© SCPI`):w>=5?a.push(`Rendement moyen correct (${w.toFixed(2)}%), align√© avec les standards du march√©`):w>=4?n.push(`Rendement moyen mod√©r√© (${w.toFixed(2)}%) : envisager l'ajout de SCPI √† rendement plus √©lev√© pour optimiser la performance`):n.push(`Rendement moyen faible (${w.toFixed(2)}%) : portefeuille sous-performant, r√©vision de la s√©lection recommand√©e`);const M=s.reduce((A,le)=>A+(le.tof||0),0)/s.length;M>=95?a.push("Excellent taux d'occupation financier moyen, signe de qualit√© de gestion et de r√©silience locative"):M>=90?a.push("Taux d'occupation financier correct, portefeuille bien g√©r√©"):M>=85?n.push("Taux d'occupation financier moyen : vigilance sur la qualit√© locative, certains actifs pourraient n√©cessiter un suivi renforc√©"):n.push("Taux d'occupation financier faible : risque de vacance locative √©lev√©, r√©vision de la s√©lection recommand√©e");const L=Y.length>0?Y[0].value:0;L>60?n.push(`Concentration sectorielle √©lev√©e (${L.toFixed(1)}% sur un seul secteur) : risque de corr√©lation √©lev√©e en cas de crise sectorielle`):L>50?n.push(`Concentration sectorielle mod√©r√©e (${L.toFixed(1)}%) : consid√©rer une meilleure r√©partition pour r√©duire le risque`):a.push("R√©partition sectorielle √©quilibr√©e, bonne diversification des risques");const T=Y.some(A=>A.name.toLowerCase().includes("r√©sidentiel")||A.name.toLowerCase().includes("residentiel")),z=Y.some(A=>A.name.toLowerCase().includes("commerce")||A.name.toLowerCase().includes("bureau"));return T&&z&&a.push("Mix r√©sidentiel/commercial √©quilibr√©, optimisation fiscale et diversification des revenus locatifs"),je>5e4&&n.push(`Investissement minimum total √©lev√© (${je.toLocaleString("fr-FR")}‚Ç¨) : barri√®re √† l'entr√©e importante, consid√©rer des SCPI avec des montants minimums plus faibles`),s.filter(A=>A.capitalization).reduce((A,le)=>{const Me=typeof le.capitalization=="string"?parseFloat(le.capitalization.replace(/[^\d,]/g,"").replace(",",".")):0;return A+Me},0)/s.filter(A=>A.capitalization).length>500&&a.push("SCPI de grande taille en moyenne, signe de stabilit√© et de capacit√© de diversification interne"),s.some(A=>A.yield>=6)&&a.push("Pr√©sence de SCPI √† rendement √©lev√©, potentiel de performance int√©ressant"),r&&!C&&n.push("Exposition uniquement europ√©enne : risque de change EUR pr√©sent, consid√©rer une part fran√ßaise pour √©quilibrer"),s.some(A=>(A.tof||0)<85)&&n.push("Certaines SCPI pr√©sentent un TOF faible : risque de liquidit√© sur le march√© secondaire, d√©lais de revente potentiellement allong√©s"),s.length<3&&n.push("Portefeuille sous-diversifi√© : recommandation d'ajouter 2 √† 4 SCPI suppl√©mentaires pour optimiser le ratio risque/rendement"),{pros:a,cons:n}})();return e.jsxs("div",{className:"hidden lg:block lg:w-96 bg-gradient-to-b from-slate-800 to-slate-900 border-l border-slate-700 p-6",children:[e.jsxs("div",{className:"sticky top-24",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Ma S√©lection"}),e.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-red-500/10 text-red-400 hover:text-red-300 transition-colors",title:"Vider la s√©lection",children:e.jsx(Ot,{className:"w-5 h-5"})})]}),e.jsxs("p",{className:"text-sm text-slate-400",children:[s.length," SCPI s√©lectionn√©e",s.length>1?"s":""]}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Jusqu‚Äô√† ",e.jsx("span",{className:"font-semibold text-slate-300",children:"6 SCPI"})," maximum dans votre portefeuille."]})]}),e.jsx("div",{className:"space-y-3 mb-6 max-h-[calc(100vh-450px)] overflow-y-auto",children:s.map(a=>e.jsxs("div",{className:"bg-slate-900 rounded-lg p-4 border-2 border-emerald-500/30 hover:border-emerald-500/50 transition-colors",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3 mb-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-bold text-white text-sm",children:a.name}),e.jsx("p",{className:"text-xs text-slate-400",children:a.managementCompany})]}),e.jsx("button",{onClick:()=>l(a),className:"p-1 rounded hover:bg-red-500/10 text-slate-400 hover:text-red-400 transition-colors",children:e.jsx(ie,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Rendement"}),e.jsxs("p",{className:"text-lg font-bold text-emerald-400",children:[a.yield.toFixed(2),"%"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-xs text-slate-500",children:"Prix"}),e.jsxs("p",{className:"text-sm font-semibold text-white",children:[a.price,"‚Ç¨"]})]})]})]},a.id))}),e.jsx("div",{className:"bg-emerald-500/10 rounded-lg p-4 mb-4 border border-emerald-500/30",children:e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-emerald-400 font-medium mb-1",children:"Rendement moyen"}),e.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:[w.toFixed(2),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-emerald-400 font-medium mb-1",children:"Investissement min."}),e.jsxs("p",{className:"text-xl font-bold text-emerald-400",children:[je.toLocaleString("fr-FR"),"‚Ç¨"]})]})]})}),e.jsxs("button",{onClick:()=>c(!0),className:"w-full py-4 px-6 bg-gradient-to-r from-orange-600 to-orange-500 text-white rounded-xl font-bold text-base shadow-lg shadow-orange-500/30 hover:shadow-xl hover:from-orange-700 hover:to-orange-600 transition-all flex items-center justify-center gap-2 active:scale-95",children:[e.jsx("span",{children:"Valider ma s√©lection"}),e.jsx(Oe,{className:"w-5 h-5"})]}),e.jsx("p",{className:"text-xs text-center text-slate-500 mt-4",children:"Finalisez votre souscription en quelques √©tapes"})]}),m&&e.jsx("div",{className:"fixed inset-0 z-50 bg-slate-950/80 flex items-start justify-center pt-12 sm:pt-20 px-2 sm:px-4",children:e.jsxs("div",{className:"relative w-full max-w-4xl bg-slate-900 rounded-xl sm:rounded-2xl border border-slate-700 shadow-2xl max-h-[95vh] sm:max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-6 py-2 sm:py-4 border-b border-slate-700 flex-shrink-0",children:[e.jsx("h2",{className:"text-base sm:text-lg font-bold text-white",children:"R√©sultat de votre s√©lection"}),e.jsx("button",{onClick:()=>c(!1),className:"p-1.5 sm:p-2 rounded-lg hover:bg-slate-800 text-slate-400 hover:text-white transition-colors",children:e.jsx(ie,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]}),e.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4 mt-10 space-y-3 sm:space-y-4 overflow-y-auto flex-1",children:[e.jsxs("div",{className:"bg-gradient-to-br from-emerald-500/10 to-blue-500/10 rounded-lg sm:rounded-xl p-3 sm:p-6 border border-emerald-500/30 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 mb-3 sm:mb-4",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(At,{size:40,className:"sm:w-12 sm:h-12 ring-2 ring-emerald-500/50"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base sm:text-lg font-bold text-white",children:"Avis Maximusscpi"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-300",children:"√âvaluation de votre s√©lection"})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6 pb-3 sm:pb-4 border-b border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-semibold text-slate-300",children:"Note globale"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((a,n)=>e.jsx(ee,{className:`w-5 h-5 ${n<Q.overall?"text-yellow-400 fill-yellow-400":"text-slate-600 fill-slate-600"}`},n))})]}),e.jsx("p",{className:"text-xs text-slate-300 italic mb-1",children:"Note globale issue d'une analyse multicrit√®res pond√©r√©e."}),e.jsx("p",{className:"text-xs text-slate-300",children:Q.overall>=4?"Excellente s√©lection, portefeuille bien √©quilibr√©":Q.overall>=3?"Bonne s√©lection avec quelques points d'am√©lioration possibles":"S√©lection correcte, envisagez d'ajouter plus de diversification"})]}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-300",children:"R√©partition sectorielle"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((a,n)=>e.jsx(ee,{className:`w-4 h-4 ${n<Q.sectorDiversity?"text-yellow-400 fill-yellow-400":"text-slate-600 fill-slate-600"}`},n))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-300",children:"R√©partition g√©ographique"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((a,n)=>e.jsx(ee,{className:`w-4 h-4 ${n<Q.geoDiversity?"text-yellow-400 fill-yellow-400":"text-slate-600 fill-slate-600"}`},n))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsx("span",{className:"text-xs text-slate-300",children:"Potentiel de rendement"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((a,n)=>e.jsx(ee,{className:`w-4 h-4 ${n<Q.performance?"text-yellow-400 fill-yellow-400":"text-slate-600 fill-slate-600"}`},n))})]}),e.jsx("p",{className:"text-[10px] text-slate-300 italic",children:"Indicateur bas√© sur des donn√©es historiques, non garanti."})]}),e.jsxs("div",{className:"flex items-center justify-between group relative",children:[e.jsxs("span",{className:"text-xs text-slate-300 cursor-help",children:["Liquidit√©",e.jsx("span",{className:"ml-1 text-[10px] text-slate-300",children:"‚ÑπÔ∏è"})]}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((a,n)=>e.jsx(ee,{className:`w-4 h-4 ${n<Q.liquidity?"text-yellow-400 fill-yellow-400":"text-slate-600 fill-slate-600"}`},n))}),e.jsxs("div",{className:"absolute left-0 top-full mt-2 w-64 p-3 bg-slate-800 border border-slate-600 rounded-lg shadow-xl opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-10 text-xs text-slate-300",children:[e.jsx("p",{className:"font-semibold mb-2 text-white",children:"√âvaluation de la liquidit√©"}),e.jsx("p",{className:"mb-1",children:"Bas√©e sur le taux d'occupation financier (TOF) moyen."}),e.jsx("p",{className:"text-slate-300 italic",children:"La liquidit√© SCPI d√©pend √©galement de :"}),e.jsxs("ul",{className:"list-disc list-inside mt-1 text-slate-300 space-y-0.5",children:[e.jsx("li",{children:"D√©lai de jouissance"}),e.jsx("li",{children:"Mutualisation locative"})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-300",children:"Diversification"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((a,n)=>e.jsx(ee,{className:`w-4 h-4 ${n<Q.diversification?"text-yellow-400 fill-yellow-400":"text-slate-600 fill-slate-600"}`},n))})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-300",children:"Ma√Ætrise du risque"}),e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((a,n)=>e.jsx(ee,{className:`w-4 h-4 ${n<Q.risk?"text-yellow-400 fill-yellow-400":"text-slate-600 fill-slate-600"}`},n))})]})]}),e.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 sm:pt-6 border-t border-slate-700",children:[e.jsxs("h4",{className:"text-xs sm:text-sm font-bold text-white mb-3 sm:mb-4 flex items-center gap-2",children:[e.jsx(Te,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-400"}),e.jsx("span",{className:"hidden sm:inline",children:"Analyse professionnelle : "}),"Avantages et Inconv√©nients"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-emerald-500/10 rounded-lg p-3 sm:p-4 border border-emerald-500/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-emerald-400"}),e.jsx("h5",{className:"text-xs sm:text-sm font-bold text-emerald-400",children:"Points forts"})]}),ke.pros.length>0?e.jsx("ul",{className:"space-y-1.5 sm:space-y-2",children:ke.pros.map((a,n)=>e.jsxs("li",{className:"text-[10px] sm:text-xs text-slate-300 flex items-start gap-1.5 sm:gap-2",children:[e.jsx("span",{className:"text-emerald-400 mt-0.5 sm:mt-1 flex-shrink-0",children:"‚úì"}),e.jsx("span",{children:a})]},n))}):e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-400 italic",children:"Aucun point fort identifi√©"})]}),e.jsxs("div",{className:"bg-amber-500/10 rounded-lg p-3 sm:p-4 border border-amber-500/30",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2 sm:mb-3",children:[e.jsx("div",{className:"w-1.5 h-1.5 sm:w-2 sm:h-2 rounded-full bg-amber-400"}),e.jsx("h5",{className:"text-xs sm:text-sm font-bold text-amber-400",children:"Points d'attention"})]}),ke.cons.length>0?e.jsx("ul",{className:"space-y-1.5 sm:space-y-2",children:ke.cons.map((a,n)=>e.jsxs("li",{className:"text-[10px] sm:text-xs text-slate-300 flex items-start gap-1.5 sm:gap-2",children:[e.jsx("span",{className:"text-amber-400 mt-0.5 sm:mt-1 flex-shrink-0",children:"‚ö†"}),e.jsx("span",{children:a})]},n))}):e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-400 italic",children:"Aucun point d'attention identifi√©"})]})]}),e.jsx("div",{className:"mt-3 sm:mt-4 p-2 sm:p-3 bg-slate-800/50 rounded-lg border border-slate-700",children:e.jsxs("p",{className:"text-[9px] sm:text-[10px] text-slate-400 italic leading-relaxed",children:[e.jsx("strong",{className:"text-slate-300",children:"Note :"})," Cette analyse est bas√©e sur les caract√©ristiques objectives du portefeuille s√©lectionn√©. Elle ne constitue pas un conseil personnalis√© en investissement. Un conseiller certifi√© ORIAS analysera votre situation personnelle avant toute d√©cision."]})})]})]}),F&&e.jsxs("div",{className:"bg-slate-800 rounded-lg sm:rounded-xl p-3 sm:p-6 border border-slate-700 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3 sm:mb-4",children:[e.jsx(es,{className:"w-4 h-4 sm:w-5 sm:h-5 text-emerald-400"}),e.jsx("h3",{className:"text-base sm:text-lg font-bold text-white",children:"Configuration du portefeuille"})]}),e.jsxs("div",{className:"mb-4 sm:mb-5",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-slate-300 mb-2",children:"Mode d'investissement"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 sm:gap-3",children:[e.jsx("button",{type:"button",onClick:()=>p("cash"),className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-[10px] sm:text-xs font-semibold border transition-all ${u==="cash"?"bg-emerald-600 text-white border-emerald-500 shadow-lg shadow-emerald-500/30":"bg-slate-900 text-slate-300 border-slate-600 hover:bg-slate-700"}`,children:"Comptant"}),e.jsx("button",{type:"button",onClick:()=>p("credit"),className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-[10px] sm:text-xs font-semibold border transition-all ${u==="credit"?"bg-emerald-600 text-white border-emerald-500 shadow-lg shadow-emerald-500/30":"bg-slate-900 text-slate-300 border-slate-600 hover:bg-slate-700"}`,children:"Cr√©dit"}),e.jsx("button",{type:"button",onClick:()=>p("demembrement"),className:`px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-[10px] sm:text-xs font-semibold border transition-all ${u==="demembrement"?"bg-emerald-600 text-white border-emerald-500 shadow-lg shadow-emerald-500/30":"bg-slate-900 text-slate-300 border-slate-600 hover:bg-slate-700"}`,children:"D√©membrement"})]}),e.jsx("p",{className:"mt-2 text-[10px] sm:text-xs text-slate-400",children:"S√©lectionnez votre mode pour voir l'impact sur les revenus, le cash-flow ou la valeur future, sans modifier votre s√©lection de SCPI."})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("label",{className:"block text-xs sm:text-sm font-semibold text-slate-300 mb-1.5 sm:mb-2",children:"Montant total √† investir"}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-4",children:[e.jsx("input",{type:"number",value:v,onChange:a=>D(Math.max(0,parseInt(a.target.value)||0)),className:"flex-1 px-3 sm:px-4 py-1.5 sm:py-2 bg-slate-900 border border-slate-600 rounded-lg text-white text-base sm:text-lg font-bold focus:outline-none focus:ring-2 focus:ring-emerald-500",min:"0",step:"1000"}),e.jsx("span",{className:"text-slate-400 font-semibold text-sm sm:text-base",children:"‚Ç¨"})]}),e.jsx("div",{className:"flex flex-wrap gap-1.5 sm:gap-2 mt-2",children:[5e4,1e5,15e4,2e5,3e5].map(a=>e.jsxs("button",{onClick:()=>D(a),className:`px-2 sm:px-3 py-1 text-[10px] sm:text-xs rounded-lg transition-colors ${v===a?"bg-emerald-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[a.toLocaleString("fr-FR"),"‚Ç¨"]},a))})]}),e.jsxs("div",{className:`grid grid-cols-1 ${u==="credit"?"sm:grid-cols-4":"sm:grid-cols-3"} gap-2 sm:gap-4 mb-4 sm:mb-6`,children:[e.jsxs("div",{className:"bg-slate-900 rounded-lg p-2.5 sm:p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[e.jsx(J,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-400"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-400",children:"Rendement moyen pond√©r√©"})]}),e.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-emerald-400",children:[F.weightedYield.toFixed(2),"%"]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-lg p-2.5 sm:p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[e.jsx(W,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-blue-400"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-400",children:u==="credit"?"Mensualit√© totale (cr√©dit + assurance)":u==="demembrement"?E==="nue-propriete"?"Capital investi r√©el (nue-propri√©t√©)":"Capital investi r√©el (usufruit)":"Revenus annuels estim√©s"})]}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-blue-400",children:u==="credit"&&B?`${B.monthlyTotal.toLocaleString("fr-FR",{maximumFractionDigits:0})}‚Ç¨ / mois`:u==="demembrement"&&h?`${(E==="nue-propriete"?h.priceNuePro:h.priceUsufruit).toLocaleString("fr-FR",{maximumFractionDigits:0})}‚Ç¨`:`${F.totalAnnualIncome.toLocaleString("fr-FR",{maximumFractionDigits:0})}‚Ç¨`})]}),u==="credit"&&e.jsxs("div",{className:"bg-slate-900 rounded-lg p-2.5 sm:p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[e.jsx(W,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-green-400"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-400",children:"Revenus mensuels estim√©s"})]}),e.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-green-400",children:[F.totalMonthlyIncome.toLocaleString("fr-FR",{maximumFractionDigits:0}),"‚Ç¨"]})]}),e.jsxs("div",{className:"bg-slate-900 rounded-lg p-2.5 sm:p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 mb-1.5 sm:mb-2",children:[e.jsx(W,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-purple-400"}),e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-400",children:u==="credit"?"Effort d'√©pargne mensuel":u==="demembrement"?E==="nue-propriete"?"Valeur future estim√©e (pleine propri√©t√©)":"Revenus totaux sur la dur√©e":"Revenus mensuels estim√©s"})]}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-purple-400",children:u==="credit"&&B?`${B.monthlyEffort.toLocaleString("fr-FR",{maximumFractionDigits:0})}‚Ç¨`:u==="demembrement"&&h?E==="nue-propriete"?`${h.futureFullPropertyValue.toLocaleString("fr-FR",{maximumFractionDigits:0})}‚Ç¨`:`${h.totalIncomeUsufruit.toLocaleString("fr-FR",{maximumFractionDigits:0})}‚Ç¨`:`${F.totalMonthlyIncome.toLocaleString("fr-FR",{maximumFractionDigits:0})}‚Ç¨`})]})]}),u==="credit"&&e.jsxs("div",{className:"mb-4 sm:mb-6 grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] sm:text-xs font-semibold text-slate-300 mb-1.5",children:"Apport (optionnel)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:j||"",onChange:a=>{const n=a.target.value;if(n===""||n==="-")o(0);else{const r=parseInt(n,10);!isNaN(r)&&r>=0&&o(r)}},onBlur:a=>{const n=parseInt(a.target.value,10);(isNaN(n)||n<0)&&o(0)},className:"flex-1 px-3 py-1.5 bg-slate-900 border border-slate-600 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",min:0,step:1e3}),e.jsx("span",{className:"text-slate-400 text-xs sm:text-sm",children:"‚Ç¨"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] sm:text-xs font-semibold text-slate-300 mb-1.5",children:"Dur√©e du cr√©dit (ann√©es)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:P,onChange:a=>k(Math.min(30,Math.max(5,parseInt(a.target.value)||0))),className:"w-20 px-3 py-1.5 bg-slate-900 border border-slate-600 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",min:5,max:30}),e.jsx("div",{className:"flex flex-wrap gap-1.5",children:[10,15,20,25].map(a=>e.jsxs("button",{type:"button",onClick:()=>k(a),className:`px-2 py-1 rounded-lg text-[10px] sm:text-xs ${P===a?"bg-emerald-600 text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:[a," ans"]},a))})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[10px] sm:text-xs font-semibold text-slate-300 mb-1.5",children:["Taux d'int√©r√™t (%) ",e.jsx("span",{className:"text-slate-500 font-normal",children:"(d√©faut: 3.5%)"})]}),e.jsx("input",{type:"number",value:K!==""?K:$,onChange:a=>{const n=a.target.value;f(n);const r=parseFloat(n);!isNaN(r)&&n!==""&&(r<.5?N(.5):r>6?N(6):N(r))},onFocus:()=>{f($.toString())},onBlur:a=>{const n=a.target.value,r=parseFloat(n);f(""),n===""||isNaN(r)||r<.5?N(3.5):r>6?N(6):N(r)},placeholder:"3.5",className:"w-full px-3 py-1.5 bg-slate-900 border border-slate-600 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 placeholder:text-slate-500",min:.5,max:6,step:.1})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[10px] sm:text-xs font-semibold text-slate-300 mb-1.5",children:["Taux d'assurance (% annuel, optionnel) ",e.jsx("span",{className:"text-slate-500 font-normal",children:"(d√©faut: 0.3%)"})]}),e.jsx("input",{type:"number",value:de!==""?de:y,onChange:a=>{const n=a.target.value;ge(n);const r=parseFloat(n);!isNaN(r)&&n!==""&&(r<0?q(0):r>1.5?q(1.5):q(r))},onFocus:()=>{ge(y.toString())},onBlur:a=>{const n=a.target.value,r=parseFloat(n);ge(""),n===""||isNaN(r)||r<0?q(.3):r>1.5?q(1.5):q(r)},placeholder:"0.3",className:"w-full px-3 py-1.5 bg-slate-900 border border-slate-600 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500 placeholder:text-slate-500",min:0,max:1.5,step:.05})]}),e.jsxs("div",{className:"sm:col-span-2",children:[e.jsx("label",{className:"block text-[10px] sm:text-xs font-semibold text-slate-300 mb-1.5",children:"Diff√©r√©"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("button",{type:"button",onClick:()=>te("none"),className:`px-2 sm:px-3 py-1 rounded-lg text-[10px] sm:text-xs border ${_==="none"?"bg-slate-100 text-slate-900 border-slate-300":"bg-slate-900 text-slate-300 border-slate-600 hover:bg-slate-700"}`,children:"Aucun"}),e.jsx("button",{type:"button",onClick:()=>te("partial"),className:`px-2 sm:px-3 py-1 rounded-lg text-[10px] sm:text-xs border ${_==="partial"?"bg-slate-100 text-slate-900 border-slate-300":"bg-slate-900 text-slate-300 border-slate-600 hover:bg-slate-700"}`,children:"Diff√©r√© partiel"}),e.jsx("button",{type:"button",onClick:()=>te("total"),className:`px-2 sm:px-3 py-1 rounded-lg text-[10px] sm:text-xs border ${_==="total"?"bg-slate-100 text-slate-900 border-slate-300":"bg-slate-900 text-slate-300 border-slate-600 hover:bg-slate-700"}`,children:"Diff√©r√© total"})]}),_!=="none"&&e.jsxs("div",{className:"mt-3",children:[e.jsx("label",{className:"block text-[10px] sm:text-xs font-semibold text-slate-300 mb-1.5",children:"Dur√©e du diff√©r√© (entre 1 et 24 mois)"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"range",min:1,max:24,value:se||1,onChange:a=>oe(parseInt(a.target.value)||1),className:"flex-1"}),e.jsx("input",{type:"number",min:1,max:24,value:se||1,onChange:a=>oe(Math.min(24,Math.max(1,parseInt(a.target.value)||1))),className:"w-16 px-2 py-1 bg-slate-900 border border-slate-600 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"}),e.jsx("span",{className:"text-slate-400 text-xs sm:text-sm",children:"mois"})]}),B&&B.monthlyDeferredCost>0&&e.jsxs("div",{className:"mt-3 p-2.5 bg-amber-500/10 border border-amber-500/30 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-[10px] sm:text-xs text-slate-300 font-semibold",children:"Co√ªt mensuel estim√© pendant le diff√©r√© :"}),e.jsxs("span",{className:"text-sm sm:text-base font-bold text-amber-400",children:[B.monthlyDeferredCost.toLocaleString("fr-FR",{maximumFractionDigits:0}),"‚Ç¨ / mois"]})]}),e.jsx("p",{className:"mt-1.5 text-[9px] sm:text-[10px] text-slate-400",children:_==="partial"?"Int√©r√™ts + assurance (capital non rembours√©)":"Assurance uniquement (int√©r√™ts capitalis√©s)"})]}),e.jsx("p",{className:"mt-2 text-[10px] sm:text-xs text-slate-500",children:_==="partial"?"Pendant le diff√©r√© partiel, vous ne remboursez que les int√©r√™ts et l'assurance. Le capital est rembours√© apr√®s la p√©riode de diff√©r√©.":_==="total"?"Pendant le diff√©r√© total, vous ne remboursez ni le capital ni les int√©r√™ts. Seule l'assurance est due. Les int√©r√™ts sont capitalis√©s et ajout√©s au capital restant d√ª.":"Le diff√©r√© permet de d√©caler une partie ou la totalit√© de vos remboursements pendant les premiers mois. Le calcul d√©taill√© sera affin√© lors de l'√©tude personnalis√©e avec un conseiller."})]})]})]}),u==="demembrement"&&e.jsxs("div",{className:"mb-4 sm:mb-6 grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] sm:text-xs font-semibold text-slate-300 mb-1.5",children:"Type de d√©membrement"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>fe("nue-propriete"),className:`flex-1 px-2 py-1.5 rounded-lg text-[10px] sm:text-xs font-semibold border ${E==="nue-propriete"?"bg-emerald-600 text-white border-emerald-500":"bg-slate-900 text-slate-300 border-slate-600 hover:bg-slate-700"}`,children:"Nue-propri√©t√©"}),e.jsx("button",{type:"button",onClick:()=>fe("usufruit"),className:`flex-1 px-2 py-1.5 rounded-lg text-[10px] sm:text-xs font-semibold border ${E==="usufruit"?"bg-emerald-600 text-white border-emerald-500":"bg-slate-900 text-slate-300 border-slate-600 hover:bg-slate-700"}`,children:"Usufruit"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] sm:text-xs font-semibold text-slate-300 mb-1.5",children:"Cl√© de d√©membrement (nue-propri√©t√© %)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"range",min:40,max:90,step:1,value:V,onChange:a=>ae(parseInt(a.target.value)||0),className:"flex-1"}),e.jsx("input",{type:"number",min:40,max:90,value:V,onChange:a=>ae(Math.min(90,Math.max(40,parseInt(a.target.value)||0))),className:"w-16 px-2 py-1 bg-slate-900 border border-slate-600 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"}),e.jsx("span",{className:"text-slate-400 text-xs sm:text-sm",children:"%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] sm:text-xs font-semibold text-slate-300 mb-1.5",children:"Dur√©e du d√©membrement (ann√©es)"}),e.jsx("input",{type:"number",min:5,max:30,value:x,onChange:a=>b(Math.min(30,Math.max(5,parseInt(a.target.value)||0))),className:"w-full px-3 py-1.5 bg-slate-900 border border-slate-600 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[10px] sm:text-xs font-semibold text-slate-300 mb-1.5",children:"Hypoth√®se de revalorisation annuelle (%)"}),e.jsx("input",{type:"number",min:-1,max:2,step:.1,value:S,onChange:a=>G(Math.min(2,Math.max(-1,parseFloat(a.target.value)||0))),className:"w-full px-3 py-1.5 bg-slate-900 border border-slate-600 rounded-lg text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500"})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsxs("h4",{className:"text-xs sm:text-sm font-bold text-white mb-2 sm:mb-3 flex items-center gap-1.5 sm:gap-2",children:[e.jsx(xe,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-400"}),"Revenus annuels par SCPI"]}),e.jsx("div",{className:"bg-slate-900 rounded-lg p-2 sm:p-4 border border-slate-700",children:e.jsx(me,{width:"100%",height:150,className:"sm:h-[200px]",children:e.jsxs(Tt,{data:F.scpiData,children:[e.jsx(rt,{strokeDasharray:"3 3",stroke:"#334155"}),e.jsx(nt,{dataKey:"name",tick:{fill:"#94a3b8",fontSize:10},angle:-45,textAnchor:"end",height:80}),e.jsx(it,{tick:{fill:"#94a3b8",fontSize:10},label:{value:"‚Ç¨",angle:-90,position:"insideLeft",fill:"#94a3b8"}}),e.jsx(ue,{contentStyle:{backgroundColor:"#1e293b",border:"1px solid #334155",borderRadius:"8px"},formatter:a=>[`${a.toLocaleString("fr-FR")}‚Ç¨`,"Revenus annuels"]}),e.jsx($t,{dataKey:"annualIncome",fill:"#10b981",radius:[4,4,0,0]})]})})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:[e.jsxs("h4",{className:"text-xs sm:text-sm font-bold text-white flex items-center gap-1.5 sm:gap-2",children:[e.jsx(he,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-400"}),"R√©partition du portefeuille (%)"]}),e.jsx("button",{onClick:I,className:"text-[10px] sm:text-xs px-2 sm:px-3 py-0.5 sm:py-1 bg-emerald-600/20 text-emerald-400 rounded-lg hover:bg-emerald-600/30 transition-colors",children:"Normaliser"})]}),e.jsx("div",{className:"space-y-2 sm:space-y-3",children:F.scpiData.map((a,n)=>{const r=s.find(C=>C.id===a.id);return r?e.jsxs("div",{className:"bg-slate-900 rounded-lg p-2.5 sm:p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[e.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[e.jsx("p",{className:"text-xs sm:text-sm font-semibold text-white truncate",children:r.name}),e.jsxs("p",{className:"text-[10px] sm:text-xs text-slate-400",children:[a.amount.toLocaleString("fr-FR",{maximumFractionDigits:0}),"‚Ç¨"," ‚Ä¢ ",a.parts," part",a.parts>1?"s":""," ‚Ä¢ ",a.yield.toFixed(2),"%"]})]}),e.jsx("div",{className:"text-right flex-shrink-0",children:e.jsxs("p",{className:"text-base sm:text-lg font-bold text-emerald-400",children:[a.percentage.toFixed(1),"%"]})})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[e.jsx("input",{type:"range",min:"0",max:"100",value:a.percentage,onChange:C=>{const M=parseFloat(C.target.value);O(a.id,M)},className:"flex-1 h-1.5 sm:h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-emerald-500"}),e.jsx("input",{type:"number",value:a.percentage.toFixed(1),onChange:C=>{const M=parseFloat(C.target.value)||0;O(a.id,M)},className:"w-16 sm:w-20 px-1.5 sm:px-2 py-0.5 sm:py-1 bg-slate-800 border border-slate-600 rounded text-white text-xs sm:text-sm focus:outline-none focus:ring-2 focus:ring-emerald-500",min:"0",max:"100",step:"0.1"}),e.jsx("span",{className:"text-slate-400 text-xs sm:text-sm w-4 sm:w-6",children:"%"})]}),e.jsx("div",{className:"mt-1.5 sm:mt-2 h-0.5 sm:h-1 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-emerald-400 transition-all duration-300",style:{width:`${a.percentage}%`}})})]},a.id):null})}),F.totalPercentage!==100&&e.jsx("div",{className:"mt-2 sm:mt-3 p-2 sm:p-3 bg-yellow-500/10 border border-yellow-500/30 rounded-lg",children:e.jsxs("p",{className:"text-[10px] sm:text-xs text-yellow-400",children:["‚ö†Ô∏è Total: ",F.totalPercentage.toFixed(1),"%",F.totalPercentage<100?` (${(100-F.totalPercentage).toFixed(1)}% non allou√©)`:` (${(F.totalPercentage-100).toFixed(1)}% en trop)`]})})]}),e.jsxs("div",{className:"mt-4 sm:mt-6",children:[e.jsxs("h4",{className:"text-xs sm:text-sm font-bold text-white mb-2 sm:mb-3 flex items-center gap-1.5 sm:gap-2",children:[e.jsx(he,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 text-emerald-400"}),"R√©partition visuelle du portefeuille"]}),e.jsxs("div",{className:"bg-slate-900 rounded-lg p-2 sm:p-4 border border-slate-700",children:[e.jsxs("div",{className:"relative",children:[e.jsx(me,{width:"100%",height:200,className:"sm:h-[300px]",children:e.jsxs(we,{children:[e.jsx("defs",{children:F.scpiData.map((a,n)=>{const r=["#10b981","#3b82f6","#8b5cf6","#f59e0b","#ef4444","#06b6d4"];return e.jsxs("linearGradient",{id:`gradScpi-${n}`,x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:r[n%r.length],stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:r[n%r.length],stopOpacity:.7})]},`grad-${n}`)})}),e.jsx(Ce,{data:F.scpiData,cx:"50%",cy:"50%",innerRadius:"40%",outerRadius:"80%",paddingAngle:2,dataKey:"percentage",animationBegin:0,animationDuration:800,children:F.scpiData.map((a,n)=>e.jsx(ye,{fill:`url(#gradScpi-${n})`,stroke:"#1e293b",strokeWidth:2},`cell-${a.id}`))}),e.jsx(ue,{content:({active:a,payload:n})=>{if(a&&n&&n.length){const r=n[0].payload;return e.jsxs("div",{className:"bg-slate-800 px-4 py-2 rounded-lg border border-slate-600 shadow-xl",children:[e.jsx("p",{className:"text-white font-semibold text-sm",children:r.name}),e.jsxs("p",{className:"text-emerald-400 font-bold",children:[r.percentage.toFixed(1),"%"]}),e.jsxs("p",{className:"text-slate-300 text-xs mt-1",children:[r.amount.toLocaleString("fr-FR"),"‚Ç¨ ‚Ä¢ ",r.parts," part",r.parts>1?"s":""]})]})}return null}})]})}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[e.jsx("div",{className:"text-xl sm:text-3xl font-bold text-white",children:F.totalAmount.toLocaleString("fr-FR")}),e.jsx("div",{className:"text-[10px] sm:text-xs text-slate-300",children:"‚Ç¨ investis"})]})]}),e.jsx("div",{className:"mt-3 sm:mt-4 grid grid-cols-1 sm:grid-cols-2 gap-1.5 sm:gap-2 max-h-32 sm:max-h-40 overflow-y-auto",children:F.scpiData.map((a,n)=>{const r=["#10b981","#3b82f6","#8b5cf6","#f59e0b","#ef4444","#06b6d4"];return e.jsxs("div",{className:"flex items-center justify-between text-[10px] sm:text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 min-w-0 flex-1",children:[e.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 rounded-full flex-shrink-0",style:{backgroundColor:r[n%r.length]}}),e.jsx("span",{className:"text-slate-300 truncate",children:a.name})]}),e.jsxs("span",{className:"font-semibold text-white flex-shrink-0 ml-2",children:[a.percentage.toFixed(1),"%"]})]},a.id)})})]})]})]}),e.jsxs("p",{className:"text-xs sm:text-sm text-slate-300",children:["Vous avez s√©lectionn√© ",e.jsxs("span",{className:"font-semibold text-white",children:[s.length," SCPI"]}),". Voici un r√©capitulatif avant de commencer votre souscription en ligne."]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 sm:gap-4",children:[e.jsxs("div",{className:"bg-slate-800 rounded-lg p-2.5 sm:p-4 border border-slate-700",children:[e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-300 mb-1",children:"Rendement moyen estim√©"}),e.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-emerald-400",children:[w.toFixed(2),"%"]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg p-2.5 sm:p-4 border border-slate-700",children:[e.jsx("p",{className:"text-[10px] sm:text-xs text-slate-300 mb-1",children:"Investissement minimal estim√©"}),e.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-emerald-400",children:[je.toLocaleString("fr-FR"),"‚Ç¨"]})]})]}),Y.length>0&&Z.length>0&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[e.jsxs("h3",{className:"text-sm font-bold text-white mb-3 flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 text-blue-400"}),"R√©partition Sectorielle du Portefeuille"]}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{width:"100%",height:250,children:e.jsxs(we,{children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"gradBlue-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#60a5fa",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#2563eb",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradTeal-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#34d399",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#059669",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradOrange-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#fbbf24",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#d97706",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradPink-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#f472b6",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#db2777",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradPurple-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#a78bfa",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#7c3aed",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradCyan-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#0891b2",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradLime-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#a3e635",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#65a30d",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradRed-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#fb923c",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#ea580c",stopOpacity:1})]})]}),e.jsx(Ce,{data:Y,cx:"50%",cy:"50%",innerRadius:"50%",outerRadius:"85%",paddingAngle:0,dataKey:"value",animationBegin:0,animationDuration:800,animationEasing:"ease-out",children:Y.map((a,n)=>e.jsx(ye,{fill:`url(#${["gradBlue","gradTeal","gradOrange","gradPink","gradPurple","gradCyan","gradLime","gradRed"][n%8]}-portfolio)`,stroke:"#1e293b",strokeWidth:2,style:{outline:"none"}},`cell-sector-portfolio-${n}`))}),e.jsx(ue,{content:e.jsx(et,{})})]})}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:Y.length}),e.jsx("div",{className:"text-xs text-slate-300",children:"secteurs"})]})]}),e.jsx("div",{className:"mt-4 space-y-1.5 max-h-32 overflow-y-auto",children:Y.map((a,n)=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Re.sectors[n%Re.sectors.length]}}),e.jsx("span",{className:"text-slate-300 truncate",children:a.name})]}),e.jsxs("span",{className:"font-semibold text-white",children:[a.value,"%"]})]},a.name))})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[e.jsxs("h3",{className:"text-sm font-bold text-white mb-3 flex items-center gap-2",children:[e.jsx(he,{className:"w-4 h-4 text-green-400"}),"R√©partition G√©ographique du Portefeuille"]}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{width:"100%",height:250,children:e.jsxs(we,{children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"gradBlue2-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#60a5fa",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#2563eb",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradTeal2-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#34d399",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#059669",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradOrange2-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#fbbf24",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#d97706",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradPink2-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#f472b6",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#db2777",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradPurple2-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#a78bfa",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#7c3aed",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradCyan2-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#0891b2",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradLime2-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#a3e635",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#65a30d",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradRed2-portfolio",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#fb923c",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#ea580c",stopOpacity:1})]})]}),e.jsx(Ce,{data:Z,cx:"50%",cy:"50%",innerRadius:"50%",outerRadius:"85%",paddingAngle:0,dataKey:"value",animationBegin:0,animationDuration:800,animationEasing:"ease-out",children:Z.map((a,n)=>e.jsx(ye,{fill:`url(#${["gradBlue2","gradTeal2","gradOrange2","gradPink2","gradPurple2","gradCyan2","gradLime2","gradRed2"][n%8]}-portfolio)`,stroke:"#1e293b",strokeWidth:2,style:{outline:"none"}},`cell-geo-portfolio-${n}`))}),e.jsx(ue,{content:e.jsx(et,{})})]})}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[e.jsx("div",{className:"text-2xl font-bold text-white",children:Z.length}),e.jsx("div",{className:"text-xs text-slate-300",children:"zones"})]})]}),e.jsx("div",{className:"mt-4 space-y-1.5 max-h-32 overflow-y-auto",children:Z.map((a,n)=>e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-2.5 h-2.5 rounded-full",style:{backgroundColor:Re.geography[n%Re.geography.length]}}),e.jsx("span",{className:"text-slate-300 truncate",children:a.name})]}),e.jsxs("span",{className:"font-semibold text-white",children:[a.value,"%"]})]},a.name))})]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-lg p-4 border border-slate-700",children:[e.jsx("p",{className:"text-xs text-slate-300 mb-3",children:"D√©tail de votre s√©lection"}),e.jsx("div",{className:"space-y-3",children:s.map(a=>e.jsxs("div",{className:"rounded-lg border border-slate-700 bg-slate-900/60 p-3",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold text-white",children:a.name}),e.jsx("p",{className:"text-xs text-slate-300",children:a.managementCompany})]}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-lg text-[10px] font-semibold border ${rs(a.category)}`,children:a.category})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-2 text-[11px] text-slate-300 mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-300",children:"Rendement"}),e.jsxs("p",{className:"font-semibold text-emerald-400",children:[a.yield.toFixed(2),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-300",children:"Prix de part"}),e.jsxs("p",{className:"font-semibold text-white",children:[a.price,"‚Ç¨"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-300",children:"Invest. min."}),e.jsxs("p",{className:"font-semibold text-white",children:[a.minInvestment.toLocaleString("fr-FR"),"‚Ç¨"]})]}),a.capitalization&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-300",children:"Capitalisation"}),e.jsx("p",{className:"font-semibold text-white",children:a.capitalization})]}),typeof a.tof=="number"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-300",children:"Taux d'occupation"}),e.jsxs("p",{className:"font-semibold text-white",children:[a.tof.toFixed(1),"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-300",children:"Horizon recommand√©"}),e.jsx("p",{className:"font-semibold text-white",children:"10 ans"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-300",children:"Distribution"}),e.jsx("p",{className:"font-semibold text-white",children:"Trimestriel"})]}),a.reconstitutionValue&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-300",children:"Valeur reconstitution"}),e.jsxs("p",{className:"font-semibold text-white",children:[a.reconstitutionValue,"‚Ç¨"]})]}),typeof a.ltv=="number"&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-300",children:"Endettement"}),e.jsxs("p",{className:"font-semibold text-white",children:[a.ltv,"%"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-300",children:"Nombre d'immeubles"}),e.jsx("p",{className:"font-semibold text-white",children:typeof a.assetsCount=="number"?a.assetsCount:"N/A"})]}),Xe(a)&&e.jsxs("div",{children:[e.jsx("p",{className:"text-[10px] text-slate-300",children:"D√©cote / Surcote"}),(()=>{const n=Xe(a);if(!n)return null;const r=n.isDiscount?"D√©cote":"Surcote";return e.jsxs("p",{className:`font-semibold ${n.isDiscount?"text-emerald-400":"text-red-400"}`,children:[n.value>0?"+":"",n.value.toFixed(1),"%",e.jsxs("span",{className:"text-[10px] text-slate-300 ml-1",children:["(",r,")"]})]})})()]})]})]},a.id))})]}),e.jsx("p",{className:"text-xs text-slate-300",children:"Ce r√©capitulatif est indicatif et ne constitue pas un conseil personnalis√©. Votre projet sera analys√© avec un conseiller avant toute d√©cision."})]}),e.jsxs("div",{className:"px-3 sm:px-6 py-3 sm:py-4 border-t border-slate-700 flex flex-col sm:flex-row gap-2 sm:gap-3 flex-shrink-0",children:[e.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl bg-slate-800 hover:bg-slate-700 text-white text-xs sm:text-sm font-semibold transition-colors",children:"Revenir au comparateur"}),e.jsxs("button",{onClick:()=>{c(!1),window.history.pushState({scpis:s},"","/souscription"),window.dispatchEvent(new PopStateEvent("popstate")),window.scrollTo({top:0,behavior:"smooth"})},className:"flex-1 px-3 sm:px-4 py-2 sm:py-3 rounded-lg sm:rounded-xl bg-emerald-600 hover:bg-emerald-700 text-white text-xs sm:text-sm font-bold transition-colors flex items-center justify-center gap-1.5 sm:gap-2",children:["Commencer ma souscription",e.jsx(Oe,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4"})]})]})]})})]})},is=({count:s,onOpen:l})=>s===0?null:e.jsx("div",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-50 bg-slate-800 border-t-2 border-orange-500 shadow-2xl shadow-orange-500/20",children:e.jsxs("div",{className:"px-4 py-4",children:[e.jsxs("button",{onClick:l,className:"w-full bg-gradient-to-r from-orange-600 to-orange-500 text-white py-4 px-6 rounded-xl font-bold text-base shadow-lg shadow-orange-500/30 hover:shadow-xl hover:from-orange-700 hover:to-orange-600 transition-all flex items-center justify-center gap-3 active:scale-95",children:[e.jsx(qt,{className:"w-5 h-5"}),e.jsxs("span",{children:["Voir ma s√©lection (",s,")"]}),e.jsx(Oe,{className:"w-5 h-5"})]}),e.jsxs("p",{className:"text-xs text-center text-slate-400 mt-2",children:[s," SCPI s√©lectionn√©e",s>1?"s":""]})]})}),os=["taux_de_distribution","tof","collecte_nette_trimestre","capitalisation","prix_part","valeur_reconstitution","decote_surcote","walt","walb","nombre_locataires","endettement"];function ds(s,l,t){switch(s){case"taux_de_distribution":return l.yield!==void 0&&l.yield!==null&&!isNaN(l.yield)||t?.distribution!==void 0&&t.distribution!==null;case"tof":return l.tof!==void 0&&l.tof!==null&&!isNaN(l.tof);case"collecte_nette_trimestre":return l.collecteNetteTrimestre!==void 0&&l.collecteNetteTrimestre!==null;case"capitalisation":return l.capitalization!==void 0&&l.capitalization!==null&&!isNaN(l.capitalization);case"prix_part":return l.price!==void 0&&l.price!==null&&!isNaN(l.price);case"valeur_reconstitution":return l.valeurReconstitution!==void 0&&l.valeurReconstitution!==null||t?.reconstitutionValue!==void 0&&t.reconstitutionValue!==null;case"decote_surcote":const d=l.discount!==void 0&&l.discount!==null&&!isNaN(l.discount),m=l.price!==void 0&&l.price!==null&&!isNaN(l.price),c=l.valeurReconstitution!==void 0&&l.valeurReconstitution!==null||t?.reconstitutionValue!==void 0&&t.reconstitutionValue!==null;return d||m&&c;case"walt":return l.walt!==void 0&&l.walt!==null&&!isNaN(l.walt);case"walb":return l.walb!==void 0&&l.walb!==null&&!isNaN(l.walb);case"nombre_locataires":return l.nombreLocataires!==void 0&&l.nombreLocataires!==null;case"endettement":return l.debt!==void 0&&l.debt!==null&&!isNaN(l.debt)||t?.ltv!==void 0&&t.ltv!==null&&!isNaN(t.ltv);default:return!1}}function cs(s){return s>=10?"completes":s>=7?"partielles":"limitees"}function xs(s){if(!s)return"N/A";const l=s.match(/T(\d)\s+(\d{4})/);if(l){const t=l[1];return`${l[2]}-Q${t}`}return s}function ms(s,l){const t=[],d=[];for(const p of os)ds(p,s,l)?t.push(p):d.push(p);const m=t.length,c=cs(m),u=xs(s.periodeBulletinTrimestriel);return{scpi:s.name,periode:u,donnees_completes_score:m,donnees_completes_niveau:c,indicateurs_presents:t,indicateurs_absents:d,commentaire:"Calcul bas√© uniquement sur les informations publi√©es dans le dernier bulletin trimestriel."}}function us(s){switch(s){case"completes":return{emoji:"üü¢",color:"text-emerald-400",bgColor:"bg-emerald-500/10",label:"Donn√©es compl√®tes"};case"partielles":return{emoji:"üü†",color:"text-orange-400",bgColor:"bg-orange-500/10",label:"Donn√©es partielles"};case"limitees":return{emoji:"üî¥",color:"text-red-400",bgColor:"bg-red-500/10",label:"Donn√©es limit√©es"}}}const Se={sectors:["gradBlue","gradTeal","gradOrange","gradPink","gradPurple","gradCyan","gradLime","gradRed"],geography:["gradBlue2","gradTeal2","gradOrange2","gradPink2","gradPurple2","gradCyan2","gradLime2","gradRed2"]},Fe={sectors:["#2563eb","#059669","#d97706","#db2777","#7c3aed","#0891b2","#65a30d","#ea580c"],geography:["#2563eb","#059669","#d97706","#db2777","#7c3aed","#0891b2","#65a30d","#ea580c"]},tt=({active:s,payload:l})=>s&&l&&l.length?e.jsxs("div",{className:"bg-slate-800 px-4 py-2 rounded-lg border border-slate-600 shadow-xl",children:[e.jsx("p",{className:"text-white font-semibold text-sm",children:l[0].name}),e.jsxs("p",{className:"text-emerald-400 font-bold text-lg",children:[l[0].value,"%"]})]}):null,hs=({isOpen:s,onClose:l,scpi:t,onAdd:d,isSelected:m=!1,onShowToast:c})=>{const[u,p]=g.useState(5e4),[v,D]=g.useState(15),R=x=>{x.target===x.currentTarget&&l()};if(!s)return null;const i=g.useMemo(()=>{const x=lt.filter(S=>S.name.toLowerCase()===t.name.toLowerCase());return x.length===0?null:x.find(S=>S.actualitesTrimestrielles)||x[0]},[t.name]),j=i?zt(i):[],o=i?Vt(i):[],P=i?Et(i):[];let k="";try{k=i?Gt(i):""}catch(x){console.error("[AnalysisDetailModal] Erreur lors de la r√©cup√©ration des actualit√©s pour",t.name,x),k=""}const $=i?.periodeBulletinTrimestriel,N=i?.dateBulletin,y=t.nombreLocataires??i?.nombreLocataires,q=t.walt??i?.walt,_=t.walb??i?.walb,te=t.collecteNetteTrimestre??i?.collecteNetteTrimestre,se=t.nbCessionsTrimestre??i?.nbCessionsTrimestre,oe=i?.nbImmeubles??t.assetsCount,K=g.useMemo(()=>i?ms(i,t):null,[i,t]),f=K?us(K.donnees_completes_niveau):null,de=g.useMemo(()=>{if(!i)return 3;const x=i.capitalization>=5e7,b=i.tof>=90,S=t.reconstitutionValue??t.valeurReconstitution??0,G=S>0&&t.price<S,B=i.geography==="europe"||i.european?i.yield>=6:i.yield>=5.5,h=i.debt||0,O=h<=30;if(x&&b&&G&&B&&O)return 5;let I=0,w=0;w+=1.5,i.yield>=7?I+=1.5:i.yield>=6?I+=1.2:i.yield>=5?I+=1:i.yield>=4?I+=.7:i.yield>=3&&(I+=.4),w+=1,i.tof>=95?I+=1:i.tof>=90?I+=.7:i.tof>=85&&(I+=.4),w+=.5,i.fees===0?I+=.5:i.fees<=3?I+=.3:i.fees<=5&&(I+=.1),w+=.5,i.isr&&(I+=.2),i.repartitionSector&&i.repartitionSector.length>=3&&(I+=.2),i.capitalization>=5e8&&(I+=.1),w+=.5,h===0?I+=.5:h<=20?I+=.4:h<=30&&(I+=.2),w+=.5,i.capitalization>=1e9?I+=.5:i.capitalization>=5e8?I+=.3:i.capitalization>=2e8&&(I+=.1);const je=Math.round(I/w*5);return Math.max(1,Math.min(5,je))},[i,t]),E=Math.floor(u/t.price)*t.price,fe=i?.yield??t.yield,V=E*(fe/100);Array.from({length:v+1},(x,b)=>{const S=V*b,G=E+S;return{year:b===0?"D√©but":`An ${b}`,capital:E,revenus:S,total:G}});const ae=x=>({Diversifi√©e:"bg-blue-500/20 text-blue-400 border-blue-500/30",R√©sidentiel:"bg-green-500/20 text-green-400 border-green-500/30",Sant√©:"bg-pink-500/20 text-pink-400 border-pink-500/30",Bureaux:"bg-blue-500/20 text-blue-400 border-blue-500/30",Europ√©enne:"bg-yellow-500/20 text-yellow-400 border-yellow-500/30",Logistique:"bg-amber-500/20 text-amber-400 border-amber-500/30"})[x]||"bg-slate-500/20 text-slate-400 border-slate-500/30";return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70 backdrop-blur-sm",onClick:R,children:e.jsxs("div",{className:"bg-slate-800 rounded-2xl border border-slate-700 shadow-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"sticky top-0 z-10 bg-slate-800 border-b border-slate-700 px-6 pt-12 pb-6 flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-3",children:[e.jsx(xe,{className:"w-7 h-7 text-emerald-400"}),"Analyse D√©taill√©e - ",t.name]}),e.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[e.jsx("span",{className:`inline-block px-2 py-1 rounded-lg text-xs font-semibold border ${ae(t.category)}`,children:t.category}),e.jsx("span",{className:"text-sm text-slate-400",children:t.managementCompany})]})]}),e.jsx("button",{onClick:l,className:"p-2 hover:bg-slate-700 rounded-lg transition-colors",children:e.jsx(ie,{className:"w-6 h-6 text-slate-400"})})]}),($||K)&&e.jsxs("div",{className:"px-6 pt-4 pb-2 flex items-center gap-3 flex-wrap",children:[$&&e.jsxs("div",{className:"text-xs text-white bg-slate-800/50 px-4 py-2 rounded-lg border border-slate-600 inline-block",children:["Mise √† jour BULLETIN TRIMESTRIEL D'INFORMATION ",$]}),K&&f&&e.jsxs("div",{className:`text-xs ${f.color} ${f.bgColor} px-4 py-2 rounded-lg border border-current/30 inline-flex items-center gap-2`,children:[e.jsx("span",{children:f.emoji}),e.jsx("span",{className:"font-semibold",children:f.label}),e.jsxs("span",{className:"text-slate-400",children:["(",K.donnees_completes_score,"/11 indicateurs)"]})]})]}),e.jsx("div",{className:"px-6 pt-4 pb-6",children:e.jsxs("div",{className:"bg-slate-700/30 rounded-xl border border-slate-700 p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(xe,{className:"w-6 h-6 text-cyan-400"}),"Chiffres cl√©s"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(()=>{const b=Ve(i||t);return e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-5 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(J,{className:"w-4 h-4 text-emerald-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:b.primaryLabel})]}),e.jsxs("div",{className:"text-2xl font-bold text-emerald-400",children:[b.primaryValue.toFixed(2),"%"]}),b.secondaryValue&&e.jsxs("div",{className:"mt-2 pt-2 border-t border-slate-600",children:[e.jsx("div",{className:"text-xs text-slate-500 mb-1",children:b.secondaryLabel}),e.jsxs("div",{className:"text-lg font-semibold text-slate-300",children:[b.secondaryValue.toFixed(2),"%"]})]}),b.netNotAvailable&&e.jsx("div",{className:"mt-2 pt-2 border-t border-amber-500/30",children:e.jsx("div",{className:"text-xs text-amber-400 font-medium",children:"‚ö†Ô∏è Taux net non communiqu√©"})}),e.jsx("div",{className:"mt-2 pt-2 border-t border-slate-600",children:e.jsx("div",{className:"text-[10px] text-slate-500 leading-tight",children:b.legalNotice})})]})})(),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-5 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Le,{className:"w-4 h-4 text-blue-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"TOF"})]}),e.jsxs("div",{className:"text-2xl font-bold text-blue-400",children:[(i?.tof??t.tof).toFixed(1),"%"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-5 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(qe,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"D√©cote/Surcote"})]}),(()=>{const x=t.reconstitutionValue??t.valeurReconstitution??0,b=x>0?(t.price-x)/x*100:0,S=b<0;return e.jsxs("div",{className:`text-2xl font-bold ${S?"text-emerald-400":b>0?"text-red-400":"text-slate-400"}`,children:[b>0?"+":"",b.toFixed(1),"%"]})})()]}),(()=>{const x=i?.capitalization??t.capitalization,b=Bt(x),S=x/1e6,G=x/1e9,F=S>=1e3?`${G.toFixed(1)}Md‚Ç¨`:`${S.toFixed(0)}M‚Ç¨`;return e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-5 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(re,{className:"w-4 h-4 text-purple-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Capitalisation"})]}),e.jsx("div",{className:"text-2xl font-bold text-purple-400 mb-1",children:F}),e.jsx("div",{className:"text-xs text-slate-500 mt-1",children:b.label}),e.jsx("div",{className:"text-[10px] text-slate-600 mt-1 leading-tight",children:b.liquidityQualification})]})})(),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-5 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ee,{className:"w-4 h-4 text-yellow-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Note"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(x=>e.jsx(ee,{className:`w-5 h-5 ${x<=de?"fill-yellow-400 text-yellow-400":"text-slate-600"}`},x)),e.jsxs("span",{className:"text-lg font-bold text-white ml-1",children:[de,"/5"]})]})]})]})]})}),P.length>0&&e.jsx("div",{className:"px-6 pt-4 pb-6",children:e.jsxs("div",{className:"bg-gradient-to-r from-blue-500/20 to-purple-500/20 rounded-xl border border-blue-500/30 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(J,{className:"w-6 h-6 text-blue-400"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Lecture rapide ‚Äì ce qu'il faut retenir"})]}),e.jsx("ul",{className:"space-y-2.5",children:P.map((x,b)=>{const S=b===P.length-1,G=x.match(/^([^\s]+)\s+(.+)$/),F=G?G[1]:"",B=G?G[2]:x;return e.jsxs("li",{className:`flex items-start gap-3 text-sm leading-relaxed ${S?"pt-3 mt-3 border-t border-blue-500/30 font-semibold text-white":"text-slate-200"}`,children:[e.jsx("span",{className:"text-lg mt-0.5 flex-shrink-0",role:"img","aria-label":"icon",children:F}),e.jsx("span",{className:"flex-1",children:B})]},b)})})]})}),e.jsxs("div",{className:"p-6 space-y-8",children:[(j.length>0||o.length>0)&&e.jsxs("div",{className:"bg-purple-500/10 rounded-xl border-2 border-purple-500/30 p-6 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"p-2 bg-purple-500/20 rounded-lg",children:e.jsx(xe,{className:"w-6 h-6 text-purple-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"Analyse MaximusSCPI"}),e.jsx("p",{className:"text-xs text-purple-300/70 mt-0.5",children:"Lecture structur√©e et interpr√©tation"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[j.length>0&&e.jsxs("div",{className:"bg-emerald-500/10 rounded-lg p-5 border border-emerald-500/20 shadow-md",children:[e.jsxs("h4",{className:"text-sm font-semibold text-emerald-400 mb-3 flex items-center gap-2",children:[e.jsx(Ke,{className:"w-4 h-4"}),"Avantages"]}),e.jsx("ul",{className:"space-y-3",children:j.map((x,b)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-300 leading-relaxed",children:[e.jsx(Ke,{className:"w-5 h-5 text-emerald-400 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"flex-1",children:x})]},b))})]}),o.length>0&&e.jsxs("div",{className:"bg-orange-500/10 rounded-lg p-5 border border-orange-500/20 shadow-md",children:[e.jsxs("h4",{className:"text-sm font-semibold text-orange-400 mb-3 flex items-center gap-2",children:[e.jsx(pe,{className:"w-4 h-4"}),"Points d'attention"]}),e.jsx("ul",{className:"space-y-3",children:o.map((x,b)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-slate-300 leading-relaxed",children:[e.jsx(pe,{className:"w-5 h-5 text-orange-400 flex-shrink-0 mt-0.5"}),e.jsx("span",{className:"flex-1",children:x})]},b))})]})]})]}),t.profilRisque!==void 0&&t.profilRisque!==null&&e.jsxs("div",{className:"bg-slate-700/30 rounded-xl border border-slate-700 p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(ne,{className:"w-6 h-6 text-purple-400"}),"Profil de Risque (SRRI)"]}),e.jsxs("div",{className:"md:hidden",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5,6,7].map(x=>{const b=x<=t.profilRisque;let S="bg-slate-600";return b&&(x<=3?S="bg-emerald-500":x===4?S="bg-orange-400":x<=6?S="bg-orange-600":S="bg-red-500"),e.jsx("div",{className:`w-5 h-6 rounded ${S} transition-all flex items-center justify-center text-xs font-bold text-white ${b?"opacity-100":"opacity-30"}`,title:`Niveau ${x}`,children:x},x)})}),e.jsxs("span",{className:"text-lg font-bold text-white ml-2",children:[t.profilRisque,"/7"]})]}),e.jsx("div",{className:"text-xs text-slate-400 text-center",children:t.profilRisque<=3?"Prudent":t.profilRisque<=5?"√âquilibr√©":"Dynamique"})]}),e.jsxs("div",{className:"hidden md:block",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx("div",{className:"flex-1 flex gap-1",children:[1,2,3,4,5,6,7].map(x=>{const b=x<=t.profilRisque;let S="bg-slate-600";return b&&(x<=3?S="bg-emerald-500":x===4?S="bg-orange-400":x<=6?S="bg-orange-600":S="bg-red-500"),e.jsx("div",{className:`flex-1 h-8 rounded ${S} transition-all flex items-center justify-center text-sm font-bold text-white ${b?"opacity-100":"opacity-30"}`,title:`Niveau ${x}`,children:x},x)})}),e.jsxs("div",{className:"ml-2 text-lg font-bold text-white min-w-[2rem] text-right",children:[t.profilRisque,"/7"]})]}),e.jsxs("div",{className:"flex justify-between text-xs text-slate-400",children:[e.jsx("span",{children:"Prudent"}),e.jsx("span",{children:"√âquilibr√©"}),e.jsx("span",{children:"Dynamique"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-700/30 rounded-xl border border-slate-700 p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(he,{className:"w-6 h-6 text-blue-400"}),"R√©partition Sectorielle"]}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{width:"100%",height:280,children:e.jsxs(we,{children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"gradBlue",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#60a5fa",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#2563eb",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradTeal",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#34d399",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#059669",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradOrange",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#fbbf24",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#d97706",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradPink",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#f472b6",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#db2777",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradPurple",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#a78bfa",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#7c3aed",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradCyan",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#0891b2",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradLime",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#a3e635",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#65a30d",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradRed",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#fb923c",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#ea580c",stopOpacity:1})]})]}),e.jsx(Ce,{data:[...t.sectors].sort((x,b)=>b.value-x.value),cx:"50%",cy:"50%",innerRadius:"50%",outerRadius:"90%",paddingAngle:0,dataKey:"value",animationBegin:0,animationDuration:800,animationEasing:"ease-out",children:t.sectors.sort((x,b)=>b.value-x.value).map((x,b)=>e.jsx(ye,{fill:`url(#${Se.sectors[b%Se.sectors.length]})`,stroke:"#1e293b",strokeWidth:2,style:{outline:"none"}},`cell-${b}`))}),e.jsx(ue,{content:e.jsx(tt,{})})]})}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:t.sectors.length}),e.jsx("div",{className:"text-sm text-slate-400",children:"secteurs"})]})]}),e.jsx("div",{className:"mt-4 space-y-2",children:t.sectors.sort((x,b)=>b.value-x.value).map((x,b)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Fe.sectors[b%Fe.sectors.length]}}),e.jsx("span",{className:"text-slate-300",children:x.name})]}),e.jsxs("span",{className:"font-semibold text-white",children:[x.value,"%"]})]},x.name))})]}),e.jsxs("div",{className:"bg-slate-700/30 rounded-xl border border-slate-700 p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(he,{className:"w-6 h-6 text-green-400"}),"R√©partition G√©ographique"]}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{width:"100%",height:280,children:e.jsxs(we,{children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"gradBlue2",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#60a5fa",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#2563eb",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradTeal2",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#34d399",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#059669",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradOrange2",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#fbbf24",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#d97706",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradPink2",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#f472b6",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#db2777",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradPurple2",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#a78bfa",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#7c3aed",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradCyan2",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#22d3ee",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#0891b2",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradLime2",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#a3e635",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#65a30d",stopOpacity:1})]}),e.jsxs("linearGradient",{id:"gradRed2",x1:"0",y1:"0",x2:"1",y2:"1",children:[e.jsx("stop",{offset:"0%",stopColor:"#fb923c",stopOpacity:1}),e.jsx("stop",{offset:"100%",stopColor:"#ea580c",stopOpacity:1})]})]}),e.jsx(Ce,{data:[...t.geography].sort((x,b)=>b.value-x.value),cx:"50%",cy:"50%",innerRadius:"50%",outerRadius:"90%",paddingAngle:0,dataKey:"value",animationBegin:0,animationDuration:800,animationEasing:"ease-out",children:t.geography.sort((x,b)=>b.value-x.value).map((x,b)=>e.jsx(ye,{fill:`url(#${Se.geography[b%Se.geography.length]})`,stroke:"#1e293b",strokeWidth:2,style:{outline:"none"}},`cell-geo-${b}`))}),e.jsx(ue,{content:e.jsx(tt,{})})]})}),e.jsxs("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-center pointer-events-none",children:[e.jsx("div",{className:"text-3xl font-bold text-white",children:t.geography.length}),e.jsx("div",{className:"text-sm text-slate-400",children:"pays"})]})]}),e.jsx("div",{className:"mt-4 space-y-2",children:t.geography.sort((x,b)=>b.value-x.value).map((x,b)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:Fe.geography[b%Fe.geography.length]}}),e.jsx("span",{className:"text-slate-300",children:x.name})]}),e.jsxs("span",{className:"font-semibold text-white",children:[x.value,"%"]})]},x.name))})]})]}),e.jsx("div",{className:"border-t border-slate-600/50 my-2"}),e.jsxs("div",{className:"bg-slate-700/30 rounded-xl border border-slate-700 p-6 shadow-lg",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-6 flex items-center gap-2",children:[e.jsx(xe,{className:"w-6 h-6 text-cyan-400"}),"Tableau de Bord Technique"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-cyan-400 mb-3 flex items-center gap-2",children:[e.jsx(Le,{className:"w-4 h-4"}),"Structure & Frais"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"w-4 h-4 text-emerald-400"}),e.jsx("div",{className:"text-xs text-emerald-400 font-semibold",children:"Prix de la part"})]}),e.jsxs("div",{className:"text-lg font-bold text-emerald-400",children:[t.price.toFixed(2),"‚Ç¨"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ve,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Minimum souscription"})]}),e.jsxs("div",{className:"text-lg font-bold text-white",children:[t.minInvestment.toFixed(2),"‚Ç¨"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ve,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Frais d'entr√©e"})]}),t.entryFees!==void 0?t.entryFees===0?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-lg font-bold text-white",children:"0%"}),e.jsx("span",{className:"px-2 py-0.5 bg-emerald-500/20 text-emerald-400 text-xs font-semibold rounded border border-emerald-500/30",children:"Sans frais"})]}):e.jsxs("div",{className:"text-lg font-bold text-white",children:[t.entryFees,"% TTC"]}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Frais de gestion"})]}),t.managementFees!==void 0||t.fraisGestion!==void 0?e.jsxs("div",{className:"text-lg font-bold text-white",children:[t.managementFees??t.fraisGestion,"% TTC"]}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(De,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"D√©lai de jouissance"})]}),t.delaiJouissance!==void 0?e.jsxs("div",{className:"text-lg font-bold text-white",children:[t.delaiJouissance," mois"]}):t.withdrawalDelay?e.jsx("div",{className:"text-lg font-bold text-white",children:t.withdrawalDelay}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(re,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Immeubles"})]}),oe!==void 0?e.jsx("div",{className:"text-lg font-bold text-white",children:oe}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]}),t.versementLoyers&&e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Versement des loyers"})]}),e.jsx("div",{className:"text-lg font-bold text-white",children:t.versementLoyers})]}),t.dureeDetentionRecommandee!==void 0&&e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Pe,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Dur√©e d√©tention recommand√©e"})]}),e.jsxs("div",{className:"text-lg font-bold text-white",children:[t.dureeDetentionRecommandee," ans"]})]}),t.sfdr&&e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ne,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"SFDR"})]}),e.jsx("div",{className:"text-lg font-bold text-white",children:t.sfdr})]}),t.profilCible&&e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ve,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Profil cible"})]}),e.jsx("div",{className:"text-lg font-bold text-white",children:t.profilCible})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-cyan-400 mb-3 flex items-center gap-2",children:[e.jsx(re,{className:"w-4 h-4"}),"Indicateurs Locatifs"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mb-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(re,{className:"w-4 h-4 text-cyan-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Nombre de locataires"})]}),y!==void 0?e.jsx("div",{className:"text-lg font-bold text-white",children:y}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(De,{className:"w-4 h-4 text-cyan-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"WALT"})]}),q!==void 0?e.jsxs("div",{className:"text-lg font-bold text-white",children:[q.toFixed(1)," ans"]}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(De,{className:"w-4 h-4 text-cyan-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"WALB"})]}),_!==void 0?e.jsxs("div",{className:"text-lg font-bold text-white",children:[_.toFixed(1)," ans"]}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"w-4 h-4 text-cyan-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Collecte nette trimestre"})]}),te!==void 0?e.jsxs("div",{className:"text-lg font-bold text-white",children:[(te/1e6).toFixed(1),"M‚Ç¨"]}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ve,{className:"w-4 h-4 text-cyan-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Nb cessions trimestre"})]}),se!==void 0?e.jsx("div",{className:"text-lg font-bold text-white",children:se}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Le,{className:"w-4 h-4 text-cyan-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Endettement"})]}),t.ltv!==void 0||i?.debt!==void 0?e.jsxs("div",{className:"text-lg font-bold text-white",children:[(t.ltv??i?.debt)?.toFixed(1),"%"]}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-orange-400 mb-3 flex items-center gap-2",children:[e.jsx(qe,{className:"w-4 h-4"}),"Valorisation & Risque"]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"w-4 h-4 text-emerald-400"}),e.jsx("div",{className:"text-xs text-emerald-400 font-semibold",children:"Val. Reconstitution"})]}),t.reconstitutionValue!==void 0||t.valeurReconstitution!==void 0?e.jsxs("div",{className:"text-lg font-bold text-emerald-400",children:[(t.reconstitutionValue??t.valeurReconstitution)?.toFixed(2),"‚Ç¨"]}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]}),(t.valeurRetrait!==void 0||t.reconstitutionValue!==void 0||t.valeurReconstitution!==void 0)&&e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ve,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Val. Retrait"})]}),t.valeurRetrait!==void 0?e.jsxs("div",{className:"text-lg font-bold text-white",children:[t.valeurRetrait.toFixed(2),"‚Ç¨"]}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]}),t.valeurRealisation!==void 0&&e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ve,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Val. R√©alisation"})]}),e.jsxs("div",{className:"text-lg font-bold text-white",children:[t.valeurRealisation.toFixed(2),"‚Ç¨"]})]}),t.distribution!==void 0&&e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Distribution (‚Ç¨/part)"})]}),e.jsxs("div",{className:"text-lg font-bold text-white",children:[t.distribution.toFixed(2),"‚Ç¨"]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-4 border border-slate-600 hover:bg-slate-800/70 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ne,{className:"w-4 h-4 text-slate-400"}),e.jsx("div",{className:"text-xs text-slate-400",children:"Report √† Nouveau"})]}),t.ranDays!==void 0?e.jsxs("div",{className:"text-lg font-bold text-white",children:[t.ranDays," jours"]}):e.jsx("div",{className:"text-lg font-bold text-slate-500",children:"N/A"})]})]})]}),e.jsxs("div",{className:"bg-slate-800/50 rounded-lg p-5 border border-slate-600 shadow-md",children:[e.jsx("div",{className:"text-sm font-semibold text-slate-300 mb-3",children:"Strat√©gie d'Investissement"}),e.jsx("p",{className:"text-sm text-slate-400 leading-relaxed",children:t.strategy})]})]})]}),e.jsx("div",{className:"border-t border-slate-600/50 my-2"}),i?.actualitesTrimestrielles&&e.jsx("div",{className:"bg-slate-700/30 rounded-xl border border-slate-700 overflow-hidden",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{className:"p-2 bg-blue-500/20 rounded-lg",children:e.jsx(Zt,{className:"w-5 h-5 text-blue-400"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Actualit√© Trimestrielle"}),e.jsx("p",{className:"text-xs text-slate-400 mt-0.5",children:N?`Bulletin ${$||""} - ${N}`.trim():$?`Bulletin ${$}`:"Donn√©es officielles du bulletin"})]})]}),k?e.jsx("div",{className:"text-sm text-slate-200 leading-relaxed space-y-3 bg-slate-800/40 rounded-lg p-5 border border-blue-500/20",dangerouslySetInnerHTML:{__html:k}}):e.jsx("div",{className:"text-sm text-slate-300 leading-relaxed space-y-3 bg-slate-800/40 rounded-lg p-5 border border-blue-500/20",children:e.jsx("p",{className:"text-slate-400 italic",children:"Actualit√©s en cours de traitement..."})})]})}),e.jsx("div",{className:"bg-blue-500/10 rounded-lg p-5 border border-blue-500/20 shadow-md",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-blue-400 mb-1",children:"Note importante"}),e.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:"Les performances pass√©es ne pr√©jugent pas des performances futures. Les revenus sont estim√©s et peuvent varier selon le taux d'occupation r√©el et la politique de distribution."})]})]})})]}),e.jsx("div",{className:"sticky bottom-0 bg-slate-800 border-t border-slate-700 px-6 py-4",onClick:x=>x.stopPropagation(),children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("button",{type:"button",onClick:x=>{x.preventDefault(),x.stopPropagation(),l()},className:"flex-1 px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-bold transition-colors flex items-center justify-center gap-2",children:[e.jsx(ie,{className:"w-5 h-5"}),"Fermer l'analyse"]}),d&&!m&&e.jsxs("button",{type:"button",onClick:x=>{x.preventDefault(),x.stopPropagation(),d(),c&&c("SCPI ajout√©e √† votre s√©lection"),l()},className:"flex-1 px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg font-bold transition-colors flex items-center justify-center gap-2",children:[e.jsx(Ge,{className:"w-5 h-5"}),"Ajouter"]})]})})]})})},ps=({selectedScpis:s})=>{const{getWeightedYield:l,getMonthlyRevenue:t,weights:d}=be(),m=g.useMemo(()=>{const p=l(s),v=t(s),D=new Set,R=new Set;s.forEach(P=>{P.sectors.forEach(k=>D.add(k.name)),P.geography.forEach(k=>R.add(k.name))});const i=s.reduce((P,k)=>P+(d[k.id]||0),0),j=i>0?s.reduce((P,k)=>{const $=d[k.id]||0;return P+k.tof*$},0)/i:0;let o=3;return s.length<2?p<5?o=1:p<6.5?o=2:p<8?o=3:o=4:p<8?o=3:o=4,{yield:p,monthlyRevenue:v,sectorsCount:D.size,zonesCount:R.size,quality:j,riskScore:o}},[s,l,t,d]),c=p=>p<=2?"Prudent":p<=4?"Mod√©r√©":p<=5?"Dynamique":"Agressif",u=p=>p<=2?"text-green-400":p<=4?"text-blue-400":p<=5?"text-yellow-400":"text-red-400";return s.length===0?null:e.jsxs("div",{className:"bg-gradient-to-br from-slate-800 via-slate-800 to-slate-900 rounded-2xl p-6 border-2 border-emerald-500/30 shadow-xl mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:e.jsx(J,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-white",children:"Analyse du Portefeuille"}),e.jsxs("p",{className:"text-xs text-slate-400",children:[s.length," SCPI ‚Ä¢ ",m.sectorsCount," Secteurs"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(J,{className:"w-4 h-4 text-emerald-400"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Rendement"})]}),e.jsxs("p",{className:"text-2xl font-bold text-emerald-400 mb-1",children:[m.yield.toFixed(2),"%"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Moyen"})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(W,{className:"w-4 h-4 text-blue-400"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Revenus/mois"})]}),e.jsxs("p",{className:"text-2xl font-bold text-blue-400 mb-1",children:[Math.round(m.monthlyRevenue),"‚Ç¨"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"Estim√©"})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(he,{className:"w-4 h-4 text-purple-400"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Secteurs / Zones"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:m.sectorsCount}),e.jsx("p",{className:"text-xs text-slate-500",children:"Secteurs distincts"})]}),e.jsx("div",{className:"h-8 w-px bg-slate-700"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:m.zonesCount}),e.jsx("p",{className:"text-xs text-slate-500",children:"Zones"})]})]})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(ne,{className:"w-4 h-4 text-green-400"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Qualit√©"})]}),e.jsxs("p",{className:"text-2xl font-bold text-green-400 mb-1",children:[m.quality.toFixed(1),"%"]}),e.jsx("p",{className:"text-xs text-slate-500",children:"TOF"})]}),e.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(pe,{className:"w-4 h-4 text-yellow-400"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Profil Risque"})]}),e.jsx("p",{className:`text-2xl font-bold mb-1 ${u(m.riskScore)}`,children:c(m.riskScore)}),e.jsx("div",{className:"flex items-center gap-1 mt-2",children:[1,2,3,4,5,6,7].map(p=>e.jsx("div",{className:`flex-1 h-1.5 rounded-full ${p<=m.riskScore?m.riskScore<=2?"bg-green-400":m.riskScore<=4?"bg-blue-400":m.riskScore<=5?"bg-yellow-400":"bg-red-400":"bg-slate-700"}`},p))}),e.jsxs("div",{className:"flex justify-between mt-1",children:[e.jsx("span",{className:"text-xs text-slate-600",children:"1"}),e.jsx("span",{className:"text-xs text-slate-600",children:"7"})]})]})]})]})},bs=({selectedScpis:s})=>{const{weights:l,setWeight:t,distributeEqually:d,getAllocationDetails:m,totalInvestment:c}=be(),u=g.useMemo(()=>m(s),[s,m]),p=g.useMemo(()=>u.reduce((D,R)=>D+R.weight,0),[u]),v=Math.abs(p-100)>.1;return e.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700 shadow-xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-bold text-white",children:"R√©partition Personnalis√©e"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Ajustez les poids de chaque SCPI dans votre portefeuille"})]}),e.jsxs("button",{onClick:()=>d(s),className:"flex items-center gap-2 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded-lg font-medium transition-colors",children:[e.jsx(Xt,{className:"w-4 h-4"}),e.jsx("span",{children:"R√©partir √©quitablement"})]})]}),e.jsx("div",{className:`mb-6 p-4 rounded-xl border-2 ${v?"bg-red-500/10 border-red-500/50":"bg-emerald-500/10 border-emerald-500/50"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[v&&e.jsx(pe,{className:"w-5 h-5 text-red-400"}),e.jsxs("span",{className:`font-semibold ${v?"text-red-400":"text-emerald-400"}`,children:["Total: ",p.toFixed(1),"%"]})]}),v&&e.jsx("span",{className:"text-sm text-red-400",children:"La somme doit √™tre √©gale √† 100%"})]})}),e.jsx("div",{className:"space-y-6",children:s.map(D=>{const R=l[D.id]||0,i=c*R/100;return e.jsxs("div",{className:"bg-slate-900/50 rounded-xl p-4 border border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{children:[e.jsx("h4",{className:"text-base font-bold text-white",children:D.name}),e.jsx("p",{className:"text-xs text-slate-400",children:D.managementCompany})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-lg font-bold text-emerald-400",children:[R.toFixed(1),"%"]}),e.jsxs("p",{className:"text-sm text-slate-400",children:[i.toLocaleString("fr-FR"),"‚Ç¨"]})]})]}),e.jsx("input",{type:"range",min:"0",max:"100",step:"0.1",value:R,onChange:j=>t(D.id,Number(j.target.value)),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer slider-emerald"}),e.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:[e.jsx("span",{children:"0%"}),e.jsx("span",{children:"50%"}),e.jsx("span",{children:"100%"})]})]},D.id)})}),e.jsx("style",{jsx:!0,children:`
        .slider-emerald::-webkit-slider-thumb {
          appearance: none;
          width: 20px;
          height: 20px;
          background: #10b981;
          cursor: pointer;
          border-radius: 50%;
          box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        .slider-emerald::-moz-range-thumb {
          width: 20px;
          height: 20px;
          background: #10b981;
          cursor: pointer;
          border-radius: 50%;
          box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
          border: none;
        }
      `})]})},gs=({selectedScpis:s})=>{const{getWeightedYield:l,getMonthlyRevenue:t,getTenYearProjection:d}=be(),m=l(s),c=t(s),u=d(s),p=[{icon:J,label:"Rendement Moyen Pond√©r√©",value:`${m.toFixed(2)}%`,color:"emerald",bgGradient:"from-emerald-500/20 to-emerald-600/20",iconBg:"bg-emerald-500/20",textColor:"text-emerald-400"},{icon:W,label:"Revenus Mensuels Estim√©s",value:`${c.toLocaleString("fr-FR",{maximumFractionDigits:0})}‚Ç¨`,color:"blue",bgGradient:"from-blue-500/20 to-blue-600/20",iconBg:"bg-blue-500/20",textColor:"text-blue-400"},{icon:Pe,label:"Gain Total sur 10 ans",value:`${u.toLocaleString("fr-FR",{maximumFractionDigits:0})}‚Ç¨`,color:"purple",bgGradient:"from-purple-500/20 to-purple-600/20",iconBg:"bg-purple-500/20",textColor:"text-purple-400"}];return e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:p.map((v,D)=>{const R=v.icon;return e.jsxs("div",{className:`bg-gradient-to-br ${v.bgGradient} rounded-2xl p-6 border border-slate-700 shadow-xl`,children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsx("div",{className:`w-12 h-12 rounded-xl ${v.iconBg} flex items-center justify-center`,children:e.jsx(R,{className:`w-6 h-6 ${v.textColor}`})})}),e.jsx("p",{className:"text-sm text-slate-400 mb-2",children:v.label}),e.jsx("p",{className:`text-3xl font-bold ${v.textColor}`,children:v.value})]},D)})})},fs=({selectedScpis:s})=>{const{totalInvestment:l,getWeightedYield:t}=be(),d=g.useMemo(()=>{const c=t(s)/100,u=15,p=[];for(let v=0;v<=u;v++){const D=l+l*c*v;p.push({year:v,capital:l,value:Math.round(D)})}return p},[l,s,t]),m=({active:c,payload:u})=>c&&u&&u.length?e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-xl",children:[e.jsxs("p",{className:"text-sm text-slate-400 mb-2",children:["Ann√©e ",u[0].payload.year]}),e.jsxs("p",{className:"text-sm font-semibold text-blue-400",children:["Capital initial: ",u[0].value.toLocaleString("fr-FR"),"‚Ç¨"]}),e.jsxs("p",{className:"text-sm font-semibold text-emerald-400",children:["Valeur totale: ",u[1].value.toLocaleString("fr-FR"),"‚Ç¨"]}),e.jsxs("p",{className:"text-sm font-semibold text-purple-400 mt-1",children:["Gains: ",(u[1].value-u[0].value).toLocaleString("fr-FR"),"‚Ç¨"]})]}):null;return e.jsx("div",{className:"h-80",children:e.jsx(me,{width:"100%",height:"100%",children:e.jsxs(_t,{data:d,margin:{top:10,right:10,left:0,bottom:0},children:[e.jsxs("defs",{children:[e.jsxs("linearGradient",{id:"colorCapital",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),e.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[e.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),e.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:0})]})]}),e.jsx(rt,{strokeDasharray:"3 3",stroke:"#334155"}),e.jsx(nt,{dataKey:"year",stroke:"#94a3b8",style:{fontSize:"12px"},label:{value:"Ann√©es",position:"insideBottom",offset:-5,fill:"#94a3b8"}}),e.jsx(it,{stroke:"#94a3b8",style:{fontSize:"12px"},tickFormatter:c=>`${(c/1e3).toFixed(0)}K‚Ç¨`}),e.jsx(ue,{content:e.jsx(m,{})}),e.jsx(Yt,{wrapperStyle:{paddingTop:"20px"},iconType:"circle"}),e.jsx(Ue,{type:"monotone",dataKey:"capital",stroke:"#3b82f6",strokeWidth:2,fillOpacity:1,fill:"url(#colorCapital)",name:"Capital Initial"}),e.jsx(Ue,{type:"monotone",dataKey:"value",stroke:"#10b981",strokeWidth:2,fillOpacity:1,fill:"url(#colorValue)",name:"Valeur Projet√©e"})]})})})},st=["#2563eb","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1","#fb923c","#4ade80"],js=({selectedScpis:s})=>{const{weights:l}=be(),t=g.useMemo(()=>{const d={};return s.forEach(m=>{const c=l[m.id]||0;m.sectors.forEach(u=>{const p=u.value*c/100;d[u.name]=(d[u.name]||0)+p})}),Object.entries(d).map(([m,c],u)=>({name:m,value:Math.round(c*10)/10,color:st[u%st.length]})).filter(m=>m.value>0).sort((m,c)=>c.value-m.value)},[s,l]);return t.length===0?e.jsx("div",{className:"h-80 flex items-center justify-center text-slate-400",children:e.jsx("p",{children:"Aucune donn√©e sectorielle"})}):e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-emerald-400 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-emerald-400"}),"R√©partition Sectorielle"]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(ot,{data:t,width:280,height:280,animated:!0})}),e.jsx("div",{className:"space-y-2",children:t.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50 hover:border-slate-600 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full shadow-sm",style:{backgroundColor:d.color}}),e.jsx("span",{className:"text-sm text-slate-300 font-medium",children:d.name})]}),e.jsxs("span",{className:"text-sm font-bold text-white",children:[d.value.toFixed(1),"%"]})]},d.name))})]})},at=["#2563eb","#10b981","#f59e0b","#ef4444","#8b5cf6","#06b6d4","#84cc16","#f97316","#ec4899","#6366f1","#fb923c","#4ade80"],vs=({selectedScpis:s})=>{const{weights:l}=be(),t=g.useMemo(()=>{const d={};return s.forEach(m=>{const c=l[m.id]||0;m.geography.forEach(u=>{const p=u.value*c/100;d[u.name]=(d[u.name]||0)+p})}),Object.entries(d).map(([m,c],u)=>({name:m,value:Math.round(c*10)/10,color:at[u%at.length]})).filter(m=>m.value>0).sort((m,c)=>c.value-m.value)},[s,l]);return t.length===0?e.jsx("div",{className:"h-80 flex items-center justify-center text-slate-400",children:e.jsx("p",{children:"Aucune donn√©e g√©ographique"})}):e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-semibold text-blue-400 mb-4 flex items-center gap-2",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-400"}),"R√©partition G√©ographique"]}),e.jsx("div",{className:"flex justify-center mb-6",children:e.jsx(ot,{data:t,width:280,height:280,animated:!0})}),e.jsx("div",{className:"space-y-2",children:t.map(d=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-slate-900/50 rounded-lg border border-slate-700/50 hover:border-slate-600 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full shadow-sm",style:{backgroundColor:d.color}}),e.jsx("span",{className:"text-sm text-slate-300 font-medium",children:d.name})]}),e.jsxs("span",{className:"text-sm font-bold text-white",children:[d.value.toFixed(1),"%"]})]},d.name))})]})},Ns=({isOpen:s,onClose:l,selectedScpis:t})=>{const{totalInvestment:d,setTotalInvestment:m,distributeEqually:c}=be();return console.log("‚úÖ SimulationModal avec bouton SOUSCRIRE - Version 2025-12-20"),g.useEffect(()=>{s&&t.length>0&&c(t)},[s,t,c]),s?e.jsx("div",{className:"fixed inset-0 z-50 overflow-hidden bg-slate-900",children:e.jsxs("div",{className:"h-full flex flex-col",children:[e.jsx("div",{className:"bg-gradient-to-r from-slate-800 to-slate-900 border-b border-slate-700 shadow-xl",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-emerald-500/10 flex items-center justify-center",children:e.jsx(J,{className:"w-6 h-6 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-white",children:"Simulation d'Investissement"}),e.jsxs("p",{className:"text-sm text-slate-400",children:[t.length," SCPI s√©lectionn√©e",t.length>1?"s":""]})]})]}),e.jsx("button",{onClick:l,className:"p-2 rounded-lg hover:bg-slate-700 text-slate-400 hover:text-white transition-colors",children:e.jsx(ie,{className:"w-6 h-6"})})]})})}),e.jsx("div",{className:"flex-1 overflow-y-auto bg-slate-900",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[e.jsx(ps,{selectedScpis:t}),e.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700 shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(W,{className:"w-6 h-6 text-emerald-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Montant Total √† Investir"})]}),e.jsxs("div",{className:"max-w-md",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",value:d,onChange:u=>m(Math.max(0,Number(u.target.value))),className:"w-full px-6 py-4 bg-slate-900 border-2 border-slate-700 rounded-xl text-white text-2xl font-bold focus:border-emerald-500 focus:outline-none transition-colors",min:"0",step:"1000"}),e.jsx("span",{className:"absolute right-6 top-1/2 -translate-y-1/2 text-2xl font-bold text-slate-400",children:"‚Ç¨"})]}),e.jsx("div",{className:"mt-3 flex gap-2",children:[1e4,25e3,5e4,1e5].map(u=>e.jsxs("button",{onClick:()=>m(u),className:"px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-300 hover:text-white rounded-lg text-sm font-medium transition-colors",children:[(u/1e3).toFixed(0),"K‚Ç¨"]},u))})]})]}),e.jsx(bs,{selectedScpis:t}),e.jsx(gs,{selectedScpis:t}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700 shadow-xl",children:e.jsx(js,{selectedScpis:t})}),e.jsx("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700 shadow-xl",children:e.jsx(vs,{selectedScpis:t})})]}),e.jsxs("div",{className:"bg-slate-800 rounded-2xl p-6 border border-slate-700 shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Pe,{className:"w-6 h-6 text-purple-400"}),e.jsx("h3",{className:"text-xl font-bold text-white",children:"Projection sur 15 ans"})]}),e.jsx(fs,{selectedScpis:t})]})]})}),e.jsx("div",{className:"bg-slate-800 border-t border-slate-700 px-4 sm:px-6 lg:px-8 py-4",children:e.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[e.jsx("p",{className:"text-sm text-slate-400",children:"Les r√©sultats sont indicatifs et bas√©s sur les performances pass√©es"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsx("button",{onClick:l,className:"px-6 py-3 bg-slate-700 hover:bg-slate-600 text-white rounded-xl font-semibold transition-colors",children:"Retour"}),e.jsxs("button",{onClick:()=>{window.history.pushState({scpis:t},"","/souscription"),window.dispatchEvent(new PopStateEvent("popstate")),window.scrollTo({top:0,behavior:"smooth"})},className:"px-6 py-3 bg-emerald-600 hover:bg-emerald-700 text-white rounded-xl font-semibold transition-colors shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2",children:[e.jsx(Ft,{className:"w-5 h-5"}),e.jsx("span",{children:"Commencer ma souscription"})]})]})]})})]})}):null},ys=["France","Europe","International"],ws=[{label:"Bureaux",keywords:["bureau","tertiaire"]},{label:"Commerces",keywords:["commerce","retail","alimentaire","galerie"]},{label:"Logistique",keywords:["logistique","entrep√¥t","entrepot","activit√©","activite","transport","messagerie"]},{label:"Sant√©",keywords:["sant√©","sante","ehpad","clinique","h√¥pital","hopital","m√©dical","medical"]},{label:"R√©sidentiel",keywords:["r√©sidentiel","residentiel","logement","habitation","r√©sidence","residence"]},{label:"H√¥tellerie",keywords:["h√¥tel","hotel","hotellerie","tourisme","loisir","s√©minaire","seminaire"]},{label:"√âducation",keywords:["√©ducation","education","enseignement","√©cole","ecole","universit√©","universite"]}],Cs=({isOpen:s,onClose:l,filters:t,onFiltersChange:d,resultCount:m})=>{if(!s)return null;const c=o=>{d({...t,...o})},u=o=>{const P=t.geographies.includes(o)?t.geographies.filter(k=>k!==o):[...t.geographies,o];c({geographies:P})},p=o=>{const P=t.sectors.includes(o)?t.sectors.filter(k=>k!==o):[...t.sectors,o];c({sectors:P})},v=()=>{d({tmi:null,minYield:0,priceRange:"all",geographies:[],sectors:[],sectorThreshold:"25",hasISR:null,noEntryFees:!1,expertMode:!1,discountRange:[-15,10],minRanDays:0,maxLtv:100,noWaitingShares:!1})},D=o=>o===null?{icon:Ae,color:"slate",text:"S√©lectionnez votre TMI pour recevoir des recommandations fiscales personnalis√©es."}:o<=11?{icon:Ae,color:"emerald",text:"La fiscalit√© impacte peu votre rendement. Les SCPI fran√ßaises √† haut rendement sont excellentes pour vous."}:{icon:Ee,color:"amber",text:"Conseil Expert : Avec votre imposition, privil√©giez les SCPI Europ√©ennes (Allemagne, Espagne...) pour √©viter la lourde fiscalit√© fran√ßaise."},R=[{value:0,label:"0%"},{value:11,label:"11%"},{value:30,label:"30%"},{value:41,label:"41%"},{value:45,label:"45%"}],i=D(t.tmi),j=o=>o>=-15&&o<=-5?"text-emerald-400":o<-5?"text-amber-400":"text-slate-400";return e.jsxs("div",{className:"fixed inset-0 z-50 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm transition-opacity",onClick:l}),e.jsxs("div",{className:"absolute inset-x-0 bottom-0 md:inset-y-0 md:right-0 md:left-auto md:w-[480px] bg-slate-800 shadow-2xl flex flex-col animate-in slide-in-from-bottom md:slide-in-from-right duration-300 max-h-screen",children:[e.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-600 flex items-center justify-center",children:e.jsx(ze,{className:"w-5 h-5 text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-white",children:"Filtres Avanc√©s"})]}),e.jsx("button",{onClick:l,className:"w-10 h-10 rounded-full flex items-center justify-center hover:bg-slate-700 transition-colors",children:e.jsx(ie,{className:"w-5 h-5 text-slate-400"})})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-6 space-y-8",children:[e.jsxs("div",{className:"bg-gradient-to-br from-slate-800/80 to-slate-900/80 rounded-xl p-5 border-2 border-emerald-500/30 shadow-xl",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-500/20 flex items-center justify-center",children:e.jsx(ne,{className:"w-5 h-5 text-emerald-400"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold text-white",children:"Votre Tranche Marginale d'Imposition"}),e.jsx("p",{className:"text-xs text-slate-400",children:"Optimisation fiscale personnalis√©e"})]})]}),e.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:R.map(o=>e.jsx("button",{onClick:()=>c({tmi:o.value}),className:`py-3 rounded-xl font-bold text-sm transition-all ${t.tmi===o.value?"bg-emerald-600 text-white border-2 border-emerald-500 shadow-lg shadow-emerald-500/30 scale-105":"bg-slate-700 text-slate-300 border-2 border-slate-600 hover:border-slate-500 hover:bg-slate-600"}`,children:o.label},o.value))}),e.jsxs("div",{className:`flex items-start gap-3 p-4 rounded-lg border-2 ${i.color==="emerald"?"bg-emerald-500/10 border-emerald-500/30":i.color==="amber"?"bg-amber-500/10 border-amber-500/30":"bg-slate-700/50 border-slate-600"}`,children:[e.jsx(i.icon,{className:`w-5 h-5 flex-shrink-0 mt-0.5 ${i.color==="emerald"?"text-emerald-400":i.color==="amber"?"text-amber-400":"text-slate-400"}`}),e.jsx("p",{className:`text-sm leading-relaxed ${i.color==="emerald"?"text-emerald-200":i.color==="amber"?"text-amber-200":"text-slate-300"}`,children:i.text})]})]}),e.jsx("div",{className:"bg-slate-700/50 rounded-xl p-4 border border-slate-600",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-slate-300",children:"R√©sultats trouv√©s"}),e.jsx("span",{className:"text-2xl font-bold text-emerald-400",children:m})]})}),e.jsx("div",{className:"bg-gradient-to-r from-amber-900/30 to-amber-800/30 rounded-xl p-4 border border-amber-700/50",children:e.jsxs("label",{className:"flex items-center justify-between cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Je,{className:"w-5 h-5 text-amber-400"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-bold text-amber-200 block",children:"Mode Expert (CGP)"}),e.jsx("span",{className:"text-xs text-amber-400/70",children:"Crit√®res avanc√©s professionnels"})]})]}),e.jsx("button",{onClick:o=>{o.preventDefault(),c({expertMode:!t.expertMode})},className:`relative inline-flex h-7 w-14 items-center rounded-full transition-colors ${t.expertMode?"bg-amber-500":"bg-slate-600"}`,children:e.jsx("span",{className:`inline-block h-5 w-5 transform rounded-full bg-white transition-transform ${t.expertMode?"translate-x-8":"translate-x-1"}`})})]})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(J,{className:"w-5 h-5 text-emerald-500"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Performance & Budget"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-3",children:"Rendement Minimum"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"range",min:"0",max:"10",step:"0.5",value:t.minYield,onChange:o=>c({minYield:parseFloat(o.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-emerald-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-emerald-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm text-slate-400",children:"0%"}),e.jsxs("span",{className:"px-3 py-1 bg-emerald-600 rounded-lg font-bold text-white",children:["Min ",t.minYield,"%"]}),e.jsx("span",{className:"text-sm text-slate-400",children:"10%"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-slate-300 mb-3",children:"Prix de la Part"}),e.jsx("div",{className:"space-y-2",children:[{value:"all",label:"Tout",icon:Ne},{value:"accessible",label:"Accessible (< 300‚Ç¨)",icon:Ne},{value:"standard",label:"Standard (300‚Ç¨ - 1000‚Ç¨)",icon:Ne},{value:"premium",label:"Premium (> 1000‚Ç¨)",icon:Ne}].map(o=>e.jsxs("label",{className:`flex items-center gap-3 p-3 rounded-lg border-2 cursor-pointer transition-all ${t.priceRange===o.value?"border-emerald-500 bg-emerald-600/20":"border-slate-600 hover:border-slate-500 bg-slate-700/50"}`,children:[e.jsx("input",{type:"radio",name:"priceRange",value:o.value,checked:t.priceRange===o.value,onChange:P=>c({priceRange:P.target.value}),className:"w-4 h-4 text-emerald-600 focus:ring-2 focus:ring-emerald-500 bg-slate-600 border-slate-500"}),e.jsx(o.icon,{className:"w-4 h-4 text-slate-400"}),e.jsx("span",{className:"text-sm font-medium text-white flex-1",children:o.label})]},o.value))})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(re,{className:"w-5 h-5 text-emerald-500"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Strat√©gie"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(Pt,{className:"w-4 h-4 text-slate-400"}),e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"G√©ographie"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:ys.map(o=>e.jsx("button",{onClick:()=>u(o),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${t.geographies.includes(o)?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/30":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:o},o))})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(re,{className:"w-4 h-4 text-slate-400"}),e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Secteurs d'activit√©"})]}),t.sectors.length>0&&e.jsxs("div",{className:"mb-4 p-3 bg-slate-800/50 rounded-lg border border-slate-600",children:[e.jsx("label",{className:"block text-xs font-semibold text-slate-300 mb-2",children:"Seuil minimum d'exposition"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:[{value:"any",label:"Toute exposition",desc:"‚â•0%"},{value:"10",label:"Mod√©r√©e",desc:"‚â•10%"},{value:"25",label:"Significative",desc:"‚â•25%"},{value:"50",label:"Dominante",desc:"‚â•50%"},{value:"80",label:"Pure player",desc:"‚â•80%"}].map(o=>e.jsx("button",{onClick:()=>c({sectorThreshold:o.value}),className:`px-3 py-2 rounded-lg text-xs font-medium transition-all border ${t.sectorThreshold===o.value?"bg-emerald-600 text-white border-emerald-500 shadow-lg shadow-emerald-500/30":"bg-slate-700 text-slate-300 border-slate-600 hover:bg-slate-600"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"font-semibold",children:o.label}),e.jsx("div",{className:"text-[10px] opacity-80",children:o.desc})]})},o.value))})]}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:ws.map(o=>e.jsx("button",{onClick:()=>p(o.label),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all ${t.sectors.includes(o.label)?"bg-emerald-600 text-white shadow-lg shadow-emerald-500/30":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,children:o.label},o.label))}),e.jsx("div",{className:"mt-3 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx(Ae,{className:"w-4 h-4 text-blue-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"text-xs text-blue-200 leading-relaxed",children:[e.jsx("p",{className:"font-semibold mb-1",children:"Allocation sectorielle intelligente"}),e.jsx("p",{children:"Ce filtre vous permet de cibler les SCPI selon leur exposition r√©elle √† un secteur. Plus le seuil est √©lev√©, plus la SCPI est sp√©cialis√©e dans le secteur choisi. Les r√©sultats sont tri√©s par pertinence pour faciliter votre analyse patrimoniale."})]})]})})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx(Te,{className:"w-5 h-5 text-emerald-500"}),e.jsx("h3",{className:"text-lg font-bold text-white",children:"Avanc√©"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg bg-slate-700/50 border border-slate-600 cursor-pointer hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Te,{className:"w-5 h-5 text-emerald-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-white block",children:"Label ISR"}),e.jsx("span",{className:"text-xs text-slate-400",children:"Investissement Socialement Responsable"})]})]}),e.jsx("button",{onClick:o=>{o.preventDefault(),c({hasISR:t.hasISR===!0?null:!0})},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${t.hasISR===!0?"bg-emerald-600":"bg-slate-600"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${t.hasISR===!0?"translate-x-6":"translate-x-1"}`})})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg bg-slate-700/50 border border-slate-600 cursor-pointer hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ne,{className:"w-5 h-5 text-emerald-500"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-white block",children:"Sans frais d'entr√©e"}),e.jsx("span",{className:"text-xs text-slate-400",children:"0% de frais de souscription"})]})]}),e.jsx("input",{type:"checkbox",checked:t.noEntryFees,onChange:o=>c({noEntryFees:o.target.checked}),className:"w-5 h-5 rounded text-emerald-600 focus:ring-2 focus:ring-emerald-500 bg-slate-600 border-slate-500"})]})]})]}),t.expertMode&&e.jsxs("div",{className:"bg-slate-800/50 rounded-xl p-6 border-2 border-amber-700/30 space-y-6 animate-in fade-in slide-in-from-top duration-300",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-3 border-b border-amber-700/30",children:[e.jsx(Je,{className:"w-5 h-5 text-amber-400"}),e.jsx("h3",{className:"text-lg font-bold text-amber-200",children:"Crit√®res Professionnels"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(qe,{className:"w-5 h-5 text-amber-400"}),e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"D√©cote vs Valeur de Reconstitution"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 pointer-events-none",children:e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 w-[40%] h-2 bg-emerald-500/20 rounded-l-lg"})}),e.jsx("input",{type:"range",min:"-15",max:"10",step:"0.5",value:t.discountRange[0],onChange:o=>c({discountRange:[parseFloat(o.target.value),t.discountRange[1]]}),className:"relative w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer z-10 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-amber-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg [&::-webkit-slider-thumb]:relative [&::-webkit-slider-thumb]:z-20 [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-amber-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsxs("div",{className:"flex flex-col items-start",children:[e.jsx("span",{className:"text-slate-400",children:"Min"}),e.jsxs("span",{className:`px-2 py-1 bg-slate-700 rounded-lg font-bold ${j(t.discountRange[0])}`,children:[t.discountRange[0],"%"]})]}),e.jsxs("div",{className:"flex items-center gap-1 px-3 py-1 bg-emerald-600/20 rounded-lg border border-emerald-500/30",children:[e.jsx(ne,{className:"w-3 h-3 text-emerald-400"}),e.jsx("span",{className:"text-emerald-400 font-medium text-[10px]",children:"Zone Opportunit√©: -15% √† -5%"})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:"text-slate-400",children:"Max"}),e.jsxs("span",{className:`px-2 py-1 bg-slate-700 rounded-lg font-bold ${j(t.discountRange[1])}`,children:[t.discountRange[1],"%"]})]})]})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ne,{className:"w-5 h-5 text-amber-400"}),e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"S√©curit√© du Rendement (RAN)"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"range",min:"0",max:"120",step:"5",value:t.minRanDays,onChange:o=>c({minRanDays:parseInt(o.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-amber-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-amber-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"0 jours"}),e.jsxs("span",{className:"px-3 py-1 bg-amber-600 rounded-lg font-bold text-white text-sm",children:["Min ",t.minRanDays," jours"]}),e.jsx("span",{className:"text-xs text-slate-400",children:"120 jours"})]}),e.jsx("p",{className:"text-xs text-slate-400 italic",children:"Report √† Nouveau : r√©serves de distribution"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(pe,{className:"w-5 h-5 text-amber-400"}),e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Endettement Maximum (LTV)"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"range",min:"0",max:"50",step:"5",value:t.maxLtv,onChange:o=>c({maxLtv:parseInt(o.target.value)}),className:"w-full h-2 bg-slate-700 rounded-lg appearance-none cursor-pointer [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-amber-500 [&::-webkit-slider-thumb]:cursor-pointer [&::-webkit-slider-thumb]:shadow-lg [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-amber-500 [&::-moz-range-thumb]:border-0 [&::-moz-range-thumb]:cursor-pointer"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-xs text-slate-400",children:"0%"}),e.jsxs("span",{className:`px-3 py-1 rounded-lg font-bold text-white text-sm ${t.maxLtv<=30?"bg-emerald-600":t.maxLtv<=40?"bg-amber-600":"bg-red-600"}`,children:["Max ",t.maxLtv,"%"]}),e.jsx("span",{className:"text-xs text-slate-400",children:"50%"})]}),e.jsx("p",{className:"text-xs text-slate-400 italic",children:"Loan-to-Value : ratio d'endettement"})]})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[e.jsx(ne,{className:"w-5 h-5 text-amber-400"}),e.jsx("label",{className:"text-sm font-semibold text-slate-300",children:"Liquidit√©"})]}),e.jsxs("label",{className:"flex items-center justify-between p-4 rounded-lg bg-slate-700/50 border border-slate-600 cursor-pointer hover:bg-slate-700 transition-colors",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(pe,{className:"w-5 h-5 text-amber-400"}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-white block",children:"Aucune part en attente de retrait"}),e.jsx("span",{className:"text-xs text-slate-400",children:"Crit√®re de s√©curit√© liquidit√©"})]})]}),e.jsx("input",{type:"checkbox",checked:t.noWaitingShares,onChange:o=>c({noWaitingShares:o.target.checked}),className:"w-5 h-5 rounded text-amber-500 focus:ring-2 focus:ring-amber-500 bg-slate-600 border-slate-500"})]})]})]})]}),e.jsxs("div",{className:"p-4 border-t border-slate-700 bg-slate-800/80 backdrop-blur-sm flex gap-3",children:[e.jsx("button",{onClick:v,className:"flex-1 py-3 px-4 rounded-xl text-sm font-semibold text-white bg-slate-700 hover:bg-slate-600 transition-colors",children:"R√©initialiser"}),e.jsxs("button",{onClick:l,className:"flex-1 py-3 px-4 rounded-xl text-sm font-semibold text-white bg-gradient-to-r from-emerald-600 to-emerald-500 hover:from-emerald-700 hover:to-emerald-600 shadow-lg shadow-emerald-500/30 transition-all",children:["Voir les ",m," SCPI"]})]})]})]})};function xt(s,l){const t={Bureaux:["bureau","tertiaire"],Commerces:["commerce","retail","alimentaire","galerie"],Logistique:["logistique","entrep√¥t","entrepot","activit√©","activite","transport","messagerie"],Sant√©:["sant√©","sante","ehpad","clinique","h√¥pital","hopital","m√©dical","medical"],R√©sidentiel:["r√©sidentiel","residentiel","logement","habitation","r√©sidence","residence"],H√¥tellerie:["h√¥tel","hotel","hotellerie","tourisme","loisir","s√©minaire","seminaire"],√âducation:["√©ducation","education","enseignement","√©cole","ecole","universit√©","universite"]},d=p=>p.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),m=t[l]||[l.toLowerCase()];let c=0;s.sectors&&s.sectors.length>0&&s.sectors.forEach(p=>{const v=d(p.name);m.forEach(D=>{v.includes(d(D))&&(c+=p.value)})});const u=d(s.category);return m.forEach(p=>{u.includes(d(p))&&c===0&&(c=50)}),c===0?null:{sectorName:l,percentage:Math.min(100,c)}}function ks(s,l,t){if(l.length===0)return!0;const d=t==="any"?0:parseInt(t);return l.some(m=>{const c=xt(s,m);return c?c.percentage>=d:!1})}function Rs(s,l,t){if(l.length===0)return 50;const d=t==="any"?0:parseInt(t);let m=0;return l.forEach(c=>{const u=xt(s,c);if(u&&u.percentage>=d){let p=50;const v=u.percentage-d;p+=Math.min(30,v*.6),u.percentage>=80?p+=20:u.percentage>=50&&(p+=10),m=Math.max(m,p)}}),Math.min(100,m)}function Ss(s,l){const t=l.find(c=>c.name.toLowerCase()===s.name.toLowerCase());if(s.name==="Paref Evo"&&!t&&console.warn("[enrichScpiExtended] Paref Evo non trouv√© dans scpiData. Noms disponibles:",l.filter(c=>c.name.toLowerCase().includes("paref")).map(c=>c.name).join(", ")),!t)return s;const d=t.repartitionSector&&t.repartitionSector.length>0?t.repartitionSector:s.sectors,m=t.repartitionGeo&&t.repartitionGeo.length>0?t.repartitionGeo:s.geography;return{...s,sectors:d,geography:m,reconstitutionValue:s.reconstitutionValue??t.valeurReconstitution,valeurRetrait:t.valeurRetrait??s.valeurRetrait,valeurRealisation:t.valeurRealisation??s.valeurRealisation,valeurReconstitution:t.valeurReconstitution??s.valeurReconstitution,entryFees:s.entryFees??t.fees,managementFees:s.managementFees??t.fraisGestion,delaiJouissance:t.delaiJouissance??s.delaiJouissance,versementLoyers:t.versementLoyers??s.versementLoyers,withdrawalDelay:s.withdrawalDelay??(t.delaiJouissance?`${t.delaiJouissance} mois`:void 0),dureeDetentionRecommandee:t.dureeDetentionRecommandee??s.dureeDetentionRecommandee,distribution:t.distribution??s.distribution,assetsCount:s.assetsCount??t.nbImmeubles,sfdr:t.sfdr??s.sfdr,profilCible:t.profilCible??s.profilCible,ltv:t.debt!==void 0?t.debt:s.ltv,tof:t.tof!==void 0?t.tof:s.tof,yield:t.yield!==void 0?t.yield:s.yield,profilRisque:t.profilRisque??s.profilRisque,nombreLocataires:t.nombreLocataires??s.nombreLocataires,walt:t.walt??s.walt,walb:t.walb??s.walb,collecteNetteTrimestre:t.collecteNetteTrimestre??s.collecteNetteTrimestre,nbCessionsTrimestre:t.nbCessionsTrimestre??s.nbCessionsTrimestre}}function Fs(s,l){return s.map(t=>Ss(t,l))}const Ps=({message:s,isVisible:l,onClose:t,duration:d=1e3})=>(g.useEffect(()=>{if(l){const m=setTimeout(()=>{t()},d);return()=>clearTimeout(m)}},[l,d,t]),l?e.jsx("div",{className:"fixed top-4 right-4 z-[10000] animate-in slide-in-from-top-5 duration-300",children:e.jsxs("div",{className:"bg-emerald-600 text-white px-4 py-3 rounded-lg shadow-lg flex items-center gap-3 min-w-[300px] max-w-[400px]",children:[e.jsx(It,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("p",{className:"text-sm font-medium flex-1",children:s}),e.jsx("button",{onClick:t,className:"p-1 hover:bg-emerald-700 rounded transition-colors","aria-label":"Fermer",children:e.jsx(ie,{className:"w-4 h-4"})})]})}):null),Is=({onCloseAnalysis:s,onGuidedJourneyClick:l,hideTitle:t=!1})=>{const[d,m]=g.useState([]),[c,u]=g.useState(""),[p,v]=g.useState(!1),[D,R]=g.useState(!1),[i,j]=g.useState("yield"),[o,P]=g.useState("grid"),[k,$]=g.useState(1),[N,y]=g.useState(null),[q,_]=g.useState(""),[te,se]=g.useState(!1),[oe,K]=g.useState(0),[f,de]=g.useState({tmi:null,minYield:0,priceRange:"all",geographies:[],sectors:[],sectorThreshold:"25",hasISR:null,noEntryFees:!1,expertMode:!1,discountRange:[-15,10],minRanDays:0,maxLtv:100,noWaitingShares:!1}),ge=g.useMemo(()=>{const h=Fs(Lt,lt);return h.find(I=>I.name==="Paref Evo")||(console.warn("[FintechComparator] Paref Evo non trouv√© dans enrichedScpiData"),console.log("[FintechComparator] SCPI disponibles:",h.map(I=>I.name).filter(I=>I.toLowerCase().includes("paref")))),h},[]),E=h=>{m(O=>O.find(w=>w.id===h.id)?O.filter(w=>w.id!==h.id):O.length>=6?(typeof window<"u"&&window.alert("Vous pouvez s√©lectionner jusqu‚Äô√† 6 SCPI maximum dans votre portefeuille."),O):[...O,h])},fe=h=>{if(h.yield<f.minYield||f.priceRange!=="all"&&(f.priceRange==="accessible"&&h.price>=300||f.priceRange==="standard"&&(h.price<300||h.price>1e3)||f.priceRange==="premium"&&h.price<=1e3)||f.geographies.length>0&&!h.geography.some(I=>{const w=I.name.toLowerCase();return!!(f.geographies.includes("France")&&(w.includes("france")||w.includes("paris")||w.includes("r√©gion"))||f.geographies.includes("Europe")&&!w.includes("france")&&!w.includes("paris")&&(w.includes("europe")||w.includes("allemagne")||w.includes("espagne")||w.includes("italie")||w.includes("belgique")||w.includes("pays-bas")||w.includes("irlande")||w.includes("portugal")||w.includes("pologne"))||f.geographies.includes("International")&&(w.includes("royaume")||w.includes("√©tranger")||w.includes("ocde")))})||f.sectors.length>0&&!ks(h,f.sectors,f.sectorThreshold))return!1;if(f.expertMode){if(h.reconstitutionValue){const O=(h.price-h.reconstitutionValue)/h.reconstitutionValue*100;if(O<f.discountRange[0]||O>f.discountRange[1])return!1}if(h.ranDays!==void 0&&h.ranDays<f.minRanDays||h.ltv!==void 0&&h.ltv>f.maxLtv||f.noWaitingShares&&h.hasWaitingShares)return!1}return!0};let V=[...ge].filter(h=>(h.name.toLowerCase().includes(c.toLowerCase())||h.category.toLowerCase().includes(c.toLowerCase())||h.managementCompany.toLowerCase().includes(c.toLowerCase()))&&fe(h));f.sectors.length>0&&(V=V.map(h=>({scpi:h,sectorScore:Rs(h,f.sectors,f.sectorThreshold)})).sort((h,O)=>O.sectorScore!==h.sectorScore?O.sectorScore-h.sectorScore:0).map(h=>h.scpi)),V=as(V,f.tmi,i);const ae=o==="grid"?9:15,x=Math.ceil(V.length/ae),b=(k-1)*ae,S=b+ae,G=V.slice(b,S);g.useEffect(()=>{$(1)},[c,i,o,f]);const F=h=>{const O=window.scrollY||window.pageYOffset||document.documentElement.scrollTop;K(O),y(h)},B=(f.tmi!==null?1:0)+(f.minYield>0?1:0)+(f.priceRange!=="all"?1:0)+f.geographies.length+(f.sectors.length>0?1:0)+(f.sectorThreshold!=="25"?1:0)+(f.hasISR!==null&&f.hasISR!==void 0?1:0)+(f.noEntryFees?1:0)+(f.expertMode?(f.discountRange[0]!==-15||f.discountRange[1]!==10?1:0)+(f.minRanDays>0?1:0)+(f.maxLtv<100?1:0)+(f.noWaitingShares?1:0):0);return e.jsxs("div",{className:"min-h-screen bg-slate-900",id:"comparator-container",children:[e.jsx("header",{className:"sticky top-0 z-50 bg-slate-800/95 backdrop-blur-md border-b border-slate-700 shadow-xl",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 lg:pr-[25rem] py-4",children:e.jsxs("div",{className:"flex flex-col gap-4 sm:gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[!t&&e.jsxs(e.Fragment,{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-white",children:"Vous souhaitez comparer vous-m√™me ?"}),e.jsx("p",{className:"text-base text-slate-300 mt-2 font-medium",children:"Acc√©dez √† l'ensemble de nos SCPI et analysez-les librement."})]}),e.jsxs("p",{className:"text-sm text-slate-400 mt-1",children:[V.length," SCPI disponibles ‚Ä¢ Page ",k," sur ",x]})]}),e.jsxs("div",{className:"hidden md:flex items-center gap-3",children:[f.tmi!==null&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-emerald-600/20 border border-emerald-500/50 rounded-lg",children:[e.jsx(We,{className:"w-4 h-4 text-emerald-400"}),e.jsx("span",{className:"text-sm font-medium text-emerald-200",children:"TMI"}),e.jsxs("span",{className:"px-2 py-0.5 bg-emerald-500 text-white text-xs font-bold rounded-full",children:[f.tmi,"%"]})]}),e.jsxs("button",{onClick:()=>R(!0),className:"relative px-4 py-2 bg-slate-700 hover:bg-slate-600 border border-slate-600 text-white rounded-lg text-sm font-medium transition-all flex items-center gap-2",children:[e.jsx(ze,{className:"w-4 h-4"}),e.jsx("span",{children:"Filtres"}),B>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-emerald-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:B})]}),e.jsxs("div",{className:"flex items-center gap-1 bg-slate-700 rounded-lg p-1",children:[e.jsxs("button",{onClick:()=>P("grid"),className:`px-3 py-2 rounded-md transition-all flex items-center gap-2 ${o==="grid"?"bg-emerald-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-600"}`,children:[e.jsx(Ut,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Grille"})]}),e.jsxs("button",{onClick:()=>P("list"),className:`px-3 py-2 rounded-md transition-all flex items-center gap-2 ${o==="list"?"bg-emerald-600 text-white":"text-slate-400 hover:text-white hover:bg-slate-600"}`,children:[e.jsx(Jt,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Liste"})]})]})]})]}),e.jsx("div",{className:"w-full max-w-4xl mx-auto relative z-20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(He,{className:"absolute left-5 top-1/2 -translate-y-1/2 w-5 h-5 text-emerald-500"}),e.jsx("input",{type:"text",placeholder:"Rechercher par nom, cat√©gorie, gestionnaire...",value:c,onChange:h=>u(h.target.value),className:"w-full pl-14 pr-12 py-4 bg-slate-950 border border-slate-600 text-white placeholder-slate-400 rounded-full shadow-md focus:outline-none focus:border-emerald-500 focus:shadow-lg focus:shadow-emerald-500/20 transition-all"}),c&&e.jsx("button",{onClick:()=>u(""),className:"absolute right-5 top-1/2 -translate-y-1/2 p-1 hover:bg-slate-700 rounded-full transition-colors",children:e.jsx(ie,{className:"w-4 h-4 text-slate-400 hover:text-white"})})]}),f.tmi!==null&&e.jsxs("div",{className:"md:hidden flex items-center gap-1 px-2 py-1 bg-emerald-600/20 border border-emerald-500/50 rounded-full",children:[e.jsx(We,{className:"w-3 h-3 text-emerald-400"}),e.jsxs("span",{className:"text-xs font-bold text-emerald-200",children:[f.tmi,"%"]})]}),e.jsxs("button",{onClick:()=>R(!0),className:"md:hidden relative w-12 h-12 bg-slate-700 hover:bg-slate-600 border border-slate-600 rounded-full flex items-center justify-center transition-all shrink-0",children:[e.jsx(ze,{className:"w-5 h-5 text-white"}),B>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-emerald-500 text-white text-xs font-bold rounded-full flex items-center justify-center",children:B})]})]})})]})})}),e.jsxs("div",{className:"flex",children:[e.jsx("main",{className:"flex-1 px-4 sm:px-6 lg:px-8 pt-6 pb-24 lg:pb-6",children:e.jsx("div",{className:"max-w-7xl mx-auto",children:V.length===0?e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-800 mx-auto mb-4 flex items-center justify-center",children:e.jsx(He,{className:"w-10 h-10 text-slate-600"})}),e.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Aucun r√©sultat"}),e.jsx("p",{className:"text-slate-400 mb-4",children:"Essayez de modifier votre recherche"}),e.jsx("button",{onClick:()=>u(""),className:"px-6 py-2 bg-emerald-600 hover:bg-emerald-700 text-white rounded-lg font-medium transition-colors",children:"R√©initialiser"})]}):e.jsxs(e.Fragment,{children:[o==="grid"?e.jsx("div",{className:"mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:G.map(h=>e.jsx(Qe,{scpi:h,isSelected:d.some(O=>O.id===h.id),onToggleSelect:()=>E(h),onAnalyze:()=>F(h),userTmi:f.tmi},h.id))}):e.jsx("div",{className:"hidden md:block bg-slate-800 rounded-2xl border border-slate-700 overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full table-fixed",children:[e.jsxs("colgroup",{children:[e.jsx("col",{className:"w-[18%]"}),e.jsx("col",{className:"w-[13%]"}),e.jsx("col",{className:"w-[13%]"}),e.jsx("col",{className:"w-[9%]"}),e.jsx("col",{className:"w-[10%]"}),e.jsx("col",{className:"w-[11%]"}),e.jsx("col",{className:"w-[26%]"})]}),e.jsx("thead",{className:"bg-slate-900/50 border-b border-slate-700",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"SCPI"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Cat√©gorie"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Rendement"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"TOF"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Prix"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Invest. Min."}),e.jsx("th",{className:"px-4 py-3 text-right text-xs font-semibold text-slate-400 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{children:G.map(h=>e.jsx(ls,{scpi:h,isSelected:d.some(O=>O.id===h.id),onToggleSelect:()=>E(h),onAnalyze:()=>F(h),userTmi:f.tmi,onGuidedJourneyClick:l},h.id))})]})})}),o==="list"&&e.jsx("div",{className:"md:hidden mt-16 grid grid-cols-1 gap-6",children:G.map(h=>e.jsx(Qe,{scpi:h,isSelected:d.some(O=>O.id===h.id),onToggleSelect:()=>E(h),onAnalyze:()=>F(h),userTmi:f.tmi},h.id))}),x>1&&e.jsxs("div",{className:"mt-8 flex items-center justify-center gap-4",children:[e.jsxs("button",{onClick:()=>$(h=>Math.max(1,h-1)),disabled:k===1,className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all flex items-center gap-2 ${k===1?"bg-slate-800 text-slate-600 cursor-not-allowed":"bg-slate-700 hover:bg-slate-600 text-white"}`,children:[e.jsx(Kt,{className:"w-4 h-4"}),e.jsx("span",{children:"Pr√©c√©dent"})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("span",{className:"text-white font-semibold",children:["Page ",k," sur ",x]})}),e.jsxs("button",{onClick:()=>$(h=>Math.min(x,h+1)),disabled:k===x,className:`px-4 py-2 rounded-lg font-semibold text-sm transition-all flex items-center gap-2 ${k===x?"bg-slate-800 text-slate-600 cursor-not-allowed":"bg-slate-700 hover:bg-slate-600 text-white"}`,children:[e.jsx("span",{children:"Suivant"}),e.jsx(Ht,{className:"w-4 h-4"})]})]}),V.length>0&&e.jsx("div",{className:"mt-12 max-w-4xl mx-auto",children:e.jsx("div",{className:"bg-slate-800/50 border border-slate-700 rounded-lg p-4",children:e.jsxs("p",{className:"text-xs text-slate-400 leading-relaxed",children:[e.jsx("span",{className:"font-semibold text-slate-300",children:"Avertissement : "}),"Les investissements en SCPI pr√©sentent un risque de perte en capital, une liquidit√© non garantie et un horizon de placement long. Les performances pass√©es ne pr√©jugent pas des performances futures. Les simulations et projections affich√©es sont indicatives et ne constituent ni un engagement contractuel ni une promesse de rendement."]})})})]})})}),e.jsx("div",{id:"selection-sidebar",className:"scroll-mt-20",children:e.jsx(ns,{selectedScpis:d,onRemove:h=>E(h),onClear:()=>m([]),onVisualize:()=>v(!0)})})]}),d.length>=2&&e.jsx("div",{id:"selection-section",className:"scroll-mt-20",children:e.jsx(Wt,{scpiList:d,className:"mx-4 mb-4"})}),e.jsx(is,{count:d.length,onOpen:()=>v(!0)}),e.jsx(Ns,{isOpen:p,onClose:()=>v(!1),selectedScpis:d}),N&&e.jsx(hs,{isOpen:!!N,onClose:()=>{y(null),setTimeout(()=>{window.scrollTo({top:oe,behavior:"instant"})},50)},scpi:N,onAdd:()=>{E(N)},isSelected:d.some(h=>h.id===N.id),onShowToast:h=>{_(h),se(!0)}},N.id),e.jsx(Ps,{message:q,isVisible:te,onClose:()=>se(!1),duration:1e3}),e.jsx(Cs,{isOpen:D,onClose:()=>R(!1),filters:f,onFiltersChange:de,resultCount:V.length})]})},ra=({onCloseAnalysis:s,onGuidedJourneyClick:l,hideTitle:t=!1})=>e.jsx(ss,{children:e.jsx(Mt,{children:e.jsx(Is,{onCloseAnalysis:s,onGuidedJourneyClick:l,hideTitle:t})})});export{ra as default};
