import{j as e}from"./index-CRFhanc3.js";import{J as g,A as m,b as h,O as p,q as b}from"./App-CTFBvRA4.js";const c=l=>l.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").trim(),y=l=>{const x=c(l);for(const[i,n]of Object.entries(g)){const a=c(n.nom);if(a===x)return n.slug;const s=x.replace(/[^a-z0-9]/g,""),o=a.replace(/[^a-z0-9]/g,"");if(o===s||o.startsWith(s)&&s.length>=5||s.startsWith(o)&&o.length>=5)return n.slug;const t=x.split(/[\s'-]+/).filter(d=>d.length>2),r=a.split(/[\s'-]+/).filter(d=>d.length>2);if(t.length>=2&&r.length>=2&&t[0]===r[0]&&t[1]===r[1])return n.slug}return null},k=({scpiList:l,selectedScpi:x,onScpiToggle:i,onAnalyzeClick:n,onScpiClick:a})=>{const s=t=>x.some(r=>r.id===t.id),o=(t,r)=>{if(t.stopPropagation(),!a)return;const d=y(r.name);d?a(d):console.warn(`No landing page found for SCPI: ${r.name}`)};return e.jsx("div",{className:"rounded-lg border border-gray-200 dark:border-gray-600 w-full overflow-x-auto -mx-2 sm:mx-0",children:e.jsxs("table",{className:"w-full bg-white dark:bg-gray-800",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-900/80",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-2 sm:px-3 py-2 text-left text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase w-[140px] sm:w-auto",children:"SCPI"}),e.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase whitespace-nowrap",children:"Sect."}),e.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase whitespace-nowrap",children:"Cap."}),e.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase whitespace-nowrap",children:"Rdt."}),e.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase whitespace-nowrap",children:"TOF"}),e.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase whitespace-nowrap",children:"Prix"}),e.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase whitespace-nowrap",children:"DÃ©cote"}),e.jsx("th",{className:"px-3 py-3 text-center text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase whitespace-nowrap",children:"Min."}),e.jsx("th",{className:"px-1 py-2 text-center text-xs font-semibold text-gray-600 dark:text-gray-400 uppercase w-[110px] sm:w-auto",children:"Action"})]})}),e.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-600",children:l.map(t=>e.jsxs("tr",{className:`cursor-pointer transition-all duration-300 hover:bg-gray-50 dark:hover:bg-gray-700/50 ${s(t)?"bg-green-50 dark:bg-green-900/30 border-l-4 border-green-500 dark:border-green-400":""}`,onClick:()=>i(t),children:[e.jsx("td",{className:"px-2 sm:px-3 py-2",children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"flex items-center gap-1 mb-0.5",children:e.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100 text-xs sm:text-sm break-words leading-tight hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer transition-colors underline decoration-transparent hover:decoration-current",onClick:r=>o(r,t),children:t.name})}),t.isRecommended&&e.jsxs("div",{className:"flex items-center gap-1 mb-1",children:[e.jsx(m,{className:"w-3 h-3 text-green-600 fill-green-600 dark:text-green-400 dark:fill-green-400"}),e.jsx("span",{className:"text-xs font-bold text-green-600 dark:text-green-400",children:"RecommandÃ© MaximusSCPI"})]}),t.rating&&t.rating>=4&&e.jsx("div",{className:"flex items-center gap-0.5 mb-1",children:[...Array(t.rating)].map((r,d)=>e.jsx(h,{className:"w-3 h-3 text-yellow-400 fill-yellow-400"},d))}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-300 break-words leading-tight",children:t.company}),e.jsxs("div",{className:"flex gap-1 mt-0.5",children:[t.isr&&e.jsx("span",{className:"inline-block px-1 py-0.5 bg-green-100 dark:bg-green-900/50 text-green-800 dark:text-green-300 text-xs font-semibold rounded",children:"ISR"}),t.fees===0&&e.jsx("span",{className:"inline-block px-1 py-0.5 bg-blue-100 dark:bg-blue-900/50 text-blue-800 dark:text-blue-300 text-xs font-semibold rounded",children:"0%"})]})]})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-gray-100 capitalize whitespace-nowrap",children:t.sector==="bureaux"?"Bur.":t.sector==="commerces"?"Com.":t.sector==="residentiel"?"RÃ©s.":t.sector==="logistique"?"Log.":t.sector==="hotellerie"?"HÃ´t.":t.sector==="sante"?"San.":"Mix."}),e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 capitalize font-medium whitespace-nowrap",children:t.geography==="france"?"FR":t.geography==="europe"?"EU":"INT"})]})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100 text-xs whitespace-nowrap",children:t.capitalization>=1e9?`${(t.capitalization/1e9).toFixed(1)}Mdâ‚¬`:`${Math.round(t.capitalization/1e6)}Mâ‚¬`})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsxs("span",{className:`font-bold text-xs sm:text-sm whitespace-nowrap ${p(t.yield)}`,children:[t.yield.toFixed(2),"%"]})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsxs("span",{className:`font-bold text-xs whitespace-nowrap ${t.tof>=95?"text-green-500 dark:text-green-400":"text-gray-700 dark:text-gray-300"}`,children:[t.tof,"%"]})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsxs("span",{className:"font-bold text-gray-900 dark:text-gray-100 text-xs whitespace-nowrap",children:[t.price,"â‚¬"]})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsxs("span",{className:`font-bold text-xs whitespace-nowrap ${b(t.discount)}`,children:[t.discount>0?"+":"",t.discount.toFixed(1),"%"]})}),e.jsx("td",{className:"px-3 py-3 text-center",children:e.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-100 text-xs whitespace-nowrap",children:t.minInvest>=1e3?`${t.minInvest/1e3}kâ‚¬`:`${t.minInvest}â‚¬`})}),e.jsx("td",{className:"px-1 py-2",children:e.jsxs("div",{className:"flex flex-col gap-1 justify-center",children:[e.jsx("button",{onClick:r=>{r.stopPropagation(),n(t)},className:"flex items-center justify-center gap-1 px-2 py-1.5 bg-blue-600 dark:bg-blue-500 text-white text-xs font-semibold rounded hover:bg-blue-700 dark:hover:bg-blue-600 transition-colors min-h-[32px] w-full",children:e.jsx("span",{className:"text-xs",children:"ðŸ“Š Analyser"})}),e.jsx("button",{onClick:r=>{r.stopPropagation(),i(t)},className:`flex items-center justify-center gap-1 px-2 py-1.5 text-white text-xs font-semibold rounded transition-colors min-h-[32px] w-full ${s(t)?"bg-red-600 dark:bg-red-500 hover:bg-red-700 dark:hover:bg-red-600":"bg-green-600 dark:bg-green-500 hover:bg-green-700 dark:hover:bg-green-600"}`,children:s(t)?e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-xs",children:"âŒ Retirer"})}):e.jsx(e.Fragment,{children:e.jsx("span",{className:"text-xs",children:"âœ… SÃ©lectionner"})})})]})})]},t.id))})]})})},j=({activeFilter:l,onFilterChange:x})=>{const i=[{key:"tous",label:"Toutes les SCPI"},{key:"europeennes",label:"EuropÃ©ennes"},{key:"francaises",label:"FranÃ§aises"},{key:"isr",label:"Label ISR"},{key:"high-yield",label:"Haut rendement"}],n=[{key:"tous",label:"Toutes"},{key:"europeennes",label:"EuropÃ©ennes"},{key:"isr",label:"Label ISR"},{key:"high-yield",label:"Haut rdt"}];return e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("div",{className:"hidden sm:flex flex-wrap gap-2 mb-2",children:i.map(({key:a,label:s})=>e.jsx("button",{onClick:()=>x(a),className:`px-3 sm:px-4 py-2 rounded-full text-sm font-medium transition-all duration-300 ${l===a?"bg-green-600 dark:bg-green-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 border dark:border-gray-600"}`,children:s},a))}),e.jsx("div",{className:"flex sm:hidden overflow-x-auto gap-2 pb-2 -mx-2 px-2",children:n.map(({key:a,label:s})=>e.jsx("button",{onClick:()=>x(a),className:`flex-shrink-0 px-3 py-2 rounded-full text-sm font-medium transition-all duration-300 ${l===a?"bg-green-600 dark:bg-green-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600 border dark:border-gray-600"}`,children:s},a))})]})};export{j as Q,k as S};
