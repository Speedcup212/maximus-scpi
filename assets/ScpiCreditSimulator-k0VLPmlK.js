import{r as n,j as e}from"./index-CRFhanc3.js";import{C as Ie}from"./chevron-up-C51G6gCf.js";import{k as Re,D as De,N as Me,T as V}from"./App-CTFBvRA4.js";import{C as Fe}from"./calendar-K9MhvfDo.js";import{R as ae,C as se,X as re,Y as ne,T as le}from"./CartesianChart-B2qU--T2.js";import{L as Be,a as ie}from"./LineChart-BRZs_3vx.js";import{L as ze}from"./Legend-C64z-WHA.js";import{B as Te,a as Ee}from"./BarChart-BnML-akf.js";import"./getRadiusAndStrokeWidthFromDot-BXfYB6Cy.js";const We=({defaultAmount:oe=1e5,defaultApport:de=2e4,defaultRate:ce=3.5,defaultDuration:xe=20,ctaUrl:me="#contact",onCtaClick:J})=>{const[d,S]=n.useState(oe),[g,I]=n.useState(de),[R,D]=n.useState(5),[p,W]=n.useState("france"),[h,M]=n.useState(xe),[A,F]=n.useState(ce),[B,z]=n.useState(.3),[T,ue]=n.useState(30),[q,ge]=n.useState(!1),[E,pe]=n.useState(6),[H,he]=n.useState(10),[x,P]=n.useState(h),[L,be]=n.useState(0),[j,fe]=n.useState(0),r=t=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t),ye=t=>new Intl.NumberFormat("fr-FR",{style:"percent",minimumFractionDigits:2,maximumFractionDigits:2}).format(t/100),je=(t,a,m)=>{if(t===0||a===0)return 0;const f=a/12/100,i=m*12;return t*(f/(1-Math.pow(1+f,-i)))},ve=(t,a,m,f)=>{const i=a/12/100,y=m*12,v=[];let b=t,u=1,o=0,N=0;for(let l=1;l<=y;l++){const k=b*i,w=f-k;o+=k,N+=w,b-=w,(l%12===0||l===y)&&(v.push({annee:u,interetsAnnuels:o,capitalRembourseAnnuel:N,capitalRestantDuFinAnnee:Math.max(0,b)}),u++,o=0,N=0)}return v},Ne=(t,a=.1)=>{let i=a;for(let y=0;y<100;y++){let v=0,b=0;for(let o=0;o<t.length;o++)v+=t[o]/Math.pow(1+i,o),b-=o*t[o]/Math.pow(1+i,o+1);const u=i-v/b;if(Math.abs(u-i)<1e-4)return u*100;i=u}return i*100},s=n.useMemo(()=>{const t=d-g,a=je(t,A,h),m=t*(B/100),f=m/12,i=ve(t,A,h,a),y=i.reduce((c,C)=>c+C.interetsAnnuels,0)+m*h,b=Math.max(0,12-E)/12,u=d*(R/100),o=u*b,N=p==="france"?17.2:0,l=[],k=[-g];for(let c=1;c<=Math.max(x,h);c++){const C=c===1?o:u,X=i[c-1]||{interetsAnnuels:0,capitalRestantDuFinAnnee:0},Y=X.interetsAnnuels,G=Y+m+j,K=Math.max(0,C-G),Q=K*(T/100),Z=K*(N/100),_=C-Q-Z,O=a*12+m,U=_-O-j,Pe=C-O-j,ee=X.capitalRestantDuFinAnnee,te=d*Math.pow(1+L/100,c);if(l.push({annee:c,revenuBrut:C,interets:Y,chargesDeductibles:G,baseImposable:K,impotIR:Q,impotPS:Z,revenuApresImpotsAvantCredit:_,chargeCreditAnnuelle:O,cashflowAvantImpots:Pe,cashflowApresImpots:U,capitalRestantDu:ee,valeurParts:te}),c<x)k.push(U);else if(c===x){const Se=te-ee;k.push(U+Se)}}const w=l[x-1]||l[l.length-1],Ce=w.valeurParts-w.capitalRestantDu;let $=null;if(g>0)try{$=Ne(k)}catch{$=null}const Ae=l.length>1?l[1]:l[0];return{capitalEmprunte:t,mensualiteHorsAssurance:a,assuranceMensuelle:f,coutTotalCredit:y,cashflows:l,cashflowAn1:l[0],cashflowPlein:Ae,horizonData:w,patrimoineNetHorizon:Ce,triApport:$,tauxPS:N}},[d,g,R,p,h,A,B,T,E,H,x,L,j]),ke=s.cashflows.map(t=>({annee:`Année ${t.annee}`,capitalRestantDu:t.capitalRestantDu,valeurParts:t.valeurParts})),we=[{name:"Année 1",cashflow:s.cashflowAn1.cashflowApresImpots},{name:"Année pleine",cashflow:s.cashflowPlein.cashflowApresImpots},{name:`Année ${x}`,cashflow:s.horizonData.cashflowApresImpots}];return e.jsx("div",{className:"w-full bg-gradient-to-br from-slate-50 to-gray-100 dark:from-gray-900 dark:to-gray-800",children:e.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-10",children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Simulateur SCPI à crédit : effet de levier & cash-flow"}),e.jsx("p",{className:"text-lg text-gray-600 dark:text-gray-300 max-w-3xl mx-auto",children:"Estimez vos mensualités, votre cash-flow net et votre patrimoine à terme pour un projet de SCPI financé à crédit."})]}),e.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Paramètres du projet SCPI"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Montant total investi en SCPI"}),e.jsx("input",{type:"number",value:d,onChange:t=>{const a=Number(t.target.value)||0;S(a)},onBlur:t=>{const a=Number(t.target.value)||1e4;a<1e4?S(1e4):a>2e6&&S(2e6)},min:1e4,max:2e6,step:1e3,className:"w-full border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-4 text-lg font-semibold focus:outline-none focus:border-green-500 mb-3"}),e.jsx("input",{type:"range",value:d,onChange:t=>S(Number(t.target.value)),min:1e4,max:2e6,step:1e4,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"10 000 €"}),e.jsx("span",{children:"2 000 000 €"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Apport personnel"}),e.jsx("input",{type:"number",value:g,onChange:t=>{const a=Number(t.target.value)||0;I(a)},onBlur:t=>{const a=Number(t.target.value)||0;a<0?I(0):a>d&&I(d)},min:0,max:d,step:1e3,className:"w-full border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-4 text-lg font-semibold focus:outline-none focus:border-green-500 mb-3"}),e.jsx("input",{type:"range",value:g,onChange:t=>I(Math.min(Number(t.target.value),d)),min:0,max:d,step:1e3,className:"w-full"}),e.jsx("div",{className:"mt-2 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-900 dark:text-blue-200",children:["Montant financé par le crédit : ",e.jsx("span",{className:"font-bold",children:r(s.capitalEmprunte)})]})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Rendement brut annuel moyen estimé de la SCPI (%)"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("input",{type:"number",value:R,onChange:t=>{const a=Number(t.target.value)||0;D(a)},onBlur:t=>{const a=Number(t.target.value)||5;a<3?D(3):a>8&&D(8)},min:3,max:8,step:.1,className:"w-32 border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-4 text-lg font-semibold focus:outline-none focus:border-green-500"}),e.jsx("span",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"%"})]}),e.jsx("input",{type:"range",value:R,onChange:t=>D(Number(t.target.value)),min:3,max:8,step:.1,className:"w-full"}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 space-y-1",children:[e.jsx("p",{children:"Hypothèse de rendement brut annuel moyen sur la durée de la simulation."}),e.jsx("p",{children:"Basé sur les derniers taux de distribution connus de la SCPI."}),e.jsx("p",{className:"font-medium",children:"Rendement non garanti, susceptible de varier à la hausse comme à la baisse."}),e.jsx("p",{className:"italic mt-1",children:"Exemple : une SCPI qui a distribué 5,10 % en 2024 peut être simulée avec 5 % comme rendement moyen prudent."})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Origine principale des loyers de la SCPI"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:`flex items-start gap-3 cursor-pointer p-3 border-2 rounded-lg transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${p==="france"?"border-green-600 dark:border-green-400":"border-gray-200 dark:border-gray-600"}`,children:[e.jsx("input",{type:"radio",value:"france",checked:p==="france",onChange:t=>W(t.target.value),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"SCPI 100 % France"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Les revenus sont imposés en France et supportent les prélèvements sociaux de 17,2 %."})]})]}),e.jsxs("label",{className:`flex items-start gap-3 cursor-pointer p-3 border-2 rounded-lg transition-colors hover:bg-gray-50 dark:hover:bg-gray-700 ${p==="international"?"border-green-600 dark:border-green-400":"border-gray-200 dark:border-gray-600"}`,children:[e.jsx("input",{type:"radio",value:"international",checked:p==="international",onChange:t=>W(t.target.value),className:"mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white",children:"SCPI principalement Europe / international"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400 mt-1",children:"Les revenus proviennent majoritairement d'immeubles situés à l'étranger. Ils ne supportent généralement pas les prélèvements sociaux de 17,2 % en France. La fiscalité exacte dépend toutefois de chaque convention fiscale."})]})]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Paramètres du crédit"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Durée du crédit"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("input",{type:"number",value:h,onChange:t=>{const a=Number(t.target.value)||0;M(a),P(a)},onBlur:t=>{const a=Number(t.target.value)||20;a<5?(M(5),P(5)):a>25&&(M(25),P(25))},min:5,max:25,step:1,className:"w-32 border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-4 text-lg font-semibold focus:outline-none focus:border-green-500"}),e.jsx("span",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"ans"})]}),e.jsx("input",{type:"range",value:h,onChange:t=>{const a=Number(t.target.value);M(a),P(a)},min:5,max:25,step:1,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"5 ans"}),e.jsx("span",{children:"25 ans"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Taux nominal du crédit"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("input",{type:"number",value:A,onChange:t=>{const a=Number(t.target.value)||0;F(a)},onBlur:t=>{const a=Number(t.target.value)||3.5;a<1?F(1):a>6&&F(6)},min:1,max:6,step:.1,className:"w-32 border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-4 text-lg font-semibold focus:outline-none focus:border-green-500"}),e.jsx("span",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"% / an"})]}),e.jsx("input",{type:"range",value:A,onChange:t=>F(Number(t.target.value)),min:1,max:6,step:.1,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"1 %"}),e.jsx("span",{children:"6 %"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Taux d'assurance emprunteur"}),e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("input",{type:"number",value:B,onChange:t=>{const a=Number(t.target.value)||0;z(a)},onBlur:t=>{const a=Number(t.target.value)||.3;a<0?z(0):a>1&&z(1)},min:0,max:1,step:.05,className:"w-32 border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-4 text-lg font-semibold focus:outline-none focus:border-green-500"}),e.jsx("span",{className:"text-lg font-semibold text-gray-700 dark:text-gray-300",children:"% / an"})]}),e.jsx("input",{type:"range",value:B,onChange:t=>z(Number(t.target.value)),min:0,max:1,step:.05,className:"w-full"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 dark:text-gray-400 mt-1",children:[e.jsx("span",{children:"0 %"}),e.jsx("span",{children:"1 %"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Profil fiscal"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Tranche marginale d'imposition (TMI)"}),e.jsxs("select",{value:T,onChange:t=>ue(Number(t.target.value)),className:"w-full border-2 border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-3 px-4 text-lg focus:outline-none focus:border-green-500",children:[e.jsx("option",{value:0,children:"0% - Non imposable"}),e.jsx("option",{value:11,children:"11%"}),e.jsx("option",{value:30,children:"30%"}),e.jsx("option",{value:41,children:"41%"}),e.jsx("option",{value:45,children:"45%"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Régime fiscal des revenus"}),e.jsxs("div",{className:"p-4 border-2 border-green-600 dark:border-green-400 rounded-lg bg-green-50 dark:bg-green-900/20",children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Revenus fonciers (détention directe)"}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"TMI + prélèvements sociaux"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Ce simulateur modélise un achat de SCPI à crédit en détention directe. Les mécanismes exacts de déficit foncier sont simplifiés."})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsxs("button",{onClick:()=>ge(!q),className:"w-full flex items-center justify-between text-left",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Paramètres avancés"}),q?e.jsx(Ie,{className:"w-5 h-5 text-gray-500"}):e.jsx(Re,{className:"w-5 h-5 text-gray-500"})]}),q&&e.jsxs("div",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:["Délai de jouissance : ",E," mois"]}),e.jsx("input",{type:"range",value:E,onChange:t=>pe(Number(t.target.value)),min:0,max:12,step:1,className:"w-full"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Pendant le délai de jouissance, les parts ne produisent pas encore de revenus. Impacte la première année."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:["Écart souscription / retrait : ",H," %"]}),e.jsx("input",{type:"range",value:H,onChange:t=>he(Number(t.target.value)),min:0,max:20,step:1,className:"w-full"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Différence entre le prix de souscription et le prix de retrait. Modélise le coût de sortie implicite."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:["Horizon d'analyse : ",x," ans"]}),e.jsx("input",{type:"range",value:x,onChange:t=>P(Number(t.target.value)),min:5,max:25,step:1,className:"w-full"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Horizon d'analyse patrimoniale (valeur des parts + capital restant dû)"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:["Revalorisation annuelle du prix de part : ",L.toFixed(1)," %"]}),e.jsx("input",{type:"range",value:L,onChange:t=>be(Number(t.target.value)),min:-1,max:2,step:.1,className:"w-full"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Hypothèse de variation du prix de la part. 0 % par défaut (scénario neutre)."})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:["Frais / charges annuels : ",r(j)]}),e.jsx("input",{type:"number",value:j,onChange:t=>fe(Number(t.target.value)),min:0,step:100,className:"w-full border-2 border-gray-200 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-4 focus:outline-none focus:border-green-500"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Permet d'ajouter des frais de gestion, conseil, etc."})]})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(De,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),"Synthèse projet à crédit"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Apport"}),e.jsx("span",{className:"font-semibold dark:text-white",children:r(g)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Montant financé par le crédit"}),e.jsx("span",{className:"font-semibold dark:text-white",children:r(s.capitalEmprunte)})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Mensualité hors assurance"}),e.jsxs("span",{className:"font-semibold dark:text-white",children:[r(s.mensualiteHorsAssurance)," / mois"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Assurance"}),e.jsxs("span",{className:"font-semibold dark:text-white",children:[r(s.assuranceMensuelle)," / mois"]})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Coût total du crédit (intérêts + assurance)"}),e.jsx("span",{className:"font-semibold text-red-600",children:r(s.coutTotalCredit)})]}),e.jsxs("div",{className:"mt-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20 rounded-lg border border-green-200 dark:border-green-800",children:[e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300 mb-1",children:"Cash-flow net estimé en année pleine"}),e.jsxs("div",{className:`text-2xl font-bold ${s.cashflowPlein.cashflowApresImpots>=0?"text-green-600 dark:text-green-400":"text-red-600"}`,children:[r(s.cashflowPlein.cashflowApresImpots)," / an"]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 mt-1",children:["Soit ",r(s.cashflowPlein.cashflowApresImpots/12)," / mois"]}),s.cashflowPlein.cashflowApresImpots<0&&e.jsxs("div",{className:"mt-2 text-xs text-red-600 dark:text-red-400 flex items-start gap-1",children:[e.jsx(Me,{className:"w-4 h-4 flex-shrink-0 mt-0.5"}),e.jsx("span",{children:"Cash-flow légèrement négatif"})]})]}),e.jsxs("div",{className:"mt-2 p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-300 mb-1",children:"Cash-flow net la 1re année (avec délai de jouissance)"}),e.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:[r(s.cashflowAn1.cashflowApresImpots)," / an"]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Soit ",r(s.cashflowAn1.cashflowApresImpots/12)," / mois"]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(V,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),"Patrimoine net à l'horizon"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Horizon d'analyse"}),e.jsxs("span",{className:"font-semibold dark:text-white",children:[x," ans"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Valeur théorique des parts"}),e.jsx("span",{className:"font-semibold text-green-600 dark:text-green-400",children:r(s.horizonData.valeurParts)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Capital restant dû"}),e.jsxs("span",{className:"font-semibold text-red-600",children:["- ",r(s.horizonData.capitalRestantDu)]})]}),e.jsxs("div",{className:"flex justify-between pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Patrimoine net estimé"}),e.jsx("span",{className:"font-bold text-2xl text-green-600 dark:text-green-400",children:r(s.patrimoineNetHorizon)})]}),e.jsxs("div",{className:"mt-4 p-3 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-800",children:[e.jsx("div",{className:"text-xs text-purple-800 dark:text-purple-300 mb-1",children:"TRI approximatif sur votre apport"}),s.triApport!==null&&g>0?e.jsx("div",{className:"text-xl font-bold text-purple-600 dark:text-purple-400",children:ye(s.triApport)}):e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 italic",children:"Non calculé (aucun apport initial dans la simulation)"})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-5 h-5 text-green-600 dark:text-green-400"}),"Détail fiscal & effet de levier (année pleine)"]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 italic mb-2",children:["Origine des loyers simulés : ",p==="france"?"SCPI 100 % France":"SCPI principalement Europe / international"]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Revenu brut annuel"}),e.jsx("span",{className:"font-semibold dark:text-white",children:r(s.cashflowPlein.revenuBrut)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Intérêts & assurance déductibles"}),e.jsxs("span",{className:"font-semibold text-orange-600",children:["- ",r(s.cashflowPlein.chargesDeductibles)]})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-300",children:"Base imposable estimée"}),e.jsx("span",{className:"font-semibold dark:text-white",children:r(s.cashflowPlein.baseImposable)})]}),s.cashflowPlein.baseImposable<=0&&e.jsx("div",{className:"p-2 bg-amber-50 dark:bg-amber-900/20 rounded text-xs text-amber-700 dark:text-amber-300",children:"Base imposable négative : situation de déficit foncier théorique (non modélisé ici)."}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Impôt sur le revenu (TMI ",T,"%)"]}),e.jsxs("span",{className:"font-semibold text-red-600",children:["- ",r(s.cashflowPlein.impotIR)]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{className:"text-gray-600 dark:text-gray-300",children:["Prélèvements sociaux (",s.tauxPS,"%)"]}),e.jsx("span",{className:"font-semibold text-red-600",children:p==="france"?`- ${r(s.cashflowPlein.impotPS)}`:"0 €"})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Revenu après impôts (avant mensualités de crédit)"}),e.jsx("span",{className:"font-bold text-green-600 dark:text-green-400",children:r(s.cashflowPlein.revenuApresImpotsAvantCredit)})]}),e.jsxs("div",{className:"flex justify-between pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:"Cash-flow après impôts"}),e.jsxs("span",{className:`font-bold text-xl ${s.cashflowPlein.cashflowApresImpots>=0?"text-green-600 dark:text-green-400":"text-red-600"}`,children:[r(s.cashflowPlein.cashflowApresImpots)," / an"]})]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 text-center",children:["Soit ",r(s.cashflowPlein.cashflowApresImpots/12)," / mois"]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Évolution : Capital restant dû vs Valeur des parts"}),e.jsx(ae,{width:"100%",height:300,children:e.jsxs(Be,{data:ke,children:[e.jsx(se,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(re,{dataKey:"annee",stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(ne,{stroke:"#6b7280",tick:{fontSize:12},tickFormatter:t=>`${(t/1e3).toFixed(0)}k`}),e.jsx(le,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"},formatter:t=>r(t)}),e.jsx(ze,{}),e.jsx(ie,{type:"monotone",dataKey:"capitalRestantDu",name:"Capital restant dû",stroke:"#ef4444",strokeWidth:2}),e.jsx(ie,{type:"monotone",dataKey:"valeurParts",name:"Valeur des parts",stroke:"#10b981",strokeWidth:2})]})})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-4",children:"Cash-flow annuel après impôts"}),e.jsx(ae,{width:"100%",height:250,children:e.jsxs(Te,{data:we,children:[e.jsx(se,{strokeDasharray:"3 3",stroke:"#374151",opacity:.1}),e.jsx(re,{dataKey:"name",stroke:"#6b7280",tick:{fontSize:12}}),e.jsx(ne,{stroke:"#6b7280",tick:{fontSize:12},tickFormatter:t=>`${(t/1e3).toFixed(0)}k`}),e.jsx(le,{contentStyle:{backgroundColor:"#1f2937",border:"none",borderRadius:"8px",color:"#fff"},formatter:t=>r(t)}),e.jsx(Ee,{dataKey:"cashflow",name:"Cash-flow",fill:"#10b981"})]})})]}),e.jsxs("div",{className:"bg-gradient-to-r from-green-600 to-emerald-600 rounded-xl shadow-lg p-6 text-white text-center",children:[e.jsx("h3",{className:"text-xl font-bold mb-2",children:"Besoin de valider ce montage ?"}),e.jsx("p",{className:"text-sm mb-4 opacity-90",children:"Banque, fiscalité, choix de SCPI : faites-vous accompagner par un conseiller indépendant."}),J?e.jsxs("button",{onClick:J,className:"inline-flex items-center gap-2 bg-white text-green-600 font-semibold px-6 py-3 rounded-lg hover:bg-green-50 transition-colors",children:[e.jsx(V,{className:"w-5 h-5"}),"Demander une étude personnalisée"]}):e.jsxs("a",{href:me,className:"inline-flex items-center gap-2 bg-white text-green-600 font-semibold px-6 py-3 rounded-lg hover:bg-green-50 transition-colors",children:[e.jsx(V,{className:"w-5 h-5"}),"Demander une étude personnalisée"]})]}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800/50 rounded-lg p-4 text-xs text-gray-600 dark:text-gray-400 space-y-3",children:[e.jsx("p",{children:"⚠️ Cette simulation est indicative et simplifiée. Elle ne prend pas en compte l'intégralité des paramètres fiscaux (déficit foncier, plafonds, situation globale du foyer) ni les frais détaillés (banque, notaire, conseil, etc.)."}),e.jsxs("p",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"Modélisation simplifiée :"})," La base imposable est calculée comme revenus bruts – intérêts – assurance – frais. Le mécanisme complet du déficit foncier n'est pas reproduit à l'identique."]}),e.jsxs("p",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"font-semibold",children:"SCPI internationales :"})," Pour les SCPI investies principalement à l'international, la fiscalité est simplifiée dans ce simulateur. En pratique, les conventions fiscales et crédits d'impôt peuvent réduire la charge fiscale réelle."]}),e.jsx("p",{className:"pt-2 border-t border-gray-200 dark:border-gray-700",children:"Les SCPI sont un investissement de long terme présentant un risque de perte en capital, une liquidité limitée et une variabilité des revenus. Les résultats présentés ne constituent pas un conseil personnalisé et ne préjugent pas des performances futures."})]})]})]})]})})};export{We as default};
