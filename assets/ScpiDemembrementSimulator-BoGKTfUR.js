import{r as d,j as e}from"./index-CRFhanc3.js";import{P as ee}from"./PieChart-DXIk6Jlc.js";import{N as Ae,I as j,k as te,T as Me,D as Te,a as Fe}from"./App-CTFBvRA4.js";import{P as re}from"./pie-chart-DGhMTMoo.js";import{C as ae}from"./chevron-up-C51G6gCf.js";import{R as Ee,C as Be,X as qe,Y as De,T as Ve}from"./CartesianChart-B2qU--T2.js";import{A as Ge,a as N}from"./AreaChart-CaubXm77.js";import{L as ze}from"./Legend-C64z-WHA.js";import"./getRadiusAndStrokeWidthFromDot-BXfYB6Cy.js";const rt=({defaultMontant:se=1e5,defaultDuree:le=10,defaultRendement:ne=5,ctaUrl:v="#contact",onCtaClick:K})=>{console.log("[ScpiDemembrementSimulator] Component mounted");const[i,k]=d.useState("nue-pro"),[x,w]=d.useState(se),[n,P]=d.useState(le),[y,C]=d.useState(ne),[O,$e]=d.useState(60),[I,R]=d.useState(30),[S,U]=d.useState(17.2),[A,M]=d.useState(3.5),[Le,Ke]=d.useState(null),[Oe,_e]=d.useState(null),[c,_]=d.useState("auto"),[u,J]=d.useState(65),[g,T]=d.useState(0),[F,E]=d.useState(0),[B,de]=d.useState(!1),[q,ie]=d.useState(!1);function oe(r){if(r<=5)return 60;if(r>=20)return 75;const t=60+(r-5)/15*15;return Math.min(Math.max(t,50),80)}const a=d.useMemo(()=>{const r=x*(y/100),t=S/100,fe=I/100,je=A/100,Q=g/100,h=F/100,b=r*(1-t-fe);let f;c==="auto"?f=oe(n):f=u;const D=f/100,W=1-D,V=x*W,p=x*D,Ne=(x-p)/x*100,G=x*Math.pow(1+Q,n);let z=0;for(let m=1;m<=n;m++){const l=b*Math.pow(1+h,m-1);z+=l}const ve=0,ke=Array.from({length:n},(m,l)=>b*Math.pow(1+h,l)/Math.pow(1+je,l+1)).reduce((m,l)=>m+l,0),we=n>0&&p>0?(Math.pow(G/p,1/n)-1)*100:0,Pe=V>0?z/V*100/n:0,Ce=Array.from({length:n},(m,l)=>r*Math.pow(1+h,l)*Math.pow(1+y/100,n-l-1)).reduce((m,l)=>m+l,0),Ie=G+Ce,Re=Array.from({length:n+1},(m,l)=>{const $=l,Y=x*Math.pow(1+Q,l);let Z=0;for(let L=1;L<=l;L++)Z+=b*Math.pow(1+h,L-1);const Se=l===n?Y:p,Ue=l>0?b*Math.pow(1+h,l-1):0;return{annee:$,revenusCumulesUsufruit:Z,valeurNuePro:Se,valeurPPReference:Y,cashFlowUsufruit:Ue}});return{montantPP:x,montantPPFinal:G,coeffUsufruit:W,coeffNuePro:D,valeurNueProPourcent:f,prixUsufruit:V,prixNuePro:p,decoteNuePro:Ne,revenuBrutAnnuel:r,revenuNetAnnuel:b,revenusTotauxUsufruit:z,capitalFinalUsufruit:ve,rendementImpliciteNuePro:we,rendementGlobalUsufruit:Pe,vaCashFlows:ke,patrimoineReconstitueNP:Ie,timeline:Re}},[x,n,y,O,I,S,A,c,u,g,F]),s=r=>new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(r),o=(r,t=2)=>`${r.toFixed(t)} %`,xe=()=>e.jsxs("div",{className:"bg-gradient-to-r from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-xl p-6 mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Mode de simulation"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[e.jsxs("button",{onClick:()=>k("nue-pro"),className:`p-4 rounded-lg border-2 transition-all ${i==="nue-pro"?"border-emerald-600 bg-emerald-600 text-white shadow-lg":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:border-emerald-400"}`,children:[e.jsx("div",{className:"font-bold mb-1",children:"Nue-propri√©t√©"}),e.jsx("div",{className:"text-xs opacity-90",children:"Capitalisation diff√©r√©e"})]}),e.jsxs("button",{onClick:()=>k("usufruit"),className:`p-4 rounded-lg border-2 transition-all ${i==="usufruit"?"border-emerald-600 bg-emerald-600 text-white shadow-lg":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:border-emerald-400"}`,children:[e.jsx("div",{className:"font-bold mb-1",children:"Usufruit"}),e.jsx("div",{className:"text-xs opacity-90",children:"Revenus imm√©diats"})]}),e.jsxs("button",{onClick:()=>k("comparatif"),className:`p-4 rounded-lg border-2 transition-all ${i==="comparatif"?"border-emerald-600 bg-emerald-600 text-white shadow-lg":"border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:border-emerald-400"}`,children:[e.jsx("div",{className:"font-bold mb-1",children:"Comparatif"}),e.jsx("div",{className:"text-xs opacity-90",children:"Analyse compl√®te"})]})]})]}),me=()=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-emerald-600"}),"Param√®tres de base"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Valeur pleine propri√©t√©"}),e.jsx("input",{type:"number",value:x,onChange:r=>w(Number(r.target.value)||0),onBlur:r=>{const t=Number(r.target.value)||1e4;t<1e4?w(1e4):t>5e6&&w(5e6)},step:1e4,className:"w-full border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-3 px-4 text-lg font-semibold focus:outline-none focus:border-emerald-500"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Prix si achat en pleine propri√©t√©"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Dur√©e du d√©membrement (ann√©es)"}),e.jsx("input",{type:"number",value:n,onChange:r=>{const t=Number(r.target.value);t>=5&&t<=30&&P(t)},onBlur:r=>{const t=Number(r.target.value)||10;t<5?P(5):t>30&&P(30)},min:5,max:30,className:"w-full border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-3 px-4 text-lg font-semibold focus:outline-none focus:border-emerald-500"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Entre 5 et 30 ans"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Rendement brut annuel moyen estim√© de la SCPI (%)"}),e.jsx("input",{type:"number",value:y,onChange:r=>{const t=Number(r.target.value);t>=3&&t<=12&&C(t)},onBlur:r=>{const t=Number(r.target.value)||5;t<3?C(3):t>12&&C(12)},min:3,max:12,step:.1,className:"w-full border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-3 px-4 text-lg font-semibold focus:outline-none focus:border-emerald-500"}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 space-y-1",children:[e.jsx("p",{children:"Hypoth√®se de rendement brut annuel moyen sur la dur√©e de la simulation."}),e.jsx("p",{children:"Bas√© sur les derniers taux de distribution connus de la SCPI."}),e.jsx("p",{className:"font-medium",children:"Rendement non garanti, susceptible de varier √† la hausse comme √† la baisse."}),e.jsx("p",{className:"italic mt-1",children:"Exemple : une SCPI qui a distribu√© 5,10 % en 2024 peut √™tre simul√©e avec 5 % comme rendement moyen prudent."})]})]}),e.jsxs("div",{className:"border-t border-gray-200 dark:border-gray-700 pt-6 mt-6",children:[e.jsxs("h4",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(re,{className:"w-5 h-5 text-emerald-600"}),"Param√®tres de d√©membrement"]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-3",children:"Cl√© de r√©partition nue-propri√©t√© / usufruit"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",style:{borderColor:c==="auto"?"rgb(16, 185, 129)":"rgb(209, 213, 219)",backgroundColor:c==="auto"?"rgba(16, 185, 129, 0.05)":"transparent"},children:[e.jsx("input",{type:"radio",name:"cleMode",value:"auto",checked:c==="auto",onChange:()=>_("auto"),className:"w-4 h-4 text-emerald-600 focus:ring-emerald-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800 dark:text-white",children:"Automatique"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Cl√© standard selon la dur√©e"})]})]}),e.jsxs("label",{className:"flex items-center gap-3 p-3 border-2 rounded-lg cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",style:{borderColor:c==="manuel"?"rgb(16, 185, 129)":"rgb(209, 213, 219)",backgroundColor:c==="manuel"?"rgba(16, 185, 129, 0.05)":"transparent"},children:[e.jsx("input",{type:"radio",name:"cleMode",value:"manuel",checked:c==="manuel",onChange:()=>_("manuel"),className:"w-4 h-4 text-emerald-600 focus:ring-emerald-500"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"font-semibold text-gray-800 dark:text-white",children:"Personnalis√©e"}),e.jsx("div",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Je choisis le % de nue-propri√©t√©"})]})]})]})]}),c==="auto"?e.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-lg p-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Prix de la nue-propri√©t√© (cl√© auto)"}),e.jsx("span",{className:"text-lg font-bold text-emerald-600",children:o(a.valeurNueProPourcent,1)})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s(a.prixNuePro)}),e.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-emerald-200 dark:border-emerald-800",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-200",children:"Prix de l'usufruit (compl√©ment)"}),e.jsx("span",{className:"text-lg font-bold text-emerald-600",children:o(100-a.valeurNueProPourcent,1)})]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:s(a.prixUsufruit)})]}),e.jsx("div",{className:"mt-4 p-3 bg-white dark:bg-gray-800 rounded border border-emerald-200 dark:border-emerald-800",children:e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 flex items-start gap-2",children:[e.jsx(j,{className:"w-4 h-4 mt-0.5 flex-shrink-0 text-emerald-600"}),e.jsx("span",{children:"Cl√© indicative bas√©e sur une grille standard. La cl√© r√©elle d√©pend de la SCPI et de la soci√©t√© de gestion."})]})})]}):e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Prix de la nue-propri√©t√© (% du prix en pleine propri√©t√©)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("input",{type:"range",value:u,onChange:r=>J(Number(r.target.value)),min:40,max:90,step:.5,className:"flex-1"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"number",value:u,onChange:r=>{const t=Number(r.target.value);t>=40&&t<=90&&J(t)},min:40,max:90,step:.5,className:"w-20 border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-3 text-center font-semibold focus:outline-none focus:border-emerald-500"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400 font-semibold",children:"%"})]})]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:"Entre 40% et 90%"}),e.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-4 p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Nue-propri√©t√©"}),e.jsx("div",{className:"text-xl font-bold text-emerald-600",children:s(a.prixNuePro)})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Usufruit (",o(100-u,1),")"]}),e.jsx("div",{className:"text-xl font-bold text-emerald-600",children:s(a.prixUsufruit)})]})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Revalorisation annuelle du prix de part (%)"}),e.jsx("input",{type:"number",value:g,onChange:r=>{const t=Number(r.target.value);t>=-1&&t<=2&&T(t)},onBlur:r=>{const t=Number(r.target.value)||0;t<-1?T(-1):t>2&&T(2)},min:-1,max:2,step:.1,className:"w-full border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-3 px-4 text-lg font-semibold focus:outline-none focus:border-emerald-500"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Entre -1% et +2% - Impact sur la valeur finale de la part"})]})]})]}),e.jsxs("button",{onClick:()=>de(!B),className:"mt-6 w-full flex items-center justify-center gap-2 text-emerald-600 dark:text-emerald-400 font-semibold hover:text-emerald-700 transition-colors",children:[B?e.jsx(ae,{className:"w-4 h-4"}):e.jsx(te,{className:"w-4 h-4"}),"Param√®tres avanc√©s"]}),B&&e.jsxs("div",{className:"mt-6 space-y-4 pt-6 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"TMI - Tranche Marginale d'Imposition (%)"}),e.jsx("input",{type:"number",value:I,onChange:r=>{const t=Number(r.target.value);t>=0&&t<=45&&R(t)},onBlur:r=>{const t=Number(r.target.value)||30;t<0?R(0):t>45&&R(45)},min:0,max:45,className:"w-full border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-4 focus:outline-none focus:border-emerald-500"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Entre 0% et 45%"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Pr√©l√®vements sociaux (%)"}),e.jsx("input",{type:"number",value:S,onChange:r=>{const t=Number(r.target.value);t>=15&&t<=20&&U(t)},onBlur:r=>{const t=Number(r.target.value)||17.2;t<15?U(15):t>20&&U(20)},min:15,max:20,step:.1,className:"w-full border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-4 focus:outline-none focus:border-emerald-500"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Entre 15% et 20%"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Taux d'actualisation (%)"}),e.jsx("input",{type:"number",value:A,onChange:r=>{const t=Number(r.target.value);t>=1&&t<=6&&M(t)},onBlur:r=>{const t=Number(r.target.value)||3.5;t<1?M(1):t>6&&M(6)},min:1,max:6,step:.1,className:"w-full border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-4 focus:outline-none focus:border-emerald-500"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Entre 1% et 6% - Pour calcul de la valeur actuelle"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-200 mb-2",children:"Indexation annuelle des revenus (%)"}),e.jsx("input",{type:"number",value:F,onChange:r=>{const t=Number(r.target.value);t>=-2&&t<=3&&E(t)},onBlur:r=>{const t=Number(r.target.value)||0;t<-2?E(-2):t>3&&E(3)},min:-2,max:3,step:.1,className:"w-full border-2 border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg py-2 px-4 focus:outline-none focus:border-emerald-500"}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Entre -2% et +3% - Impact sur l'√©volution des revenus de l'usufruitier"})]})]})]}),X=()=>e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-xl p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(Me,{className:"w-5 h-5 text-emerald-600"}),"R√©sultats Nue-propri√©t√©"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Prix d'achat"}),e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:s(a.prixNuePro)}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["D√©cote : ",o(a.decoteNuePro)]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:["Valeur finale (an ",n,")"]}),e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:s(a.montantPPFinal)}),e.jsxs("div",{className:"text-xs text-emerald-600 mt-1",children:["Reconstitution pleine propri√©t√© ",g!==0&&`(+${o(g)} / an)`]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rendement implicite"}),e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:o(a.rendementImpliciteNuePro)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"TRI annuel moyen"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Coefficient fiscal"}),e.jsx("div",{className:"text-2xl font-bold text-gray-700 dark:text-gray-300",children:o(a.coeffNuePro*100)}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Bar√®me fiscal √¢ge ",O," ans"]})]})]}),e.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/30 border-l-4 border-emerald-600 p-4 rounded",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(j,{className:"w-5 h-5 text-emerald-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Avantage :"})," Pas de fiscalit√© sur les revenus pendant la dur√©e du d√©membrement. R√©cup√©ration automatique de la pleine propri√©t√© √† terme. Id√©al pour capitaliser sans imposition."]})]})})]}),H=()=>e.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-emerald-100 dark:from-emerald-900/20 dark:to-emerald-800/20 rounded-xl p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(Te,{className:"w-5 h-5 text-emerald-600"}),"R√©sultats Usufruit"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Prix d'achat"}),e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:s(a.prixUsufruit)}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Coefficient : ",o(a.coeffUsufruit*100)]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Revenus nets/an"}),e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:s(a.revenuNetAnnuel)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Apr√®s IR et PS"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:["Revenus totaux sur ",n," ans"]}),e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:s(a.revenusTotauxUsufruit)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Cumul nets"})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:"Rendement global"}),e.jsx("div",{className:"text-2xl font-bold text-emerald-600",children:o(a.rendementGlobalUsufruit)}),e.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Rendement moyen annuel"})]})]}),e.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/30 border-l-4 border-emerald-600 p-4 rounded",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsx(j,{className:"w-5 h-5 text-emerald-600 flex-shrink-0 mt-0.5"}),e.jsxs("div",{className:"text-sm text-gray-700 dark:text-gray-300",children:[e.jsx("strong",{children:"Avantage :"})," Revenus imm√©diats et investissement initial r√©duit. Attention : capital nul en fin de p√©riode, revenus soumis √† l'IR + PS."]})]})})]}),ce=()=>{const r=a.timeline;return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4 flex items-center gap-2",children:[e.jsx(Fe,{className:"w-5 h-5 text-emerald-600"}),"√âvolution sur ",n," ans"]}),e.jsx(Ee,{width:"100%",height:300,children:e.jsxs(Ge,{data:r,children:[e.jsx(Be,{strokeDasharray:"3 3"}),e.jsx(qe,{dataKey:"annee",label:{value:"Ann√©es",position:"insideBottom",offset:-5}}),e.jsx(De,{tickFormatter:t=>`${(t/1e3).toFixed(0)}k‚Ç¨`}),e.jsx(Ve,{formatter:t=>s(t),labelFormatter:t=>`Ann√©e ${t}`}),e.jsx(ze,{}),i==="usufruit"&&e.jsx(N,{type:"monotone",dataKey:"revenusCumulesUsufruit",name:"Revenus cumul√©s Usufruit",stroke:"#2563eb",fill:"#3b82f6",fillOpacity:.6}),i==="nue-pro"&&e.jsx(N,{type:"step",dataKey:"valeurNuePro",name:"Valeur Nue-propri√©t√©",stroke:"#059669",fill:"#10b981",fillOpacity:.6}),i==="comparatif"&&e.jsxs(e.Fragment,{children:[e.jsx(N,{type:"monotone",dataKey:"revenusCumulesUsufruit",name:"Revenus cumul√©s Usufruit",stroke:"#2563eb",fill:"#3b82f6",fillOpacity:.4}),e.jsx(N,{type:"step",dataKey:"valeurNuePro",name:"Valeur Nue-propri√©t√©",stroke:"#059669",fill:"#10b981",fillOpacity:.4})]})]})})]})},ue=()=>e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-800 dark:text-white mb-4",children:"Tableau comparatif"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Crit√®re"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-emerald-600",children:"Nue-propri√©t√©"}),e.jsx("th",{className:"text-right py-3 px-4 font-semibold text-emerald-600",children:"Usufruit"})]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[e.jsx("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:"Prix d'acquisition"}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold text-emerald-600",children:s(a.prixNuePro)}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold text-emerald-600",children:s(a.prixUsufruit)})]}),e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[e.jsx("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:"Revenus nets/an"}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-500",children:"0 ‚Ç¨"}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold text-emerald-600",children:s(a.revenuNetAnnuel)})]}),e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[e.jsx("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:"Revenus totaux"}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-500",children:"0 ‚Ç¨"}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold text-emerald-600",children:s(a.revenusTotauxUsufruit)})]}),e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[e.jsxs("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:["Valeur finale (an ",n,")"]}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold text-emerald-600",children:s(a.montantPP)}),e.jsx("td",{className:"py-3 px-4 text-right text-gray-500",children:"0 ‚Ç¨"})]}),e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-700",children:[e.jsx("td",{className:"py-3 px-4 text-gray-700 dark:text-gray-300",children:"Rendement annuel"}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold text-emerald-600",children:o(a.rendementImpliciteNuePro)}),e.jsx("td",{className:"py-3 px-4 text-right font-semibold text-emerald-600",children:o(a.rendementGlobalUsufruit)})]}),e.jsxs("tr",{className:"bg-gray-50 dark:bg-gray-700/50",children:[e.jsx("td",{className:"py-3 px-4 font-semibold text-gray-700 dark:text-gray-300",children:"Fiscalit√©"}),e.jsx("td",{className:"py-3 px-4 text-right text-xs text-emerald-600",children:"Aucune pendant la dur√©e"}),e.jsx("td",{className:"py-3 px-4 text-right text-xs text-emerald-600",children:"IR + PS sur revenus"})]})]})]})})]}),ge=()=>e.jsxs("div",{className:"bg-gradient-to-br from-amber-50 to-amber-100 dark:from-amber-900/20 dark:to-amber-800/20 rounded-xl p-6 mb-6",children:[e.jsxs("button",{onClick:()=>ie(!q),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("h3",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[e.jsx(j,{className:"w-5 h-5 text-amber-600"}),"Comment fonctionne le d√©membrement ?"]}),q?e.jsx(ae,{className:"w-5 h-5"}):e.jsx(te,{className:"w-5 h-5"})]}),q&&e.jsxs("div",{className:"mt-4 space-y-4 text-sm text-gray-700 dark:text-gray-300",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-emerald-600 mb-3",children:"üèõÔ∏è Nue-propri√©t√©"}),e.jsxs("ul",{className:"space-y-2 list-none",children:[e.jsx("li",{children:'‚Ä¢ Vous achetez la valeur des parts (les "murs"), pas les revenus.'}),e.jsx("li",{children:"‚Ä¢ Prix d√©cot√© par rapport √† la pleine propri√©t√© (la nue-pro vaut souvent 50 √† 80 % de la PP selon la dur√©e)."}),e.jsx("li",{children:"‚Ä¢ Aucun revenu pendant la p√©riode, donc pas d'imp√¥t ni de pr√©l√®vements sociaux sur ces parts pendant le d√©membrement."}),e.jsx("li",{children:"‚Ä¢ √Ä l'√©ch√©ance, vous r√©cup√©rez automatiquement la pleine propri√©t√© sans repayer la diff√©rence."}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Id√©al :"})," capitalisation long terme, pr√©paration de la transmission, optimisation patrimoniale en d√©membrement temporaire."]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-emerald-600 mb-3",children:"üí∞ Usufruit"}),e.jsxs("ul",{className:"space-y-2 list-none",children:[e.jsx("li",{children:"‚Ä¢ Vous achetez uniquement le droit aux revenus sur une dur√©e donn√©e."}),e.jsx("li",{children:"‚Ä¢ Prix r√©duit par rapport √† la pleine propri√©t√© (cl√© fix√©e par la SCPI selon la dur√©e du d√©membrement)."}),e.jsx("li",{children:"‚Ä¢ Revenus imm√©diats, impos√©s √† l'IR + pr√©l√®vements sociaux en personne physique ou √† l'IS en soci√©t√©."}),e.jsx("li",{children:"‚Ä¢ En fin de p√©riode, l'usufruit s'√©teint : vous ne r√©cup√©rez aucun capital."}),e.jsxs("li",{children:["‚Ä¢ ",e.jsx("strong",{children:"Id√©al :"})," besoin de cash-flow (retraite, compl√©ment de revenus) ou optimisation de tr√©sorerie en soci√©t√© √† l'IS."]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-4",children:[e.jsx("h4",{className:"font-semibold text-emerald-600 mb-3",children:"‚öñÔ∏è Quel profil pour quel choix ?"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("strong",{className:"text-emerald-600",children:"Nue-propri√©t√© :"}),e.jsxs("ul",{className:"ml-4 mt-1 space-y-1 list-none text-gray-600 dark:text-gray-400",children:[e.jsx("li",{children:"- Jeune actif ou contribuable avec TMI √©lev√©e,"}),e.jsx("li",{children:"- Objectif de capitalisation long terme,"}),e.jsx("li",{children:"- Transmission (donation de NP),"}),e.jsx("li",{children:"- Patrimoine log√© en SCI ou structure patrimoniale."})]})]}),e.jsxs("div",{children:[e.jsx("strong",{className:"text-emerald-600",children:"Usufruit :"}),e.jsxs("ul",{className:"ml-4 mt-1 space-y-1 list-none text-gray-600 dark:text-gray-400",children:[e.jsx("li",{children:"- Retrait√© ou foyer √† TMI faible,"}),e.jsx("li",{children:"- Besoin de revenus imm√©diats et temporaires,"}),e.jsx("li",{children:"- Soci√©t√© √† l'IS qui cherche √† optimiser son r√©sultat en transformant de la tr√©sorerie dormante en revenus amortissables."})]})]})]})]})]})]}),he=()=>{const r=Math.max(a.montantPPFinal-a.prixNuePro,0),t=[{name:"Investissement",value:a.prixNuePro,color:"#0f172a"},{name:"Gain potentiel",value:r,color:"#22c55e"}];return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Nue-propri√©t√© : Investissement vs Gain"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(ee,{data:t,width:280,height:280,showLabels:!0,animated:!0})}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-900 dark:bg-slate-700"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Investi"})]}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-white",children:s(a.prixNuePro)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-emerald-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Valeur √† terme"})]}),e.jsx("span",{className:"font-semibold text-emerald-600",children:s(a.montantPPFinal)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-emerald-50 to-green-50 dark:from-emerald-900/20 dark:to-green-900/20 rounded-lg border-2 border-emerald-200 dark:border-emerald-700",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Rendement implicite"}),e.jsxs("span",{className:"text-lg font-bold text-emerald-600",children:[o(a.rendementImpliciteNuePro)," / an"]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4 italic",children:"En nue-propri√©t√©, toute la performance vient de la d√©cote d'entr√©e et de la valeur de la pleine propri√©t√© r√©cup√©r√©e √† l'√©ch√©ance."})]})},be=()=>{const r=a.revenusTotauxUsufruit,t=[{name:"Investissement",value:a.prixUsufruit,color:"#0f172a"},{name:"Revenus nets",value:Math.max(r,0),color:"#eab308"}];return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-800 dark:text-white mb-4",children:"Usufruit : Investissement vs Revenus"}),e.jsx("div",{className:"flex justify-center",children:e.jsx(ee,{data:t,width:280,height:280,showLabels:!0,animated:!0})}),e.jsxs("div",{className:"mt-6 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-slate-900 dark:bg-slate-700"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Investi"})]}),e.jsx("span",{className:"font-semibold text-gray-800 dark:text-white",children:s(a.prixUsufruit)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 dark:bg-yellow-900/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full bg-yellow-500"}),e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Revenus cumul√©s"})]}),e.jsx("span",{className:"font-semibold text-yellow-600",children:s(r)})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-yellow-50 to-orange-50 dark:from-yellow-900/20 dark:to-orange-900/20 rounded-lg border-2 border-yellow-200 dark:border-yellow-700",children:[e.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Rendement global"}),e.jsxs("span",{className:"text-lg font-bold text-yellow-600",children:[o(a.rendementGlobalUsufruit)," / an"]})]})]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-4 italic",children:"En usufruit, la performance provient exclusivement des revenus per√ßus pendant la dur√©e du d√©membrement, sans capital r√©cup√©r√© √† la fin."})]})},pe=()=>e.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900/20 dark:to-slate-800/20 rounded-xl p-6 mb-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-xl font-bold text-slate-900 dark:text-white mb-2",children:"Visualisation graphique"}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Comprenez en un coup d'≈ìil la m√©canique nue-propri√©t√© / usufruit"})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[(i==="nue-pro"||i==="comparatif")&&e.jsx(he,{}),(i==="usufruit"||i==="comparatif")&&e.jsx(be,{})]})]}),ye=()=>e.jsxs("div",{className:"bg-gradient-to-br from-emerald-600 to-emerald-700 rounded-xl shadow-2xl p-8 text-center text-white",children:[e.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Besoin d'un conseil personnalis√© ?"}),e.jsx("p",{className:"text-emerald-100 mb-6 max-w-2xl mx-auto",children:"Le d√©membrement est une strat√©gie avanc√©e qui n√©cessite une analyse sur-mesure de votre situation fiscale et patrimoniale. Nos experts vous accompagnent."}),e.jsx("button",{onClick:()=>{K&&K(),v.startsWith("#")?document.querySelector(v)?.scrollIntoView({behavior:"smooth"}):window.location.href=v},className:"bg-white text-emerald-600 px-8 py-4 rounded-lg font-bold text-lg hover:bg-emerald-50 transition-colors shadow-lg",children:"Prendre rendez-vous gratuitement"})]});return e.jsxs("div",{className:"max-w-7xl mx-auto p-4 space-y-6",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-800 dark:text-white mb-3",children:"Simulateur D√©membrement SCPI"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 max-w-3xl mx-auto",children:"Comparez nue-propri√©t√© et usufruit : deux strat√©gies, deux profils d'investisseur"})]}),e.jsx(xe,{}),e.jsx(me,{}),i==="nue-pro"&&e.jsx(X,{}),i==="usufruit"&&e.jsx(H,{}),i==="comparatif"&&e.jsxs(e.Fragment,{children:[e.jsx(X,{}),e.jsx(H,{}),e.jsx(ue,{})]}),e.jsx(pe,{}),e.jsx(ce,{}),e.jsx(ge,{}),e.jsx(ye,{}),e.jsxs("div",{className:"bg-gray-50 dark:bg-gray-800 rounded-lg p-4 text-xs text-gray-600 dark:text-gray-400 text-center",children:[e.jsx(Ae,{className:"w-4 h-4 inline mr-2"}),"Les calculs sont fournis √† titre indicatif et ne constituent pas un conseil en investissement. Consultez un professionnel pour une analyse personnalis√©e."]})]})};export{rt as default};
