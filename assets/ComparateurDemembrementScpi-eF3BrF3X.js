import{r as _,j as e}from"./index-CRFhanc3.js";import{y as O,T as J,I as H}from"./App-CTFBvRA4.js";import{P as W}from"./pie-chart-DGhMTMoo.js";function E(t,a,s,n){return t*Math.pow(1+s,n)*(1-a)}function K(t,a,s){return t*Math.pow(1+a,s)}function Q(t,a,s,n){const l=K(t,s,n),i=l*(1-a),r=l-i;return{grossValue:l,ecartAmount:r,netValue:i}}function G(t){if(t.length<2)return null;const a=100,s=1e-4;let n=.1;for(let l=0;l<a;l++){let i=0,r=0;for(let o=0;o<t.length;o++)i+=t[o]/Math.pow(1+n,o),r-=o*t[o]/Math.pow(1+n,o+1);if(Math.abs(i)<s)return n*100;if(Math.abs(r)<1e-10||(n=n-i/r,n<-.99||n>10))break}return null}function X(t){const{montantPleinePropriete:a,horizonTotal:s,rendementBrut:n,revalorisation:l,tmi:i,ps:r,origineLoyers:o,fraisEntree:d,delaiJouissanceMois:w}=t,F=a,U=o==="100_france"?1:o==="100_europe"?0:o==="50_50"?.5:o==="70_30"?.7:.3,h=[-a];let m=0,f=0,g=0,P=0;for(let N=1;N<=s;N++){const D=N===1?1-w/12:1,x=F*(n/100)*D,y=x*(i/100),p=x*U*(r/100),k=y+p,b=x-k;if(m+=b,f+=x,g+=y,P+=p,N<s)h.push(b);else{const L=E(a,d/100,l/100,s);h.push(b+L)}}const C=E(a,d/100,l/100,s),B=m+C-a,c=G(h),I=m/(m+C),u=I>.6?"Revenus":I>.35?"Mixte":"Capitalisation",A=f/s,S=g/s,M=P/s,j=S+M,R=A>0?j/A*100:0,v=Q(a,d/100,l/100,s);return{scenario:"pleine_propriete",label:"SCPI Classique (Pleine propri√©t√©)",capitalInitialDebourse:a,revenusNetsAnnuelsMoyens:m/s,revenusNetsCumules:m,capitalFinalNet:C,gainNetGlobal:B,tri:c,profil:u,details:`Revenus r√©guliers + capital. Fiscalit√©: TMI ${i}% + PS ${r}% (part France).`,fiscalite:{revenusBrutsAnnuelsMoyens:A,impotIRAnnuelMoyen:S,impotPSAnnuelMoyen:M,impotTotalAnnuelMoyen:j,tauxImpositionEffectif:R},capitalBreakdown:{montantInvesti:a,valeurBruteHorizon:v.grossValue,ecartSouscriptionRetrait:d,ecartAmount:v.ecartAmount,capitalNetRecupere:v.netValue}}}function Y(t){const{montantNuePro:a,decoteNuePro:s,horizonTotal:n,dureeDemembrement:l,rendementBrut:i,revalorisation:r,tmi:o,ps:d,origineLoyers:w,fraisEntree:F,delaiJouissanceMois:U}=t,h=a*(s/100),m=w==="100_france"?1:w==="100_europe"?0:w==="50_50"?.5:w==="70_30"?.7:.3,f=[-h];let g=0,P=0,C=0,B=0;for(let y=1;y<=Math.min(l,n);y++)f.push(0);const c=Math.max(0,n-l);if(n>l){const y=a;for(let p=l+1;p<=n;p++){const k=p===l+1?1-U/12:1,b=y*(i/100)*k,L=b*(o/100),T=b*m*(d/100),q=L+T,$=b-q;if(g+=$,P+=b,C+=L,B+=T,p<n)f.push($);else{const V=E(a,F/100,r/100,n);f.push($+V)}}}const I=E(a,F/100,r/100,n),u=g+I-h,A=G(f),S="Capitalisation",M=c>0?g/c:0;let j=`Aucun revenu pendant la p√©riode de d√©membrement (${l} ans).`;c>0?j+=` Les revenus n'apparaissent qu'apr√®s la reconstitution de la pleine propri√©t√©, sur les ${c} derni√®res ann√©es dans cet exemple.`:j+=" R√©cup√©ration automatique pleine propri√©t√© √† l'√©ch√©ance.";const R=c>0?P/c:0,v=c>0?C/c:0,N=c>0?B/c:0,D=v+N,x=R>0?D/R*100:0;return{scenario:"nue_propriete",label:"Nue-propri√©t√© (D√©membrement temporaire)",capitalInitialDebourse:h,revenusNetsAnnuelsMoyens:g/n,revenusNetsCumules:g,capitalFinalNet:I,gainNetGlobal:u,tri:A,profil:S,details:j,revenusNetsPhaseAn:M,nbAnneesFlux:c,fiscalite:c>0?{revenusBrutsAnnuelsMoyens:R,impotIRAnnuelMoyen:v,impotPSAnnuelMoyen:N,impotTotalAnnuelMoyen:D,tauxImpositionEffectif:x}:void 0}}function Z(t){const{montantUsufruit:a,prixUsufruit:s,dureeUsufruit:n,horizonTotal:l,rendementBrut:i,tmi:r,ps:o,origineLoyers:d,delaiJouissanceMois:w}=t,F=a*(s/100),U=d==="100_france"?1:d==="100_europe"?0:d==="50_50"?.5:d==="70_30"?.7:.3,h=[-F];let m=0,f=0,g=0,P=0;for(let x=1;x<=Math.min(n,l);x++){const y=x===1?1-w/12:1,p=a*(i/100)*y,k=p*(r/100),b=p*U*(o/100),L=k+b,T=p-L;m+=T,f+=p,g+=k,P+=b,h.push(T)}for(let x=n+1;x<=l;x++)h.push(0);const C=0,B=m-F,c=G(h),I="Revenus",u=Math.min(n,l),A=u>0?m/u:0,S=r>=30;let M=`Revenus uniquement pendant ${n} ans. Capital nul √† l'extinction. Prix d'entr√©e r√©duit.`;S&&(M=`Revenus pendant ${n} ans. Capital nul √† l'extinction. ‚ö†Ô∏è √Ä TMI ${r}%, la fiscalit√© p√©nalise fortement ce montage.`);const j=u>0?f/u:0,R=u>0?g/u:0,v=u>0?P/u:0,N=R+v,D=j>0?N/j*100:0;return{scenario:"usufruit",label:"Usufruit (D√©membrement temporaire)",capitalInitialDebourse:F,revenusNetsAnnuelsMoyens:m/l,revenusNetsCumules:m,capitalFinalNet:C,gainNetGlobal:B,tri:c,profil:I,details:M,revenusNetsPhaseAn:A,nbAnneesFlux:u,showTaxWarning:S,fiscalite:{revenusBrutsAnnuelsMoyens:j,impotIRAnnuelMoyen:R,impotPSAnnuelMoyen:v,impotTotalAnnuelMoyen:N,tauxImpositionEffectif:D}}}const ae=()=>{const[t,a]=_.useState({tmi:30,ps:17.2,needsIncome:!1,montantBase:1e5,horizonTotal:15,rendementBrut:5,revalorisation:0,origineLoyers:"100_france",fraisEntree:10,delaiJouissanceMois:6,montantPleinePropriete:1e5,dureeDemembrement:10,decoteNuePro:60,montantNuePro:1e5,dureeUsufruit:10,prixUsufruit:40,montantUsufruit:1e5,enableUsufruit:!0}),[s,n]=_.useState(!1);_.useEffect(()=>{a(r=>({...r,montantPleinePropriete:r.montantBase,montantNuePro:r.montantBase,montantUsufruit:r.montantBase}))},[t.montantBase]);const l=_.useMemo(()=>{const r=X(t),o=Y(t),d=t.enableUsufruit?Z(t):void 0;return{pleinePropriete:r,nuePropriete:o,usufruit:d}},[t]),i=(r,o)=>{a(d=>({...d,[r]:o}))};return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx("h1",{className:"text-4xl font-bold text-white mb-4",children:"Comparateur SCPI : Pleine Propri√©t√© vs D√©membrement"}),e.jsxs("p",{className:"text-lg text-gray-300 max-w-3xl mx-auto mb-3",children:["Comparez trois strat√©gies √† partir d'une m√™me base de ",t.montantBase.toLocaleString("fr-FR")," ‚Ç¨ de pleine propri√©t√© :"]}),e.jsxs("div",{className:"text-base text-gray-400 max-w-3xl mx-auto space-y-1",children:[e.jsx("p",{children:"‚Ä¢ Achat classique (revenus + capital)"}),e.jsx("p",{children:"‚Ä¢ Achat de la nue-propri√©t√© avec d√©cote (capitalisation long terme)"}),e.jsx("p",{children:"‚Ä¢ Achat de l'usufruit (recherche de revenus sur une dur√©e limit√©e)"})]}),e.jsx("p",{className:"text-sm text-gray-500 max-w-3xl mx-auto mt-4",children:"Outil professionnel pour CGP avec mod√©lisation fiscale simplifi√©e."})]}),e.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl p-8 mb-8 border border-gray-700",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"w-10 h-10 bg-orange-500 text-white rounded-full flex items-center justify-center mr-3",children:"1"}),"Param√®tres communs"]}),e.jsxs("div",{className:"mb-8",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-4",children:"Profil fiscal de l'investisseur"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Tranche marginale d'imposition (TMI)"}),e.jsxs("select",{value:t.tmi,onChange:r=>i("tmi",Number(r.target.value)),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:[e.jsx("option",{value:"0",children:"0% - Non imposable"}),e.jsx("option",{value:"11",children:"11% - 1√®re tranche"}),e.jsx("option",{value:"30",children:"30% - 2√®me tranche"}),e.jsx("option",{value:"41",children:"41% - 3√®me tranche"}),e.jsx("option",{value:"45",children:"45% - 4√®me tranche"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Pr√©l√®vements sociaux (PS)"}),e.jsx("input",{type:"number",step:"0.1",value:t.ps,onChange:r=>i("ps",Number(r.target.value)),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Besoin de revenus pendant la p√©riode ?"}),e.jsxs("div",{className:"flex gap-4 mt-3",children:[e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",checked:t.needsIncome===!0,onChange:()=>i("needsIncome",!0),className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"ml-2 text-gray-200",children:"Oui"})]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"radio",checked:t.needsIncome===!1,onChange:()=>i("needsIncome",!1),className:"w-4 h-4 text-orange-500"}),e.jsx("span",{className:"ml-2 text-gray-200",children:"Non"})]})]})]})]})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-200 mb-4",children:"Caract√©ristiques de la SCPI"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Montant de r√©f√©rence (‚Ç¨)"}),e.jsx("input",{type:"number",step:"1000",value:t.montantBase,onChange:r=>i("montantBase",Number(r.target.value)),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Horizon de projection (ann√©es)"}),e.jsx("input",{type:"number",min:t.dureeDemembrement,max:"30",value:t.horizonTotal,onChange:r=>i("horizonTotal",Number(r.target.value)),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Rendement brut (%)"}),e.jsx("input",{type:"number",step:"0.1",value:t.rendementBrut,onChange:r=>i("rendementBrut",Number(r.target.value)),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Revalorisation prix de part (%/an)"}),e.jsx("input",{type:"number",step:"0.1",min:"-1",max:"3",value:t.revalorisation,onChange:r=>i("revalorisation",Number(r.target.value)),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Origine des loyers"}),e.jsxs("select",{value:t.origineLoyers,onChange:r=>i("origineLoyers",r.target.value),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white",children:[e.jsx("option",{value:"100_france",children:"100% France"}),e.jsx("option",{value:"100_europe",children:"100% Europe"}),e.jsx("option",{value:"50_50",children:"50/50 France/Europe"}),e.jsx("option",{value:"70_30",children:"70/30 France/Europe"}),e.jsx("option",{value:"30_70",children:"30/70 France/Europe"})]})]}),s&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Frais entr√©e/sortie (%)"}),e.jsx("input",{type:"number",step:"0.5",value:t.fraisEntree,onChange:r=>i("fraisEntree",Number(r.target.value)),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"D√©lai de jouissance (mois)"}),e.jsx("input",{type:"number",min:"0",max:"12",value:t.delaiJouissanceMois,onChange:r=>i("delaiJouissanceMois",Number(r.target.value)),className:"w-full px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white"})]})]})]}),e.jsxs("button",{onClick:()=>n(!s),className:"mt-4 text-sm text-orange-400 hover:text-orange-300 flex items-center gap-2",children:[s?"‚ñº Masquer":"‚ñ∂ Afficher"," les param√®tres avanc√©s"]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl p-8 mb-8 border border-gray-700",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-6 flex items-center",children:[e.jsx("span",{className:"w-10 h-10 bg-orange-500 text-white rounded-full flex items-center justify-center mr-3",children:"2"}),"Param√®tres des sc√©narios"]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-blue-900/20 border-2 border-blue-500 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-400 mb-4 flex items-center gap-2",children:[e.jsx(O,{className:"w-5 h-5"}),"Pleine Propri√©t√©"]}),e.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"SCPI classique : revenus + capital"}),e.jsxs("div",{className:"text-xs text-gray-400 bg-gray-900/50 p-3 rounded",children:["Utilise le montant de r√©f√©rence: ",e.jsxs("strong",{className:"text-white",children:[t.montantBase.toLocaleString("fr-FR")," ‚Ç¨"]})]})]}),e.jsxs("div",{className:"bg-green-900/20 border-2 border-green-500 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-green-400 mb-4 flex items-center gap-2",children:[e.jsx(J,{className:"w-5 h-5"}),"Nue-Propri√©t√©"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Dur√©e d√©membrement (ann√©es)"}),e.jsx("input",{type:"number",min:"5",max:t.horizonTotal,value:t.dureeDemembrement,onChange:r=>i("dureeDemembrement",Number(r.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Cl√© nue-propri√©t√© (%)"}),e.jsx("input",{type:"number",min:"30",max:"90",value:t.decoteNuePro,onChange:r=>{const o=Number(r.target.value);i("decoteNuePro",o),i("prixUsufruit",100-o)},className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm"})]}),e.jsxs("div",{className:"text-xs text-gray-400 bg-gray-900/50 p-2 rounded",children:["Prix pay√©: ",e.jsxs("strong",{className:"text-green-400",children:[(t.montantNuePro*t.decoteNuePro/100).toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]})]})]}),e.jsxs("div",{className:`border-2 rounded-xl p-6 ${t.enableUsufruit?"bg-purple-900/20 border-purple-500":"bg-gray-900/50 border-gray-600 opacity-50"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h3",{className:"text-lg font-bold text-purple-400 flex items-center gap-2",children:[e.jsx(W,{className:"w-5 h-5"}),"Usufruit"]}),e.jsxs("label",{className:"flex items-center cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:t.enableUsufruit,onChange:r=>i("enableUsufruit",r.target.checked),className:"w-4 h-4"}),e.jsx("span",{className:"ml-2 text-xs text-gray-300",children:"Activer"})]})]}),t.enableUsufruit&&e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Dur√©e usufruit (ann√©es)"}),e.jsx("input",{type:"number",min:"5",max:t.horizonTotal,value:t.dureeUsufruit,onChange:r=>i("dureeUsufruit",Number(r.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-medium text-gray-300 mb-1",children:"Cl√© usufruit (%)"}),e.jsx("input",{type:"number",min:"10",max:"70",value:t.prixUsufruit,onChange:r=>i("prixUsufruit",Number(r.target.value)),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded text-white text-sm"})]}),e.jsxs("div",{className:"text-xs text-gray-400 bg-gray-900/50 p-2 rounded",children:["Prix pay√©: ",e.jsxs("strong",{className:"text-purple-400",children:[(t.montantUsufruit*t.prixUsufruit/100).toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]})]})]})]})]}),e.jsxs("div",{className:"bg-gray-800 rounded-2xl shadow-xl p-8 mb-8 border border-gray-700",children:[e.jsxs("h2",{className:"text-2xl font-bold text-white mb-4 flex items-center",children:[e.jsx("span",{className:"w-10 h-10 bg-orange-500 text-white rounded-full flex items-center justify-center mr-3",children:"3"}),"R√©sultats comparatifs"]}),e.jsx("div",{className:"bg-blue-900/20 border border-blue-500/30 rounded-lg p-4 mb-6",children:e.jsxs("p",{className:"text-sm text-gray-300",children:["Les trois sc√©narios sont calcul√©s √† partir d'un m√™me montant de pleine propri√©t√© de r√©f√©rence (",t.montantBase.toLocaleString("fr-FR")," ‚Ç¨). La nue-propri√©t√© et l'usufruit b√©n√©ficient d'une d√©cote : le capital r√©ellement d√©bours√© est respectivement de"," ",e.jsxs("strong",{className:"text-white",children:[(t.montantNuePro*t.decoteNuePro/100).toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})," et"," ",e.jsxs("strong",{className:"text-white",children:[(t.montantUsufruit*t.prixUsufruit/100).toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})," dans cet exemple."]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[e.jsx(z,{result:l.pleinePropriete,needsIncome:t.needsIncome}),e.jsx(z,{result:l.nuePropriete,needsIncome:t.needsIncome}),l.usufruit&&e.jsx(z,{result:l.usufruit,needsIncome:t.needsIncome})]}),e.jsx(ee,{results:l})]}),e.jsxs("div",{className:"bg-blue-900/20 border border-blue-500 rounded-xl p-6",children:[e.jsxs("h3",{className:"text-lg font-bold text-blue-400 mb-3 flex items-center gap-2",children:[e.jsx(H,{className:"w-5 h-5"}),"Informations importantes"]}),e.jsxs("div",{className:"text-sm text-gray-300 space-y-2",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Mod√©lisation simplifi√©e :"})," Cette simulation utilise une fiscalit√© simplifi√©e (revenus fonciers = TMI + PS sur la part France). Elle ne prend pas en compte le d√©ficit foncier, les charges d√©ductibles d√©taill√©es, ni la fiscalit√© sur plus-value √† la revente."]}),e.jsx("p",{children:e.jsx("strong",{children:"Principes du d√©membrement :"})}),e.jsxs("ul",{className:"list-disc list-inside ml-4 space-y-1",children:[e.jsxs("li",{children:[e.jsx("strong",{children:"Pleine propri√©t√© :"})," Achat classique, perception des revenus + conservation du capital."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Nue-propri√©t√© :"})," Achat des murs avec d√©cote, aucun revenu pendant la dur√©e du d√©membrement, r√©cup√©ration automatique de la pleine propri√©t√© √† l'√©ch√©ance (remembrement)."]}),e.jsxs("li",{children:[e.jsx("strong",{children:"Usufruit :"})," Achat des revenus sur une dur√©e d√©termin√©e, capital nul √† l'extinction de l'usufruit."]})]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Cl√©s de d√©membrement :"})," Les pourcentages de nue-propri√©t√© et d'usufruit sont param√©trables et doivent √™tre align√©s sur les grilles fiscales ou bar√®mes viagers de la SCPI."]}),e.jsx("p",{className:"text-blue-400 font-semibold",children:"Outil √† vocation p√©dagogique pour professionnels CGP. Ne constitue pas un conseil en investissement."})]})]})]})},z=({result:t,needsIncome:a})=>{const s=a&&(t.scenario==="pleine_propriete"||t.scenario==="usufruit")||!a&&t.scenario==="nue_propriete",n=t.scenario==="pleine_propriete"?"blue":t.scenario==="nue_propriete"?"green":"purple";return e.jsxs("div",{className:`bg-${n}-900/30 border-2 border-${n}-500 rounded-xl p-6 relative`,children:[s&&e.jsx("div",{className:"absolute -top-3 -right-3 bg-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full",children:"‚ú® Align√© avec vos besoins"}),e.jsx("h3",{className:`text-xl font-bold text-${n}-400 mb-2`,children:t.label}),e.jsx("p",{className:"text-xs text-gray-400 mb-4",children:t.details}),e.jsxs("div",{className:"space-y-3",children:[t.capitalBreakdown?e.jsxs("div",{className:"bg-gray-900/50 -mx-6 px-6 py-4 space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-200 mb-3",children:"üí∞ Investissement & capital"}),e.jsxs("div",{className:"space-y-2 text-xs",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Montant investi (base de calcul des revenus)"}),e.jsxs("span",{className:"text-white font-bold text-base",children:[t.capitalBreakdown.montantInvesti.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-400",children:"Valeur brute th√©orique √† l'horizon"}),e.jsxs("span",{className:"text-white font-semibold",children:[t.capitalBreakdown.valeurBruteHorizon.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("span",{className:"text-gray-400",children:["√âcart souscription/retrait (",t.capitalBreakdown.ecartSouscriptionRetrait,"%)"]}),e.jsxs("span",{className:"text-red-400 font-semibold",children:["‚àí",t.capitalBreakdown.ecartAmount.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-700",children:[e.jsx("span",{className:"text-gray-300 font-medium",children:"Capital net r√©cup√©r√© en cas de revente"}),e.jsxs("span",{className:"text-green-400 font-bold text-base",children:[t.capitalBreakdown.capitalNetRecupere.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]})]}),e.jsxs("div",{className:"text-xs text-gray-500 italic pt-2 border-t border-gray-700",children:["Les ",t.capitalBreakdown.montantInvesti.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨ sont int√©gralement investis et servent de base au calcul des loyers. L'√©cart souscription/retrait n'impacte pas les revenus annuels mais uniquement le capital net r√©cup√©r√© en cas de revente."]})]}):e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Capital initial d√©bours√©"}),e.jsxs("div",{className:"text-2xl font-bold text-white",children:[t.capitalInitialDebourse.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-700 space-y-2",children:[t.revenusNetsPhaseAn!==void 0&&t.nbAnneesFlux!==void 0&&t.nbAnneesFlux>0&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Revenus nets/an (pendant phase de revenus)"}),e.jsxs("div",{className:"text-base font-semibold text-white",children:[t.revenusNetsPhaseAn.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨",e.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["sur ",t.nbAnneesFlux," ans"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Revenus nets/an (moyenne)"}),e.jsxs("div",{className:"text-lg font-semibold text-white",children:[t.revenusNetsAnnuelsMoyens.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]}),!t.capitalBreakdown&&e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Capital final"}),e.jsxs("div",{className:"text-lg font-semibold text-white",children:[t.capitalFinalNet.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]})]})]}),t.fiscalite&&e.jsxs("div",{className:"pt-3 border-t border-gray-700 bg-gray-900/50 -mx-6 px-6 py-3 space-y-2",children:[e.jsx("div",{className:"text-xs font-semibold text-gray-300 mb-2",children:"üìä Fiscalit√© annuelle moyenne"}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Revenus bruts"}),e.jsxs("div",{className:"text-white font-semibold",children:[t.fiscalite.revenusBrutsAnnuelsMoyens.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Imp√¥t IR"}),e.jsxs("div",{className:"text-red-400 font-semibold",children:["-",t.fiscalite.impotIRAnnuelMoyen.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Pr√©l√®vements sociaux"}),e.jsxs("div",{className:"text-red-400 font-semibold",children:["-",t.fiscalite.impotPSAnnuelMoyen.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-gray-500",children:"Taux effectif"}),e.jsxs("div",{className:"text-orange-400 font-bold",children:[t.fiscalite.tauxImpositionEffectif.toFixed(1),"%"]})]})]})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-700",children:[e.jsx("div",{className:"text-xs text-gray-400",children:"Gain net global"}),e.jsxs("div",{className:`text-xl font-bold ${t.gainNetGlobal>0?"text-green-400":"text-red-400"}`,children:[t.gainNetGlobal>0?"+":"",t.gainNetGlobal.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsx("span",{className:"text-xs text-gray-400",children:"TRI"}),e.jsx("span",{className:"text-lg font-bold text-white",children:t.tri!==null?`${t.tri.toFixed(2)}%`:"N/A"})]}),e.jsx("div",{className:"pt-2",children:e.jsxs("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${t.profil==="Revenus"?"bg-blue-500 text-white":t.profil==="Capitalisation"?"bg-green-500 text-white":"bg-purple-500 text-white"}`,children:["Profil ",t.profil]})}),t.showTaxWarning&&e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700 bg-yellow-900/20 -mx-6 -mb-6 px-6 py-4 rounded-b-xl",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("span",{className:"text-yellow-500 text-lg",children:"‚ö†Ô∏è"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-xs font-semibold text-yellow-400 mb-1",children:"Avertissement fiscal"}),e.jsx("div",{className:"text-xs text-gray-300",children:"√Ä ce niveau de fiscalit√©, l'usufruit en direct est fortement p√©nalis√© par l'imp√¥t. Ce type de montage est souvent plus adapt√© √† des structures soumises √† l'IS ou √† des investisseurs faiblement impos√©s."})]})]})})]})]})},ee=({results:t})=>{const a=[t.pleinePropriete,t.nuePropriete,t.usufruit].filter(Boolean);return e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b-2 border-gray-600",children:[e.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-300",children:"Crit√®re"}),a.map(s=>e.jsx("th",{className:"text-center py-3 px-4 font-semibold text-gray-300",children:s.label},s.scenario))]})}),e.jsxs("tbody",{children:[e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("td",{className:"py-3 px-4 text-gray-300 font-medium",children:"Capital initial d√©bours√©"}),a.map(s=>e.jsxs("td",{className:"text-center py-3 px-4 text-white font-semibold",children:[s.capitalInitialDebourse.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]},s.scenario))]}),e.jsxs("tr",{className:"border-b border-gray-700 bg-gray-900/50",children:[e.jsx("td",{className:"py-3 px-4 text-gray-300 font-medium",children:"Revenus nets cumul√©s"}),a.map(s=>e.jsxs("td",{className:"text-center py-3 px-4 text-white font-semibold",children:[s.revenusNetsCumules.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]},s.scenario))]}),e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("td",{className:"py-3 px-4 text-gray-300 font-medium",children:"Capital final net"}),a.map(s=>e.jsxs("td",{className:"text-center py-3 px-4 text-white font-semibold",children:[s.capitalFinalNet.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]},s.scenario))]}),e.jsxs("tr",{className:"border-b border-gray-700 bg-gray-900/50",children:[e.jsx("td",{className:"py-3 px-4 text-gray-300 font-medium",children:"Gain net global"}),a.map(s=>e.jsxs("td",{className:`text-center py-3 px-4 font-bold ${s.gainNetGlobal>0?"text-green-400":"text-red-400"}`,children:[s.gainNetGlobal>0?"+":"",s.gainNetGlobal.toLocaleString("fr-FR",{maximumFractionDigits:0})," ‚Ç¨"]},s.scenario))]}),e.jsxs("tr",{className:"border-b border-gray-700",children:[e.jsx("td",{className:"py-3 px-4 text-gray-300 font-medium",children:"TRI"}),a.map(s=>e.jsx("td",{className:"text-center py-3 px-4 text-white font-bold text-lg",children:s.tri!==null?`${s.tri.toFixed(2)}%`:"N/A"},s.scenario))]}),e.jsxs("tr",{className:"bg-gray-900/50",children:[e.jsx("td",{className:"py-3 px-4 text-gray-300 font-medium",children:"Profil"}),a.map(s=>e.jsx("td",{className:"text-center py-3 px-4",children:e.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-semibold ${s.profil==="Revenus"?"bg-blue-500 text-white":s.profil==="Capitalisation"?"bg-green-500 text-white":"bg-purple-500 text-white"}`,children:s.profil})},s.scenario))]})]})]})})};export{ae as default};
